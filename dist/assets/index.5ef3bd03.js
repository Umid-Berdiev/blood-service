import{an as e,q as t,E as n,H as i,C as a,x as o,r as s,A as r,J as l,j as u,o as c,d,e as p,t as f,s as m,m as v,k as h,w as y,g as _,T as b,i as g,f as w,K as k,z as S,_ as x}from"./index.64f80ae1.js";import{a as C,b as j,c as T}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang.c7702ada.js";import{_ as A,a as $}from"./VControl.6c3280e9.js";import{u as L}from"./viewWrapper.a105c182.js";import{s as P}from"./sleep.2a252ff4.js";import{a as E,g as O}from"./patient.bd123b14.js";import"./VIMaskInput.vue_vue_type_script_lang.2aa0cfed.js";import"./VInput.vue_vue_type_script_setup_true_lang.cd1d6ea2.js";import"./VTextarea.vue_vue_type_script_setup_true_lang.54f2cb2b.js";const V=e({"node_modules/.pnpm/vue-scrollto@2.20.0/node_modules/vue-scrollto/vue-scrollto.js"(e,t){var n,i;n=e,i=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=.1,i="function"==typeof Float32Array;function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function r(e,t,n){return((a(t,n)*e+o(t,n))*e+s(t))*e}function l(e,t,n){return 3*a(t,n)*e*e+2*o(t,n)*e+s(t)}function u(e){return e}var c=function(e,t,a,o){if(!(0<=e&&e<=1&&0<=a&&a<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&a===o)return u;for(var s=i?new Float32Array(11):new Array(11),c=0;c<11;++c)s[c]=r(c*n,e,a);function d(t){for(var i=0,o=1;10!==o&&s[o]<=t;++o)i+=n;--o;var u=i+(t-s[o])/(s[o+1]-s[o])*n,c=l(u,e,a);return c>=.001?function(e,t,n,i){for(var a=0;a<4;++a){var o=l(t,n,i);if(0===o)return t;t-=(r(t,n,i)-e)/o}return t}(t,u,e,a):0===c?u:function(e,t,n,i,a){var o,s,l=0;do{(o=r(s=t+(n-t)/2,i,a)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(t,i,i+n,e,a)}return function(e){return 0===e?0:1===e?1:r(d(e),t,o)}},d={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=!1;try{var f=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,f)}catch($){}var m=function(e){return"string"!=typeof e?e:document.querySelector(e)},v=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var a=0;a<t.length;a++)e.addEventListener(t[a],n,!!p&&i)},h=function(e,t,n){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],n)},y=function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},_=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],b={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function g(e){b=t({},b,e)}var w=function(){var t,n,i,a,o,s,r,l,u,p,f,g,w,k,S,x,C,j,T,A,$,L,P,E,O,V,K,q=function(e){l&&(P=e,A=!0)};function D(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function M(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function I(){$=y(n),L=y(t),g&&(S=L.left-$.left+s,j=S-k),w&&(C=L.top-$.top+s,T=C-x)}function z(e){if(A)return Q();O||(O=e),o||I(),V=e-O,K=Math.min(V/i,1),K=E(K),F(n,x+T*K,k+j*K),V<i?window.requestAnimationFrame(z):Q()}function Q(){A||F(n,C,S),O=!1,h(n,_,q),A&&f&&f(P,t),!A&&p&&p(t)}function F(e,t,n){w&&(e.scrollTop=t),g&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(w&&(document.documentElement.scrollTop=t),g&&(document.documentElement.scrollLeft=n))}return function(h,y){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(y)?S=y:"number"==typeof y&&(S.duration=y),!(t=m(h)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+h);if(n=m(S.container||b.container),i=S.hasOwnProperty("duration")?S.duration:b.duration,o=S.hasOwnProperty("lazy")?S.lazy:b.lazy,a=S.easing||b.easing,s=S.hasOwnProperty("offset")?S.offset:b.offset,r=S.hasOwnProperty("force")?!1!==S.force:b.force,l=S.hasOwnProperty("cancelable")?!1!==S.cancelable:b.cancelable,u=S.onStart||b.onStart,p=S.onDone||b.onDone,f=S.onCancel||b.onCancel,g=void 0===S.x?b.x:S.x,w=void 0===S.y?b.y:S.y,"function"==typeof s&&(s=s(t,n)),k=M(n),x=D(n),I(),A=!1,!r){var $="body"===n.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:n.offsetHeight,L=x,O=L+$,V=C-s,K=V+t.offsetHeight;if(V>=L&&K<=O)return void(p&&p(t))}if(u&&u(t),T||j)return"string"==typeof a&&(a=d[a]||d.ease),E=c.apply(c,a),v(n,_,q,{passive:!0}),window.requestAnimationFrame(z),function(){P=null,A=!0};p&&p(t)}},k=w(),S=[];function x(e){var t=function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S[t]}(e);return t||(S.push(t={el:e,binding:{}}),t)}function C(e){var t=x(this).binding;if(t.value){if(e.preventDefault(),"string"==typeof t.value)return k(t.value);k(t.value.el||t.value.element,t.value)}}var j={bind:function(e,t){x(e).binding=t,v(e,"click",C)},unbind:function(e){!function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S.splice(t,1),!0}(e),h(e,"click",C)},update:function(e,t){x(e).binding=t}},T={bind:j.bind,unbind:j.unbind,update:j.update,beforeMount:j.bind,unmounted:j.unbind,updated:j.update,scrollTo:k,bindings:S},A=function(e,t){t&&g(t),e.directive("scroll-to",T),(e.config.globalProperties||e.prototype).$scrollTo=T.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=T,window.VueScrollTo.setDefaults=g,window.VueScrollTo.scroller=w,window.Vue.use&&window.Vue.use(A)),T.install=A,T},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self)["vue-scrollto"]=i()}})(),K=["onSubmit"],q={class:"stepper-form is-justify-content-center"},D={class:"form-sections"},M={key:0,id:"form-step-0",class:"form-section is-active"},I={class:"form-section-title"},z=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],Q={class:"form-section-inner"},F={class:"help has-text-danger"},H={key:0,id:"form-step-1",class:"form-section is-active"},N={class:"form-section-title"},R=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],G={class:"form-section-inner"},J={key:0,id:"form-step-2",class:"form-section is-active"},U={class:"form-section-title"},W=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],B={class:"form-section-inner"},X={class:"navigation-buttons"},Y={class:"buttons is-right"},Z={class:"form-stepper"},ee={key:0,class:"steps is-vertical is-thin is-short"},te=p("a",{href:"#",class:"steps-marker"},null,-1),ne={class:"steps-content"},ie={class:"step-number"},ae={class:"step-info"},oe=p("a",{href:"#",class:"steps-marker"},null,-1),se={class:"steps-content"},re={class:"step-number"},le={class:"step-info"},ue=p("a",{href:"#",class:"steps-marker"},null,-1),ce={class:"steps-content"},de={class:"step-number"},pe={class:"step-info"},fe={key:1,class:"form-help"},me={key:0,id:"help-section-0",class:"form-help-inner is-active"},ve=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],he=p("h3",null,"General Information",-1),ye=p("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),_e=p("div",{class:"list-wrap"},[p("ul",null,[p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")]),p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")]),p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")])])],-1),be={key:1,id:"help-section-1",class:"form-help-inner is-active"},ge=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],we=p("h3",null,"Shipment Owner",-1),ke=p("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),Se=p("div",{class:"list-wrap"},[p("ul",null,[p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")]),p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")])])],-1),xe={key:2,id:"help-section-2",class:"form-help-inner is-active"},Ce=[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],je=p("h3",null,"Shipment Taxes",-1),Te=p("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Ae=p("div",{class:"list-wrap"},[p("ul",null,[p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")]),p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")]),p("li",null,[p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),p("span",null,"Some nice list item")])])],-1),$e=V.__esModule?V.default:V,Le=t({__name:"index",setup(e){const t=n(),V=i(),{scrollTo:Le}=$e,{t:Pe}=a(),Ee=o(0),Oe=o(!1),Ve=o(-1),Ke=L(),qe=s({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:null,passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),De=s({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Me=o([]);r((async()=>{const e=await E();Me.value=e.result})),Ke.setPageTitle(Pe("Registration")),l({title:Pe("Registration")});const Ie=async()=>{var e;if(2===Ee.value){if(Object.assign(De,{last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Oe.value)return;try{Oe.value=!0;const e=await O(qe);V.success("New patient data is successfully stored!"),t.push(`/app/registration/unified-donor-register/${e.id}`)}catch(n){if(Object.assign(De,null==(e=n.response)?void 0:e.data.errors),De.last_name.length||De.first_name.length||De.father_name.length||De.birth_date.length||De.gender.length)return Le("#form-step-0",1e3);if(De.passport_series.length||De.passport_number.length||De.issued_by.length||De.when_issued.length)return Le("#form-step-1",1e3)}finally{Oe.value=!1}}Oe.value=!0,await P(1e3),Ee.value+=1,S((()=>{Le(`#form-step-${Ee.value}`,1e3),Oe.value=!1}))};function ze(e){De[e]=""}return(e,t)=>{const n=u("Multiselect"),i=A,a=$,o=C,s=j,r=T,l=x;return c(),d("form",{onSubmit:v(Ie,["prevent"])},[p("div",q,[p("div",D,[Ee.value>=0?(c(),d("div",M,[p("h3",I,[p("span",null,f(e.$t("Personal_Info")),1),p("button",{type:"button",class:"help-button",tabindex:"0",onKeydown:t[0]||(t[0]=m(v((e=>0===Ve.value?Ve.value=-1:Ve.value=0),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>0===Ve.value?Ve.value=-1:Ve.value=0)},z,32)]),p("div",Q,[h(a,{label:e.$t("Category"),required:""},{default:y((()=>[h(i,null,{default:y((()=>[h(n,{modelValue:qe.patient_category_id,"onUpdate:modelValue":t[2]||(t[2]=e=>qe.patient_category_id=e),options:Me.value,placeholder:e.$t("Select_category"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"]),p("p",F,f(De.patient_category_id[0]),1)])),_:1})])),_:1},8,["label"]),h(o,{patient:qe,errors:De,onEditing:ze},null,8,["patient","errors"])])])):_("",!0),h(b,{name:"fade-slow"},{default:y((()=>[Ee.value>=1?(c(),d("div",H,[p("h3",N,[p("span",null,f(e.$t("Certifying_document")),1),p("button",{type:"button",class:"help-button",onKeydown:t[3]||(t[3]=m(v((e=>1===Ve.value?Ve.value=-1:Ve.value=1),["prevent"]),["space"])),onClick:t[4]||(t[4]=e=>1===Ve.value?Ve.value=-1:Ve.value=1)},R,32)]),p("div",G,[h(s,{patient:qe,errors:De,onEditing:ze},null,8,["patient","errors"])])])):_("",!0)])),_:1}),h(b,{name:"fade-slow"},{default:y((()=>[Ee.value>=2?(c(),d("div",J,[p("h3",U,[p("span",null,f(e.$t("Address")),1),p("button",{type:"button",class:"help-button",onKeydown:t[5]||(t[5]=m(v((e=>2===Ve.value?Ve.value=-1:Ve.value=2),["prevent"]),["space"])),onClick:t[6]||(t[6]=e=>2===Ve.value?Ve.value=-1:Ve.value=2)},W,32)]),p("div",B,[h(r,{patient:qe,errors:De,onEditing:ze},null,8,["patient","errors"])])])):_("",!0)])),_:1}),p("div",X,[p("div",Y,[h(l,{type:"submit",color:"primary",bold:"",loading:Oe.value,disabled:Oe.value,tabindex:"0"},{default:y((()=>[g(f(2==Ee.value?e.$t("Save"):e.$t("Continue")),1)])),_:1},8,["loading","disabled"])])])]),p("div",Z,[-1===Ve.value?(c(),d("ul",ee,[p("li",{id:"step-segment-0",class:w([[0===Ee.value&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:t[7]||(t[7]=m(v((e=>Ee.value>=0&&k(Le)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:t[8]||(t[8]=v((e=>Ee.value>=0&&k(Le)("#form-step-0",800,{offset:-20})),["prevent"]))},[te,p("div",ne,[p("p",ie,f(e.$t("Step"))+" 1",1),p("p",ae,f(e.$t("Personal_Info")),1)])],34),p("li",{id:"step-segment-1",class:w([[1===Ee.value&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:t[9]||(t[9]=m(v((e=>Ee.value>=1&&k(Le)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:t[10]||(t[10]=v((e=>Ee.value>=1&&k(Le)("#form-step-1",800,{offset:-20})),["prevent"]))},[oe,p("div",se,[p("p",re,f(e.$t("Step"))+" 2",1),p("p",le,f(e.$t("Certifying_document")),1)])],34),p("li",{id:"step-segment-2",class:w([[2===Ee.value&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:t[11]||(t[11]=m(v((e=>Ee.value>=2&&k(Le)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:t[12]||(t[12]=v((e=>Ee.value>=2&&k(Le)("#form-step-2",800,{offset:-20})),["prevent"]))},[ue,p("div",ce,[p("p",de,f(e.$t("Step"))+" 3",1),p("p",pe,f(e.$t("Address")),1)])],34)])):(c(),d("div",fe,[0===Ve.value?(c(),d("div",me,[p("button",{class:"close-help-button",tabindex:"0",onKeydown:t[13]||(t[13]=m(v((e=>Ve.value=-1),["prevent"]),["space"])),onClick:t[14]||(t[14]=e=>Ve.value=-1)},ve,32),he,ye,_e])):_("",!0),1===Ve.value?(c(),d("div",be,[p("button",{class:"close-help-button",tabindex:"0",onKeydown:t[15]||(t[15]=m(v((e=>Ve.value=-1),["prevent"]),["space"])),onClick:t[16]||(t[16]=e=>Ve.value=-1)},ge,32),we,ke,Se])):_("",!0),2===Ve.value?(c(),d("div",xe,[p("button",{class:"close-help-button",tabindex:"0",onKeydown:t[17]||(t[17]=m(v((e=>Ve.value=-1),["prevent"]),["space"])),onClick:t[18]||(t[18]=e=>Ve.value=-1)},Ce,32),je,Te,Ae])):_("",!0)]))])])],40,K)}}});
/*!
  * vue-scrollto v2.20.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */export{Le as default};
