import{_ as e}from"./VModal.vue_vue_type_style_index_0_lang-6b76622e.js";import{_ as t}from"./SubmitButton.vue_vue_type_script_setup_true_lang-d9a76770.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-97708d87.js";import{_ as l,a as o}from"./VControl-a325caa2.js";import{_ as n}from"./VRadio.vue_vue_type_style_index_0_lang-e031aec0.js";import{q as s,H as i,C as r,x as u,r as _,a7 as d,o as m,a as p,w as c,e as g,t as y,k as v,J as b,c as f,d as h,K as j,F as k,l as x,g as V,S as Y,L as D,M as $}from"./index-384ad331.js";import{m as M}from"./moment-160688a6.js";import{_ as C}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as w,a as B,b as O}from"./VFlexTable.vue_vue_type_style_index_0_lang-e64caaca.js";import{_ as I,a as S,b as U,c as q,d as F}from"./search-7-dark-af2ee6c9.js";import{_ as T}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-96c3e54f.js";import{u as L}from"./main-d1421619.js";import{u as N}from"./viewWrapper-5c5c4ab5.js";import"./VButton.vue_vue_type_style_index_0_lang-01b32951.js";import"./VPlaceload-418b77b8.js";import"./VIMaskInput.vue_vue_type_script_lang-e584b1aa.js";import"./VFlex.vue_vue_type_style_index_0_lang-1bfd1441.js";const P={class:"table-container"},R={class:"table is-fullwidth"},z=M.__esModule?M.default:M,H=C(s({__name:"BuckControlSterilityFormModal",props:{isOpen:{type:Boolean,default:!1},item:null},emits:["update:isOpen","update:list"],setup(s,{emit:b}){i();const{t:f}=r(),h=u(f("Sterility_test_result")),j=u(!1),k=_({control_result:"sterile",result_date:d(new Date,"YYYY-MM-DD")}),x=_({control_result:[],result_date:[]});function V(){Object.assign(k,{blood_samples_taken_date:z().format("YYYY-MM-DD"),analysis_date:z().format("YYYY-MM-DD"),clinical_biochemical_laboratory_date:z().format("YYYY-MM-DD")}),Object.assign(x,{blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),b("update:isOpen",!1)}return(i,r)=>{const u=n,_=l,d=o,b=a,f=t,x=e;return m(),p(x,{open:s.isOpen,size:"large",title:h.value,actions:"right",onClose:V},{content:c((()=>[g("div",P,[g("table",R,[g("tbody",null,[g("tr",null,[g("th",null,y(i.$t("Donation_code")),1),g("td",null,y(s.item.donation_code),1)]),g("tr",null,[g("th",null,y(i.$t("Donation_date")),1),g("td",null,y(s.item.donation_date),1)]),g("tr",null,[g("th",null,y(i.$t("Component_name")),1),g("td",null,y(s.item.component_name),1)]),g("tr",null,[g("th",null,y(i.$t("Come_from")),1),g("td",null,y(s.item.come_from),1)]),g("tr",null,[g("th",null,y(i.$t("Control_result")),1),g("td",null,[v(d,null,{default:c((()=>[v(_,null,{default:c((()=>[v(u,{modelValue:k.control_result,"onUpdate:modelValue":r[0]||(r[0]=e=>k.control_result=e),value:"sterile",color:"primary",label:i.$t("Sterile")},null,8,["modelValue","label"]),v(u,{modelValue:k.control_result,"onUpdate:modelValue":r[1]||(r[1]=e=>k.control_result=e),value:"not_sterile",color:"primary",label:i.$t("Not_sterile")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,y(i.$t("Result_date")),1),g("td",null,[v(d,null,{default:c((()=>[v(_,null,{default:c((()=>[v(b,{modelValue:k.result_date,"onUpdate:modelValue":r[2]||(r[2]=e=>k.result_date=e),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:c((()=>[v(f,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-89ca4b85"]]),J=e=>(D("data-v-a24d6a42"),e=e(),$(),e),K={class:"page-content-inner"},Q={class:"columns mb-3"},W={class:"column"},X={class:"columns"},A={class:"column is-12"},E={key:0,class:"flex-list-inner"},G={key:1,class:"flex-list-inner"},Z=J((()=>g("img",{class:"light-image",src:q,alt:""},null,-1))),ee=J((()=>g("img",{class:"dark-image",src:F,alt:""},null,-1))),te=["onClick"],ae=C(s({__name:"index",setup(e){i();const{t:t}=r(),a=L(),l=u(!1);N().setPageTitle(t("Buck-laboratory")),b({title:`${t("Buck-control-sterility")} - ${a.app.name}`});const o=_({data:[{donation_date:"05.06.2022",donation_code:"138800115200",dose:"0",quantity:"250",component_name:"Эритроцитная масса",come_from:"Из отдела переработки"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),n=f({get:()=>o.pagination.current_page,set:async e=>{D.page=e,await async function(e){var t,a;try{Object.assign(D,e),l.value=!0}catch(o){Object.assign(d,null==(a=null==(t=o.response)?void 0:t.data)?void 0:a.errors)}finally{l.value=!1}}(D)}}),s={donation_date:{label:t("Donation_date")},donation_code:{label:t("Donation_code")},dose:{label:t("Dose")},quantity:{label:t("Quantity_ml")},component_name:{label:t("Component_name")},come_from:{label:t("Come_from")}},d=_({visit_type_id:[],donation_type_id:[],donation_code:[]}),D=_({page:1}),$=_({}),M=u(!1);return(e,t)=>{const i=T,r=I,u=w,_=S,d=B,b=U,f=O,D=H;return m(),h("div",K,[g("div",Q,[g("div",W,[v(i,{"with-icons":"",separator:"bullet",items:[{label:j(a).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:e.$t("Buck-laboratory")},{label:e.$t("Buck-control-sterility")}]},null,8,["items"])])]),g("div",X,[g("div",A,[v(f,{columns:j(s),data:j(o).data,limit:j(o).pagination.per_page,total:j(o).pagination.total},{default:c((()=>[v(d,{rounded:"","no-header":!j(l)&&0===j(o).data.length},{"header-column":c((({column:e})=>[])),body:c((()=>[j(l)?(m(),h("div",E,[(m(!0),h(k,null,x(j(o).pagination.per_page,(e=>(m(),h("div",{key:e,class:"flex-table-item"},[v(u,null,{default:c((()=>[v(r,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):V("",!0),0===j(o).data.length?(m(),h("div",G,[v(_,{title:e.$t("No_data"),subtitle:e.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:c((()=>[Z,ee])),_:1},8,["title","subtitle"])])):V("",!0)])),"body-cell":c((({row:e,column:t})=>["donation_code"===t.key?(m(),h("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:t=>{return a=e,Object.assign($,a),void(M.value=!0);var a}},y(e.donation_code),9,te)):V("",!0)])),_:1},8,["no-header"]),j(o).data.length?(m(),p(b,{key:0,"current-page":j(n),"onUpdate:current-page":t[0]||(t[0]=e=>Y(n)?n.value=e:null),class:"mt-5","item-per-page":j(o).pagination.per_page,"total-items":j(o).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):V("",!0)])),_:1},8,["columns","data","limit","total"])])]),v(D,{"is-open":j(M),"onUpdate:is-open":t[1]||(t[1]=e=>Y(M)?M.value=e:null),item:j($)},null,8,["is-open","item"])])}}}),[["__scopeId","data-v-a24d6a42"]]);export{ae as default};
