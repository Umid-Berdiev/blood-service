import{_ as t}from"./ComponentDistributionProcessingCardModal-8c4bb64f.js";import{_ as e}from"./VCard.vue_vue_type_script_setup_true_lang-1043f916.js";import{a,_ as o,b as n,c as l,d as s}from"./search-7-dark-81286176.js";import{_ as i}from"./VCheckbox.vue_vue_type_style_index_0_lang-d46d394c.js";import{_ as r}from"./VButtons.vue_vue_type_script_setup_true_lang-fd69cbe3.js";import{_}from"./VButton.vue_vue_type_style_index_0_lang-b78df6f3.js";import{_ as d}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-69f615bd.js";import{q as u,E as p,H as c,C as m,x as y,J as g,r as v,c as h,y as b,o as f,d as j,e as x,k as $,K as V,w as k,i as w,t as P,U as q,F as B,l as C,a as F,g as U,L as I,M as O}from"./index-21286bdb.js";import{u as D}from"./main-16751c88.js";import{u as R}from"./viewWrapper-6ae5f61c.js";import{_ as z}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VModal.vue_vue_type_style_index_0_lang-ac88dda5.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-96021f2c.js";import"./VControl-e7b2630d.js";import"./VInput.vue_vue_type_script_setup_true_lang-9c010bca.js";import"./additional-f442439b.js";import"./VFlex.vue_vue_type_style_index_0_lang-57370b27.js";const M=t=>(I("data-v-fb5d26b2"),t=t(),O(),t),T={class:"page-content-inner"},L={class:"columns mb-5"},S={class:"column is-narrow"},A={class:"columns"},E={class:"column"},G={class:"columns"},H={class:"column"},J={class:"table-container"},K={key:0,class:"flex-list-inner"},N=M((()=>x("img",{class:"light-image",src:l,alt:""},null,-1))),W=M((()=>x("img",{class:"dark-image",src:s,alt:""},null,-1))),Z={key:1,class:"table is-hoverable is-fullwidth"},Q={colspan:"3"},X=z(u({__name:"index",setup(l){p(),c();const{t:s}=m(),u=D(),I=y(!1),O=R();y(null),O.setPageTitle(s("Processing")),g({title:`${s("FFPs-in-storage")} - ${u.app.name}`});const z=v({data:[{id:11,donation_code:"130100123400",donation_date:"10.12.2022",blood_type:"O(I)",visit_type:"Безвозмезные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Донация цельной крови",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:17,donation_code:"130100456500",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Тромбоцитаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:21,donation_code:"130100987300",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Плазмаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),M=v({}),X=y([]),Y=y(!1),tt=v({donation_code:[],donation_type_id:[]}),et=h({get:()=>X.value.length>0&&X.value.length===z.data.length,set(t){X.value=t?z.data.map((t=>t.id)):[]}});async function at(t){var e,a;try{I.value=!0;z.pagination.current_page}catch(o){Object.assign(tt,null==(a=null==(e=o.response)?void 0:e.data)?void 0:a.errors)}finally{I.value=!1}}return b(Y,(function(t){!1===t&&Object.assign(M,{})})),(l,s)=>{const p=d,c=_,m=r,y=a,g=i,v=o,h=n,b=e,O=t;return f(),j("div",T,[x("div",L,[x("div",S,[$(p,{"with-icons":"",separator:"bullet",items:[{label:V(u).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Processing")},{label:l.$t("FFPs-in-storage")}]},null,8,["items"])])]),x("div",A,[x("div",E,[$(m,null,{default:k((()=>[$(c,{type:"button",color:"primary",disabled:0===V(X).length},{default:k((()=>[w(P(l.$t("Generate_cryoprecipitate_series")),1)])),_:1},8,["disabled"]),$(c,{type:"button",color:"primary",disabled:0===V(X).length},{default:k((()=>[w(P(l.$t("Submit_series_for_processing")),1)])),_:1},8,["disabled"])])),_:1})])]),x("div",G,[x("div",H,[$(b,null,{default:k((()=>[x("div",J,[0===V(z).data.length?(f(),j("div",K,[$(y,{title:l.$t("No_data"),subtitle:l.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:k((()=>[N,W])),_:1},8,["title","subtitle"])])):(f(),j("table",Z,[x("thead",null,[x("tr",null,[x("th",null,[$(g,{modelValue:V(et),"onUpdate:modelValue":s[0]||(s[0]=t=>q(et)?et.value=t:null),color:"primary"},null,8,["modelValue"])]),x("th",null,P(l.$t("Donation_date")),1),x("th",null,P(l.$t("Donation_code")),1),x("th",null,P(l.$t("Dose")),1),x("th",null,P(l.$t("Plasma_amount_ml")),1),x("th",null,P(l.$t("Blood_type"))+" && "+P(l.$t("Rh_factor")),1),x("th",null,P(l.$t("Actions")),1)])]),x("tbody",null,[V(I)?(f(!0),j(B,{key:0},C(V(z).pagination.per_page,(t=>(f(),j("tr",{key:t},[x("td",Q,[$(v,{lines:2,"last-line-width":"70%"})])])))),128)):(f(!0),j(B,{key:1},C(V(z).data,((t,e)=>(f(),j("tr",{key:e},[x("td",null,[$(g,{modelValue:V(X),"onUpdate:modelValue":s[1]||(s[1]=t=>q(X)?X.value=t:null),value:t.id,color:"primary"},null,8,["modelValue","value"])]),x("td",null,P(t.donation_date),1),x("td",null,P(t.donation_code),1),x("td",null,P(t.dose),1),x("td",null,P(t.quantity),1),x("td",null,P(t.blood_type)+" "+P(t.rh_factor),1),x("td",null,[$(c,{type:"button",color:"primary"},{default:k((()=>[w(P(l.$t("To_forwarding")),1)])),_:1})])])))),128))])]))]),V(z).data.length?(f(),F(h,{key:0,"current-page":V(z).pagination.current_page,"onUpdate:current-page":s[2]||(s[2]=t=>V(z).pagination.current_page=t),class:"mt-5","item-per-page":V(z).pagination.per_page,"total-items":V(z).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):U("",!0)])),_:1})])]),$(O,{"is-open":V(Y),"onUpdate:is-open":s[3]||(s[3]=t=>q(Y)?Y.value=t:null),product:V(M),"onUpdate:list":at},null,8,["is-open","product"])])}}}),[["__scopeId","data-v-fb5d26b2"]]);export{X as default};
