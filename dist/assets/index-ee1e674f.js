import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-52241399.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-9075dd9c.js";import{_ as a}from"./DatePicker.vue_vue_type_script_setup_true_lang-30441cda.js";import{_ as l,a as n}from"./VControl-c4bfd6d4.js";import{_ as o}from"./VRadio.vue_vue_type_style_index_0_lang-39e5fd57.js";import{a6 as s,q as u,H as i,C as r,x as p,a7 as _,r as d,o as c,a as m,w as y,e as g,t as v,k as h,E as f,J as b,ag as j,y as V,d as $,K as k,F as w,l as x,g as C,U as D}from"./index-c5546e3f.js";import{_ as O}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as q}from"./VCard.vue_vue_type_script_setup_true_lang-9ddefd9d.js";import{_ as U,a as Q}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-1679fcf5.js";import{_ as B}from"./NoDataPlaceholder-02547c33.js";import{_ as M}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d20f193a.js";import{u as P}from"./main-94385ff1.js";import{u as R}from"./viewWrapper-911093a6.js";import"./VButton.vue_vue_type_style_index_0_lang-6deaaf11.js";import"./ClientOnly.vue_vue_type_script_lang-fed4a332.js";import"./VFlex.vue_vue_type_style_index_0_lang-84415715.js";const Y=s();const F={class:"table-container"},S={class:"table is-fullwidth"},I=O(u({__name:"QualityCheckFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:u}){i();const{t:f}=r(),b=p(f("Quality_check_result")),j=p(!1),V=_(new Date,"DD.MM.YYYY"),$=d({status:"qualitative",date:V}),k=d({status:[],date:[]});function w(){Object.assign($,{status:"qualitative",date:V}),Object.assign(k,{status:[],date:[]}),u("update:isOpen",!1)}return(u,i)=>{const r=o,p=l,_=n,d=a,f=e,V=t;return c(),m(V,{open:s.isOpen,size:"large",title:b.value,actions:"right",onClose:w},{content:y((()=>[g("div",F,[g("table",S,[g("tbody",null,[g("tr",null,[g("th",null,v(u.$t("Donation_code")),1),g("td",null,v(s.component.donation_code),1)]),g("tr",null,[g("th",null,v(u.$t("Donation_date")),1),g("td",null,v(s.component.donation_date),1)]),g("tr",null,[g("th",null,v(u.$t("Component_name")),1),g("td",null,v(s.component.component_name),1)]),g("tr",null,[g("th",null,v(u.$t("Component_quality")),1),g("td",null,[h(_,null,{default:y((()=>[h(p,null,{default:y((()=>[h(r,{modelValue:$.status,"onUpdate:modelValue":i[0]||(i[0]=t=>$.status=t),value:"qualitative",color:"primary",label:u.$t("Satisfactory")},null,8,["modelValue","label"]),h(r,{modelValue:$.status,"onUpdate:modelValue":i[1]||(i[1]=t=>$.status=t),value:"not_qualitative",color:"primary",label:u.$t("Not_satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,v(u.$t("Result_date")),1),g("td",null,[h(d,{modelValue:$.date,"onUpdate:modelValue":i[2]||(i[2]=t=>$.date=t)},null,8,["modelValue"])])])])])])])),action:y((()=>[h(f,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-857e50aa"]]),N={class:"page-content-inner"},T={class:"columns mb-5"},z={class:"column is-narrow"},E={class:"columns"},H={class:"column"},J={class:"table-container"},K={key:1,class:"table is-hoverable is-fullwidth"},L={colspan:"5"},W=["onClick"],Z=O(u({__name:"index",async setup(t){let e,a;f();const l=i(),{t:n}=r(),o=P(),s=p(!1),u=R();p(null),u.setPageTitle(n("Quality-control")),b({title:`${n("Received_components_list")} - ${o.app.name}`});const _=d({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),O=d({}),F=p(!1);async function S(){try{s.value=!0;const t=await async function(){try{const{data:t}=await Y({url:"/quality-control"});return t}catch(t){throw t}}();Object.assign(_,t.result)}catch(t){l.error(n("Something_went_wrong"))}finally{s.value=!1}}return[e,a]=j((()=>S())),await e,a(),V(F,(function(t){!1===t&&Object.assign(O,{})})),(t,e)=>{const a=M,l=B,n=U,u=Q,i=q,r=I;return c(),$("div",N,[g("div",T,[g("div",z,[h(a,{"with-icons":"",separator:"bullet",items:[{label:k(o).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Quality-control")},{label:t.$t("Received_components_list")}]},null,8,["items"])])]),g("div",E,[g("div",H,[h(i,null,{default:y((()=>[g("div",J,[0===k(_).data.length?(c(),m(l,{key:0})):(c(),$("table",K,[g("thead",null,[g("tr",null,[g("th",null,v(t.$t("Donation_date")),1),g("th",null,v(t.$t("Donation_code")),1),g("th",null,v(t.$t("Dose")),1),g("th",null,v(t.$t("Quantity_ml")),1),g("th",null,v(t.$t("Component_name")),1)])]),g("tbody",null,[k(s)?(c(!0),$(w,{key:0},x(k(_).pagination.per_page,(t=>(c(),$("tr",{key:t},[g("td",L,[h(n,{lines:2,"last-line-width":"70%"})])])))),128)):(c(!0),$(w,{key:1},x(k(_).data,((t,e)=>(c(),$("tr",{key:e},[g("td",null,v(t.donation_date),1),g("td",null,[g("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(O,t),F.value=!0}(t)},v(t.donation_code),9,W)]),g("td",null,v(t.dose),1),g("td",null,v(t.quantity),1),g("td",null,v(t.component_name),1)])))),128))])]))]),k(_).data.length?(c(),m(u,{key:0,"current-page":k(_).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>k(_).pagination.current_page=t),class:"mt-5","item-per-page":k(_).pagination.per_page,"total-items":k(_).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):C("",!0)])),_:1})])]),h(r,{"is-open":k(F),"onUpdate:is-open":e[1]||(e[1]=t=>D(F)?F.value=t:null),component:k(O),"onUpdate:list":S},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-ad429db6"]]);export{Z as default};
