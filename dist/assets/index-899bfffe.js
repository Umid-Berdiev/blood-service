import{_ as e}from"./ConfirmActionModal.vue_vue_type_script_setup_true_lang-13822492.js";import{f as t,r as a,_ as n}from"./DonationContainerFormModal.vue_vue_type_script_setup_true_lang-2a67af88.js";import{_ as l}from"./VCard.vue_vue_type_script_setup_true_lang-1043f916.js";import{a as i,_ as s,b as o,c as r,d as u}from"./search-7-dark-81286176.js";import{q as d,c as p,h as c,j as _,H as v,C as g,x as m,J as f,r as y,af as h,y as b,o as k,d as j,e as x,k as w,K as $,w as C,t as B,F as S,l as V,a as O,g as M,U as P,L as D,M as I}from"./index-21286bdb.js";import{_ as U}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-69f615bd.js";import{u as q}from"./main-16751c88.js";import{u as A}from"./viewWrapper-6ae5f61c.js";import{_ as F}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VModal.vue_vue_type_style_index_0_lang-ac88dda5.js";import"./VButton.vue_vue_type_style_index_0_lang-b78df6f3.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-96021f2c.js";import"./DatePicker.vue_vue_type_script_setup_true_lang-8beaf1b4.js";import"./ClientOnly.vue_vue_type_script_lang-52200b90.js";import"./VControl-e7b2630d.js";import"./VInput.vue_vue_type_script_setup_true_lang-9c010bca.js";import"./VFlex.vue_vue_type_style_index_0_lang-57370b27.js";const L=d({props:{icon:{type:String,required:!0},to:{type:Object,default:void 0},href:{type:String,default:void 0},color:{type:String,default:void 0,validator:e=>-1!==[void 0,"primary","info","success","warning","danger","white"].indexOf(e)||(console.warn(`VIconButton: invalid "${e}" color. Should be primary, info, success, warning, danger, white or undefined`),!1)},dark:{type:String,default:void 0,validator:e=>!e||(-1!==["1","2","3","4","5","6"].indexOf(e)||(console.warn(`VIconButton: invalid "${e}" dark. Should be 1, 2, 3, 4, 5, 6 or undefined`),!1))},circle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},light:{type:Boolean,default:!1},raised:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},darkOutlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t}){const a=p((()=>[...(null==t?void 0:t.class)||[],e.disabled&&"is-disabled",e.circle&&"is-circle",e.bold&&"is-bold",e.outlined&&"is-outlined",e.raised&&"is-raised",e.dark&&`is-dark-bg-${e.dark}`,e.darkOutlined&&"is-dark-outlined",e.elevated&&"is-elevated",e.loading&&"is-loading",e.color&&`is-${e.color}`,e.light&&"is-light"])),n=p((()=>e.icon&&-1!==e.icon.indexOf(":")));return()=>{let l;l=n.value?c("i",{"aria-hidden":!0,class:"iconify","data-icon":e.icon}):c("i",{"aria-hidden":!0,class:e.icon});const i=c("span",{class:"icon"},l);return e.to?c(_("RouterLink"),{...t,to:e.to,class:["button",...a.value]},i):e.href?c("a",{...t,href:e.href,class:a.value},i):c("button",{type:"button",...t,disabled:e.disabled,class:["button",...a.value]},i)}}}),T=e=>(D("data-v-26cb5144"),e=e(),I(),e),H={class:"page-content-inner"},J={class:"columns mb-5"},K={class:"column is-narrow"},N={class:"column is-narrow ml-auto"},R={class:"columns"},W={class:"column"},Z={class:"table-container"},z={key:0,class:"flex-list-inner"},E=T((()=>x("img",{class:"light-image",src:r,alt:""},null,-1))),G=T((()=>x("img",{class:"dark-image",src:u,alt:""},null,-1))),Q={key:1,class:"table is-hoverable is-fullwidth"},X={class:"has-text-centered"},Y={colspan:"7"},ee=["onClick"],te={class:"has-text-centered"},ae=["onClick"],ne=[T((()=>x("span",{class:"iconify","data-icon":"feather:trash"},null,-1)))],le=F(d({__name:"index",async setup(r){let u,d;const p=v(),{t:c}=g(),_=q(),D=m(!1),I=A(),F=m(null);I.setPageTitle(c("Donations")),f({title:`${c("Containers_list")} - ${_.app.name}`});const T=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),le=m(null),ie=m(!1);async function se(){try{D.value=!0;const e={page:T.pagination.current_page,per_page:T.pagination.per_page},a=await t(e);Object.assign(T,a.result)}catch(e){p.error(c("Something_went_wrong"))}finally{D.value=!1}}function oe(e){le.value=e,ie.value=!0}async function re(){D.value=!0,await a(F.value),await se()}return[u,d]=h((()=>se())),await u,d(),b(ie,(function(e){!1===e&&(le.value=null)})),b((()=>T.pagination.current_page),(async function(e){e&&await se()})),(t,a)=>{const r=U,u=L,d=i,p=s,c=o,v=l,g=n,m=e;return k(),j("div",H,[x("div",J,[x("div",K,[w(r,{"with-icons":"",separator:"bullet",items:[{label:$(_).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Donations")},{label:t.$t("Containers_list")}]},null,8,["items"])]),x("div",N,[w(u,{type:"button",icon:"feather:plus",color:"primary",onClick:a[0]||(a[0]=e=>oe(null))})])]),x("div",R,[x("div",W,[w(v,null,{default:C((()=>[x("div",Z,[0===$(T).data.length?(k(),j("div",z,[w(d,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:C((()=>[E,G])),_:1},8,["title","subtitle"])])):(k(),j("table",Q,[x("thead",null,[x("tr",null,[x("th",null,B(t.$t("Title")),1),x("th",null,B(t.$t("Series")),1),x("th",null,B(t.$t("Preservative")),1),x("th",null,B(t.$t("Preservative_volume")),1),x("th",null,B(t.$t("Container_expiration_date")),1),x("th",null,B(t.$t("Preservative_shelf_life_days")),1),x("th",X,B(t.$t("Actions")),1)])]),x("tbody",null,[$(D)?(k(!0),j(S,{key:0},V($(T).pagination.per_page,(e=>(k(),j("tr",{key:e},[x("td",Y,[w(p,{lines:2,"last-line-width":"70%"})])])))),128)):(k(!0),j(S,{key:1},V($(T).data,((e,t)=>(k(),j("tr",{key:t},[x("td",null,[x("a",{href:"javascript:;",class:"has-text-primary",onClick:t=>oe(e)},B(e.name),9,ee)]),x("td",null,B(e.series),1),x("td",null,B(e.hemopreservative),1),x("td",null,B(e.count_hemopreservative),1),x("td",null,B(e.expire_date),1),x("td",null,B(e.expire_days),1),x("td",te,[x("a",{href:"javascript:;",class:"has-text-danger",onClick:t=>{return a=e.id,F.value=a,void _.$patch({confirmModalState:!0});var a}},ne,8,ae)])])))),128))])]))]),$(T).data.length?(k(),O(c,{key:0,"current-page":$(T).pagination.current_page,"onUpdate:current-page":a[1]||(a[1]=e=>$(T).pagination.current_page=e),class:"mt-5","item-per-page":$(T).pagination.per_page,"total-items":$(T).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):M("",!0)])),_:1})])]),w(g,{"is-open":$(ie),"onUpdate:is-open":a[2]||(a[2]=e=>P(ie)?ie.value=e:null),container:$(le),"onUpdate:list":se},null,8,["is-open","container"]),w(m,{onConfirmAction:re})])}}}),[["__scopeId","data-v-26cb5144"]]);export{le as default};
