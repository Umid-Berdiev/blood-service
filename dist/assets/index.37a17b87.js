import{_ as a,a as e,b as t,c as s,d as l,e as i,f as n,g as o,h as r}from"./search-7-dark.8b15a455.js";import{_ as d,a as c}from"./VControl.ca63cac0.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.aa6c4915.js";import{q as p,E as m,H as _,C as v,x as f,J as g,r as y,c as b,a7 as h,A as x,y as k,j as w,o as j,d as V,e as $,k as D,K as C,w as z,g as L,F as M,l as P,a as Y,i as A,t as F,S as N,L as U,M as q}from"./index.5a18e8c8.js";import{u as S}from"./main.fb415df7.js";import{u as T}from"./viewWrapper.fed031e8.js";import{a as B,p as E}from"./patient.cb19f429.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./VFlex.vue_vue_type_style_index_0_lang.5029357e.js";import"./VPlaceload.df43afcf.js";const I=a=>(U("data-v-88ccb8e7"),a=a(),q(),a),J={class:"page-content-inner"},K={class:"columns mb-3"},O={class:"column"},R={class:"column is-3"},W={class:"columns"},G={class:"column is-12"},Q={key:0,class:"is-flex-grow-0",textContent:"#"},X={key:0,class:"flex-list-inner"},Z={key:1,class:"flex-list-inner"},aa=I((()=>$("img",{class:"light-image",src:o,alt:""},null,-1))),ea=I((()=>$("img",{class:"dark-image",src:r,alt:""},null,-1))),ta=H(p({__name:"index",setup(o){m();const r=_(),{t:p}=v(),U=S(),q=f(!1);T().setPageTitle(p("Users_List")),g({title:`${p("Donors-list-for-examination")} - ${U.app.name}`});const H=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),I=b({get:()=>H.pagination.current_page,set:async a=>{await na(a)}}),ta={orderNumber:{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:p("Fullname")},birth_date:{label:p("Date-of-birth")},visit_date:{label:p("Visit_date"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.created_at)&&h(new Date(null==(s=e.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:p("Visit_type"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.visit_type)&&p(null==(s=e.last_visit)?void 0:s.visit_type)}},directed_by:{label:p("Directed_by"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.directed_by)&&p(null==(s=e.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:p("Personalized_donation"),format:(a,e)=>{var t;return null==(t=e.last_visit)?void 0:t.personalized_donation}},visit_status:{label:p("Visit_status"),format:(a,e)=>{var t;return null==(t=e.status)?void 0:t.name}},actions:{label:p("Actions")}},sa=f(),la=f([{id:0,name:p("All")}]),ia=f("");async function na(a=1){var e,t;try{q.value=!0;const e=await E({page:a,status_id:ia.value});Object.assign(H,e.result)}catch(s){r.error(p(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors))}finally{q.value=!1}}return x((async()=>{const a=await B();la.value=a.result})),k((()=>ia.value),(async a=>{await na()})),(o,r)=>{const p=u,m=w("Multiselect"),_=d,v=c,f=a,g=e,y=t,b=s,h=w("RouterLink"),x=l,k=i,S=n;return j(),V("div",J,[$("div",K,[$("div",O,[D(p,{"with-icons":"",separator:"bullet",items:[{label:C(U).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:o.$t("Physician-therapist")},{label:o.$t("Donors-list-for-examination")}]},null,8,["items"])]),$("div",R,[D(v,{class:"is-curved-select"},{default:z((({id:a})=>[D(_,null,{default:z((()=>[D(m,{modelValue:ia.value,"onUpdate:modelValue":r[0]||(r[0]=a=>ia.value=a),attrs:{id:a},options:la.value,placeholder:o.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),$("div",W,[$("div",G,[D(S,{columns:C(ta),data:H.data,limit:H.pagination.per_page,total:H.pagination.total},{default:z((()=>[D(x,{rounded:"","no-header":!q.value&&0===H.data.length},{"header-column":z((({column:a})=>["orderNumber"===a.key?(j(),V("span",Q)):L("",!0)])),body:z((()=>[q.value?(j(),V("div",X,[(j(!0),V(M,null,P(H.pagination.per_page,(a=>(j(),V("div",{key:a,class:"flex-table-item"},[D(g,null,{default:z((()=>[D(f,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):L("",!0),0===H.data.length?(j(),V("div",Z,[D(y,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:z((()=>[aa,ea])),_:1})])):L("",!0)])),"body-row-pre":z((({row:a})=>[a.id===sa.value?(j(),Y(b,{key:0,size:"tiny",class:"m-0 mb-1"})):L("",!0)])),"body-cell":z((({row:a,column:e})=>["name"===e.key?(j(),Y(h,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}`},{default:z((()=>[A(F(a.first_name)+" "+F(a.last_name)+" "+F(a.father_name),1)])),_:2},1032,["to"])):L("",!0),"actions"===e.key?(j(),Y(h,{key:1,class:"has-text-warning",to:"/app/physician-therapist/donors-for-examination"},{default:z((()=>[A(F(o.$t("Complete")),1)])),_:1})):L("",!0)])),_:1},8,["no-header"]),H.data.length?(j(),Y(k,{key:0,"current-page":C(I),"onUpdate:current-page":r[1]||(r[1]=a=>N(I)?I.value=a:null),class:"mt-5","item-per-page":H.pagination.per_page,"total-items":H.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):L("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-88ccb8e7"]]);export{ta as default};
