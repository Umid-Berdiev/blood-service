import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-6deaaf11.js";import{_ as t,a as s,b as i}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-0146a9fd.js";import{_ as n,a}from"./VControl-c4bfd6d4.js";import{q as l,E as o,H as r,C as u,x as c,r as p,A as d,J as m,j as f,o as _,d as h,e as v,K as y,t as g,s as b,m as k,k as w,w as x,g as j,T as S,i as C,f as $,z as K}from"./index-c5546e3f.js";import{_ as A}from"./vue-scrollto-77cdde02.js";import{u as V}from"./viewWrapper-911093a6.js";import{s as I}from"./sleep-fd7a5d8b.js";import{p as P,k as Q}from"./patient-9225403a.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-4a69d6df.js";import"./VInput.vue_vue_type_script_setup_true_lang-fcf9b43c.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-5e0ed005.js";import"./additional-2c3a91bb.js";import"./ClientOnly.vue_vue_type_script_lang-fed4a332.js";import"./VRadio.vue_vue_type_style_index_0_lang-39e5fd57.js";const q=["onSubmit"],E={class:"stepper-form is-justify-content-center"},O={class:"form-sections"},T={key:0,id:"form-step-0",class:"form-section is-active"},L={class:"form-section-title"},M=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],R={class:"form-section-inner"},z={class:"help has-text-danger"},B={key:0,id:"form-step-1",class:"form-section is-active"},D={class:"form-section-title"},G=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],H={class:"form-section-inner"},N={key:0,id:"form-step-2",class:"form-section is-active"},F={class:"form-section-title"},J=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],U={class:"form-section-inner"},W={class:"navigation-buttons"},Z={class:"buttons is-right"},X={class:"form-stepper"},Y={key:0,class:"steps is-vertical is-thin is-short"},ee=v("a",{href:"#",class:"steps-marker"},null,-1),te={class:"steps-content"},se={class:"step-number"},ie={class:"step-info"},ne=v("a",{href:"#",class:"steps-marker"},null,-1),ae={class:"steps-content"},le={class:"step-number"},oe={class:"step-info"},re=v("a",{href:"#",class:"steps-marker"},null,-1),ue={class:"steps-content"},ce={class:"step-number"},pe={class:"step-info"},de={key:1,class:"form-help"},me={key:0,id:"help-section-0",class:"form-help-inner is-active"},fe=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],_e=v("h3",null,"General Information",-1),he=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),ve=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),ye={key:1,id:"help-section-1",class:"form-help-inner is-active"},ge=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],be=v("h3",null,"Shipment Owner",-1),ke=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),we=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),xe={key:2,id:"help-section-2",class:"form-help-inner is-active"},je=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Se=v("h3",null,"Shipment Taxes",-1),Ce=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),$e=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),Ke=A.__esModule?A.default:A,Ae=l({__name:"index copy",setup(l){const A=o(),Ae=r(),{scrollTo:Ve}=Ke,{t:Ie}=u(),Pe=c(0),Qe=c(!1),qe=c(-1),Ee=V(),Oe=p({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),Te=p({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Le=c([]);d((async()=>{const e=await P();Le.value=e.result})),Ee.setPageTitle(Ie("Registration")),m({title:Ie("Register-donors")});const Me=async()=>{var e;if(2===Pe.value){if(Object.getOwnPropertyNames(Te).forEach((e=>{e in Te&&(Te[e]=[])})),Qe.value)return;try{Qe.value=!0;const e=await Q(Oe);Ae.success("New patient data is successfully stored!"),A.push(`/app/registration/unified-donor-register/${e.result.id}`)}catch(t){if(Object.assign(Te,null==(e=t.response)?void 0:e.data.errors),Te.last_name.length||Te.first_name.length||Te.father_name.length||Te.birth_date.length||Te.gender.length)return Ve("#form-step-0",500);if(Te.passport_series.length||Te.passport_number.length||Te.issued_by.length||Te.when_issued.length)return Ve("#form-step-1",500)}finally{Qe.value=!1}}Qe.value=!0,await I(500),Pe.value<2&&(Pe.value+=1),K((()=>{Ve(`#form-step-${Pe.value}`,500),Qe.value=!1}))};function Re(e){Te[e]=""}return(l,o)=>{const r=f("Multiselect"),u=n,c=a,p=t,d=s,m=i,K=e;return _(),h("form",{onSubmit:k(Me,["prevent"])},[v("div",E,[v("div",O,[y(Pe)>=0?(_(),h("div",T,[v("h3",L,[v("span",null,g(l.$t("Personal_Info")),1),v("button",{type:"button",class:"help-button",tabindex:"0",onKeydown:o[0]||(o[0]=b(k((e=>0===y(qe)?qe.value=-1:qe.value=0),["prevent"]),["space"])),onClick:o[1]||(o[1]=e=>0===y(qe)?qe.value=-1:qe.value=0)},M,32)]),v("div",R,[w(c,{label:l.$t("Category"),required:""},{default:x((()=>[w(u,null,{default:x((()=>[w(r,{modelValue:y(Oe).patient_category_id,"onUpdate:modelValue":o[2]||(o[2]=e=>y(Oe).patient_category_id=e),options:y(Le),placeholder:l.$t("Select_category"),label:"name","value-prop":"id",onChange:o[3]||(o[3]=e=>Re("patient_category_id"))},null,8,["modelValue","options","placeholder"]),v("p",z,g(y(Te).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"]),w(p,{patient:y(Oe),errors:y(Te),onEditing:Re},null,8,["patient","errors"])])])):j("",!0),w(S,{name:"fade-slow"},{default:x((()=>[y(Pe)>=1?(_(),h("div",B,[v("h3",D,[v("span",null,g(l.$t("Certifying_document")),1),v("button",{type:"button",class:"help-button",onKeydown:o[4]||(o[4]=b(k((e=>1===y(qe)?qe.value=-1:qe.value=1),["prevent"]),["space"])),onClick:o[5]||(o[5]=e=>1===y(qe)?qe.value=-1:qe.value=1)},G,32)]),v("div",H,[w(d,{patient:y(Oe),errors:y(Te),onEditing:Re},null,8,["patient","errors"])])])):j("",!0)])),_:1}),w(S,{name:"fade-slow"},{default:x((()=>[y(Pe)>=2?(_(),h("div",N,[v("h3",F,[v("span",null,g(l.$t("Address")),1),v("button",{type:"button",class:"help-button",onKeydown:o[6]||(o[6]=b(k((e=>2===y(qe)?qe.value=-1:qe.value=2),["prevent"]),["space"])),onClick:o[7]||(o[7]=e=>2===y(qe)?qe.value=-1:qe.value=2)},J,32)]),v("div",U,[w(m,{patient:y(Oe),errors:y(Te),onEditing:Re},null,8,["patient","errors"])])])):j("",!0)])),_:1}),v("div",W,[v("div",Z,[w(K,{type:"submit",color:"primary",bold:"",loading:y(Qe),disabled:y(Qe),tabindex:"0"},{default:x((()=>[C(g(2==y(Pe)?l.$t("Save"):l.$t("Continue")),1)])),_:1},8,["loading","disabled"])])])]),v("div",X,[-1===y(qe)?(_(),h("ul",Y,[v("li",{id:"step-segment-0",class:$([[0===y(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:o[8]||(o[8]=b(k((e=>y(Pe)>=0&&y(Ve)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:o[9]||(o[9]=k((e=>y(Pe)>=0&&y(Ve)("#form-step-0",800,{offset:-20})),["prevent"]))},[ee,v("div",te,[v("p",se,g(l.$t("Step"))+" 1",1),v("p",ie,g(l.$t("Personal_Info")),1)])],34),v("li",{id:"step-segment-1",class:$([[1===y(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:o[10]||(o[10]=b(k((e=>y(Pe)>=1&&y(Ve)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:o[11]||(o[11]=k((e=>y(Pe)>=1&&y(Ve)("#form-step-1",800,{offset:-20})),["prevent"]))},[ne,v("div",ae,[v("p",le,g(l.$t("Step"))+" 2",1),v("p",oe,g(l.$t("Certifying_document")),1)])],34),v("li",{id:"step-segment-2",class:$([[2===y(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:o[12]||(o[12]=b(k((e=>y(Pe)>=2&&y(Ve)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:o[13]||(o[13]=k((e=>y(Pe)>=2&&y(Ve)("#form-step-2",800,{offset:-20})),["prevent"]))},[re,v("div",ue,[v("p",ce,g(l.$t("Step"))+" 3",1),v("p",pe,g(l.$t("Address")),1)])],34)])):(_(),h("div",de,[0===y(qe)?(_(),h("div",me,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:o[14]||(o[14]=b(k((e=>qe.value=-1),["prevent"]),["space"])),onClick:o[15]||(o[15]=e=>qe.value=-1)},fe,32),_e,he,ve])):j("",!0),1===y(qe)?(_(),h("div",ye,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:o[16]||(o[16]=b(k((e=>qe.value=-1),["prevent"]),["space"])),onClick:o[17]||(o[17]=e=>qe.value=-1)},ge,32),be,ke,we])):j("",!0),2===y(qe)?(_(),h("div",xe,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:o[18]||(o[18]=b(k((e=>qe.value=-1),["prevent"]),["space"])),onClick:o[19]||(o[19]=e=>qe.value=-1)},je,32),Se,Ce,$e])):j("",!0)]))])])],40,q)}}});export{Ae as default};
