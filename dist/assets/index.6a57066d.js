import{_ as a,a as e,b as t,c as s,d as l,e as i,f as n,g as r,h as o}from"./search-7-dark.d1f3fd2e.js";import{_ as u,a as d}from"./VControl.6c3280e9.js";import{_ as c}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.041d3875.js";import{q as m,E as p,H as _,C as v,x as f,J as g,r as y,c as b,aD as h,A as x,y as k,j as w,o as j,d as V,e as D,k as $,K as z,w as C,g as L,F as M,l as N,a as Y,i as F,t as P,Q as U,L as q,M as A,N as T}from"./index.64f80ae1.js";import{u as B}from"./main.2122a746.js";import{u as E}from"./viewWrapper.a105c182.js";import{f as H,p as I}from"./patient.bd123b14.js";import"./VFlex.vue_vue_type_style_index_0_lang.9e42ca5f.js";const J=a=>(q("data-v-6f62e598"),a=a(),A(),a),K={class:"page-content-inner"},O={class:"columns mb-3"},Q={class:"column"},R={class:"column is-3"},S={class:"columns"},W={class:"column is-12"},G={key:0,class:"is-flex-grow-0",textContent:"#"},X={key:0,class:"flex-list-inner"},Z={key:1,class:"flex-list-inner"},aa=J((()=>D("img",{class:"light-image",src:r,alt:""},null,-1))),ea=J((()=>D("img",{class:"dark-image",src:o,alt:""},null,-1))),ta=T(m({__name:"index",setup(r){p();const o=_(),{t:m}=v(),q=B(),A=f(!1);E().setPageTitle(m("Users_List")),g({title:`${m("Donors-list-for-examination")} - ${q.app.name}`});const T=y({result:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),J=b({get:()=>T.pagination.current_page,set:async a=>{await na(a)}}),ta={orderNumber:{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:m("Fullname")},birth_date:{label:m("Date-of-birth")},visit_date:{label:m("Visit_date"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.created_at)&&h(new Date(null==(s=e.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:m("Visit_type"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.visit_type)&&m(null==(s=e.last_visit)?void 0:s.visit_type)}},directed_by:{label:m("Directed_by"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.directed_by)&&m(null==(s=e.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:m("Personalized_donation"),format:(a,e)=>{var t;return null==(t=e.last_visit)?void 0:t.personalized_donation}},visit_status:{label:m("Visit_status"),format:(a,e)=>{var t;return null==(t=e.status)?void 0:t.name}}},sa=f(),la=f([{id:0,name:m("All")}]),ia=f("");async function na(a=1){var e,t;try{A.value=!0;const e=await I({page:a,status_id:ia.value});Object.assign(T,e.result)}catch(s){o.error(m(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors))}finally{A.value=!1}}return x((async()=>{const a=await H();la.value.push(...a.result)})),k((()=>ia.value),(async a=>{await na()})),(r,o)=>{const m=c,p=w("Multiselect"),_=u,v=d,f=a,g=e,y=t,b=s,h=w("RouterLink"),x=l,k=i,B=n;return j(),V("div",K,[D("div",O,[D("div",Q,[$(m,{"with-icons":"",separator:"bullet",items:[{label:z(q).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:r.$t("Physician-therapist")},{label:r.$t("Donors-list-for-examination"),to:{name:"/app/physician-therapist/donors-for-examination/"}}]},null,8,["items"])]),D("div",R,[$(v,{class:"is-curved-select"},{default:C((({id:a})=>[$(_,null,{default:C((()=>[$(p,{modelValue:ia.value,"onUpdate:modelValue":o[0]||(o[0]=a=>ia.value=a),attrs:{id:a},options:la.value,placeholder:r.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),D("div",S,[D("div",W,[$(B,{columns:z(ta),data:T.result,limit:T.pagination.per_page,total:T.pagination.total},{default:C((()=>[$(x,{rounded:"","no-header":!A.value&&0===T.result.length},{"header-column":C((({column:a})=>["orderNumber"===a.key?(j(),V("span",G)):L("",!0)])),body:C((()=>[A.value?(j(),V("div",X,[(j(!0),V(M,null,N(T.pagination.per_page,(a=>(j(),V("div",{key:a,class:"flex-table-item"},[$(g,null,{default:C((()=>[$(f,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):L("",!0),0===T.result.length?(j(),V("div",Z,[$(y,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:C((()=>[aa,ea])),_:1})])):L("",!0)])),"body-row-pre":C((({row:a})=>[a.id===sa.value?(j(),Y(b,{key:0,size:"tiny",class:"m-0 mb-1"})):L("",!0)])),"body-cell":C((({row:a,column:e})=>["name"===e.key?(j(),Y(h,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}#`},{default:C((()=>[F(P(a.first_name)+" "+P(a.last_name)+" "+P(a.father_name),1)])),_:2},1032,["to"])):L("",!0)])),_:1},8,["no-header"]),T.result.length?(j(),Y(k,{key:0,"current-page":z(J),"onUpdate:current-page":o[1]||(o[1]=a=>U(J)?J.value=a:null),class:"mt-5","item-per-page":T.pagination.per_page,"total-items":T.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):L("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-6f62e598"]]);export{ta as default};
