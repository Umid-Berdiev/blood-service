import{h as a,i as l,a as e,_ as t,b as s}from"./FilterForm.vue_vue_type_script_setup_true_lang-cf3789fd.js";import{_ as o}from"./VModal.vue_vue_type_style_index_0_lang-bd9f4090.js";import{_ as i}from"./SubmitButton.vue_vue_type_script_setup_true_lang-cc65dbea.js";import{_ as n}from"./VCheckbox.vue_vue_type_style_index_0_lang-22f1f43a.js";import{_ as d}from"./VFlex.vue_vue_type_style_index_0_lang-89cd9c2c.js";import{_ as u}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-e7f94dfc.js";import{_ as r}from"./VFlexItem.vue_vue_type_style_index_0_lang-abff2e0f.js";import{b as p,_,a as c}from"./VControl-6db07387.js";import{_ as m}from"./VInput.vue_vue_type_script_setup_true_lang-264b74aa.js";import{q as v,H as b,C as g,x as f,r as y,y as h,j as V,o as x,a as j,w as I,e as U,t as z,k as $,i as w,$ as O,ai as B,a0 as F,L as C,M as R,J as k,a8 as A,d as M,K as D,U as T}from"./index-f93ac3f8.js";import{_ as q}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as H}from"./TableForLaboratories.vue_vue_type_script_setup_true_lang-ca7c9cec.js";import{_ as L}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-8b18b9a3.js";import{u as P}from"./main-ee2e6726.js";import{u as E}from"./viewWrapper-1e6038f3.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-191bf455.js";import"./VRadio.vue_vue_type_style_index_0_lang-5d6e929d.js";import"./moment-c7f2cea7.js";import"./VCard.vue_vue_type_script_setup_true_lang-34c1a38f.js";import"./VButton.vue_vue_type_style_index_0_lang-2943ff29.js";import"./additional-bd476d98.js";import"./VIMaskInput.vue_vue_type_script_lang-a1ff201b.js";import"./VFlexTable.vue_vue_type_style_index_0_lang-0b6ebd63.js";import"./search-7-dark-c4e05ee5.js";const N=a=>(C("data-v-ec53a158"),a=a(),R(),a),S={class:"columns"},J={class:"column"},K={class:"is-size-5 has-text-weight-medium"},W={class:"box"},Y={class:"has-text-weight-bold mr-3"},Z={class:"has-text-weight-bold mr-3"},G=N((()=>U("br",null,null,-1))),Q={class:"is-size-5 has-text-weight-medium"},X={class:"box mt-5"},aa={class:"columns is-multiline"},la={class:"column is-6"},ea={class:"is-flex"},ta={class:"has-text-danger mr-5"},sa={class:"field"},oa={class:"control"},ia=N((()=>U("label",{for:"oab1",class:"radio p-2"},[w("O"),U("sub",null,"αβ"),w("(I)")],-1))),na={class:"control"},da=N((()=>U("label",{for:"ab2",class:"radio p-2"},[w("A"),U("sub",null,"β"),w("(II)")],-1))),ua={class:"control"},ra=N((()=>U("label",{for:"a2b2",class:"radio p-2"},[w("A"),U("sub",null,"2β"),w("(II)")],-1))),pa={class:"control"},_a=N((()=>U("label",{for:"a2a1b2",class:"radio p-2"},[w("A"),U("sub",null,"2α1β"),w("(II)")],-1))),ca={class:"control"},ma=N((()=>U("label",{for:"ba3",class:"radio p-2"},[w("B"),U("sub",null,"α"),w("(III)")],-1))),va={class:"control"},ba=N((()=>U("label",{for:"ab04",class:"radio p-2"},[w("AB"),U("sub",null,"0"),w("(IV)")],-1))),ga={class:"control"},fa=N((()=>U("label",{for:"a2b04",class:"radio p-2"},[w("A"),U("sub",null,"2"),w("B"),U("sub",null,"0"),w("(IV)")],-1))),ya={class:"control"},ha=N((()=>U("label",{for:"a2ba14",class:"radio p-2"},[w("A"),U("sub",null,"2"),w("B"),U("sub",null,"α1"),w("(IV)")],-1))),Va={class:"control"},xa={for:"not_recognized",class:"radio p-2"},ja={class:"control"},Ia={for:"panagglutination",class:"radio p-2"},Ua={class:"column is-6"},za={class:"is-flex"},$a={class:"has-text-danger mr-5"},wa={class:"field"},Oa={class:"control"},Ba=N((()=>U("label",{for:"rh+",class:"radio p-2"},"Rh+",-1))),Fa={class:"control"},Ca=N((()=>U("label",{for:"rh-",class:"radio p-2"},"Rh-",-1))),Ra={class:"control"},ka=N((()=>U("label",{for:"du",class:"radio p-2"},[w("D"),U("sup",{class:"is-underlined"},"u")],-1))),Aa={class:"control"},Ma=N((()=>U("label",{for:"rh1",class:"radio p-2"},"Rh'",-1))),Da={class:"control"},Ta=N((()=>U("label",{for:"rh2",class:"radio p-2"},'Rh"',-1))),qa={class:"field"},Ha={for:"note"},La={class:"control"},Pa={class:"column is-6"},Ea={class:"has-text-danger mr-5"},Na={class:"is-flex"},Sa={class:"is-flex is-horizontal is-align-items-center"},Ja=N((()=>U("div",{class:"field-label is-normal"},[U("label",{class:"has-text-danger"},"α 1:")],-1))),Ka={class:"field-body"},Wa={class:"field"},Ya={class:"control"},Za={class:"is-flex is-horizontal is-align-items-center"},Ga=N((()=>U("div",{class:"field-label is-normal"},[U("label",{class:"has-text-danger"},"β 1:")],-1))),Qa={class:"field-body"},Xa={class:"field"},al={class:"control"},ll={class:"column is-6"},el={class:"has-text-danger mr-5"},tl=N((()=>U("h5",{class:"ml-3 has-text-danger",for:""},"1:",-1))),sl={class:"control"},ol=q(v({__name:"ImmunologicalResearchFormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list","emergency-noticing"],setup(e,{emit:t}){const s=e,v=b(),{t:C}=g(),R=f(C("Immunological_research_results")),k=f(!1),A=y({date_analysis:[]}),M=[{value:1,label:"detected"},{value:2,label:"not_detected"}],D=[{value:1,label:"detected"},{value:2,label:"not_detected"}],T=y({data:{date_analysis:"",blood_group:"",rh_factor:"",note:"",titer_body:"",titer_body_alpha:"",titer_body_beta:"",immune:"",immune_result:"",hemolysis:!1,chilez:!1},required_fields:[]}),q=f(!1);async function H(){var a,e,o,i,n,d;try{k.value=!0,await l(null==(e=null==(a=s.patient)?void 0:a.last_visit)?void 0:e.id,T.data),v.success(C("Data_saved_successfully")),t("update:list"),L()}catch(u){(null==(o=u.response)?void 0:o.data.error)?v.error(null==(i=u.response)?void 0:i.data.error):Object.assign(A,null==(d=null==(n=u.response)?void 0:n.data)?void 0:d.errors)}finally{k.value=!1}}function L(){T.data.date_analysis="",Object.assign(A,{date_analysis:[]}),t("update:isOpen",!1)}return h((()=>{var a,l;return null==(l=null==(a=s.patient)?void 0:a.last_visit)?void 0:l.id}),(async l=>{if(l){const e=await a(l);Object.assign(T,e.result)}})),h([()=>T.data.hemolysis,()=>T.data.chilez],(async a=>{a.includes(!0)?q.value=!0:q.value=!1})),(a,l)=>{const t=p,s=m,v=_,b=c,g=r,f=u,y=d,h=V("Multiselect"),C=n,A=i,q=o;return x(),j(q,{open:e.isOpen,size:"big",title:R.value,actions:"right",onClose:L},{content:I((()=>{var o,i;return[U("div",S,[U("div",J,[U("h5",K,z(a.$t("Donation_code"))+": "+z(null==(i=null==(o=e.patient)?void 0:o.last_visit)?void 0:i.donation_code),1)])]),U("div",W,[$(y,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:I((()=>[$(g,{"flex-basis":"45%"},{default:I((()=>[$(b,{horizontal:""},{default:I((()=>[$(t,{class:"my-auto mr-3 is-size-6"},{default:I((()=>[w(z(a.$t("Blood_sampling_date")),1)])),_:1}),$(v,null,{default:I((()=>{var a,l,t;return[$(s,{value:null==(t=null==(l=null==(a=e.patient)?void 0:a.last_visit)?void 0:l.blood_sample)?void 0:t.date,disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),$(g,{"flex-basis":"45%"},{default:I((()=>[$(b,{horizontal:""},{default:I((()=>{var l,o,i;return[$(t,{class:"my-auto mr-3 is-size-6"},{default:I((()=>[w(z(a.$t("Blood_samples_taken_date")),1)])),_:1}),$(s,{value:null==(i=null==(o=null==(l=e.patient)?void 0:l.last_visit)?void 0:o.blood_sample)?void 0:i.chemical_date,disabled:""},null,8,["value"])]})),_:1})])),_:1}),$(g,{"flex-basis":"45%"},{default:I((()=>[$(b,{horizontal:""},{default:I((()=>[$(t,{class:"my-auto mr-3 is-size-6"},{default:I((()=>[w(z(a.$t("Analysis_date")),1)])),_:1}),$(v,null,{default:I((()=>[$(f,{modelValue:T.data.date_analysis,"onUpdate:modelValue":l[0]||(l[0]=a=>T.data.date_analysis=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),$(g,{"flex-basis":"45%"},{default:I((()=>{var l,t;return[U("h5",null,[U("span",Y,z(a.$t("Visit_stage"))+":",1),U("span",null,z(null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.stage),1)])]})),_:1}),$(g,{"flex-basis":"45%"},{default:I((()=>{var l,t,s,o;return[U("h5",null,[U("span",Z,z(a.$t("Preliminary_blood_type"))+":",1),U("span",null,z(null==(o=null==(s=null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.primary_screening_result)?void 0:s.blood_type)?void 0:o.label),1)])]})),_:1})])),_:1})]),G,U("h5",Q,z(a.$t("Analysis_results")),1),U("div",X,[U("div",aa,[U("div",la,[U("div",ea,[U("h5",ta,z(a.$t("Final_blood_type")),1),U("div",sa,[U("div",oa,[O(U("input",{id:"oab1","onUpdate:modelValue":l[1]||(l[1]=a=>T.data.blood_group=a),type:"radio",value:"oab1"},null,512),[[B,T.data.blood_group]]),ia]),U("div",na,[O(U("input",{id:"ab2","onUpdate:modelValue":l[2]||(l[2]=a=>T.data.blood_group=a),type:"radio",value:"ab2"},null,512),[[B,T.data.blood_group]]),da]),U("div",ua,[O(U("input",{id:"a2b2","onUpdate:modelValue":l[3]||(l[3]=a=>T.data.blood_group=a),type:"radio",value:"a2b2"},null,512),[[B,T.data.blood_group]]),ra]),U("div",pa,[O(U("input",{id:"a2a1b2","onUpdate:modelValue":l[4]||(l[4]=a=>T.data.blood_group=a),type:"radio",value:"a2a1b2"},null,512),[[B,T.data.blood_group]]),_a]),U("div",ca,[O(U("input",{id:"ba3","onUpdate:modelValue":l[5]||(l[5]=a=>T.data.blood_group=a),type:"radio",value:"ba3"},null,512),[[B,T.data.blood_group]]),ma]),U("div",va,[O(U("input",{id:"ab04","onUpdate:modelValue":l[6]||(l[6]=a=>T.data.blood_group=a),type:"radio",value:"ab04"},null,512),[[B,T.data.blood_group]]),ba]),U("div",ga,[O(U("input",{id:"a2b04","onUpdate:modelValue":l[7]||(l[7]=a=>T.data.blood_group=a),type:"radio",value:"a2b04"},null,512),[[B,T.data.blood_group]]),fa]),U("div",ya,[O(U("input",{id:"a2ba14","onUpdate:modelValue":l[8]||(l[8]=a=>T.data.blood_group=a),type:"radio",value:"a2ba14"},null,512),[[B,T.data.blood_group]]),ha]),U("div",Va,[O(U("input",{id:"not_recognized","onUpdate:modelValue":l[9]||(l[9]=a=>T.data.blood_group=a),type:"radio",value:"not_recognized"},null,512),[[B,T.data.blood_group]]),U("label",xa,z(a.$t("Blood_type_is_not_determined")),1)]),U("div",ja,[O(U("input",{id:"panagglutination","onUpdate:modelValue":l[10]||(l[10]=a=>T.data.blood_group=a),type:"radio",value:"panagglutination"},null,512),[[B,T.data.blood_group]]),U("label",Ia,z(a.$t("Panagglutination")),1)])])])]),U("div",Ua,[U("div",za,[U("h5",$a,z(a.$t("Rhesus_affiliation")),1),U("div",wa,[U("div",Oa,[O(U("input",{id:"rh+","onUpdate:modelValue":l[11]||(l[11]=a=>T.data.rh_factor=a),type:"radio",value:"rh+"},null,512),[[B,T.data.rh_factor]]),Ba]),U("div",Fa,[O(U("input",{id:"rh-","onUpdate:modelValue":l[12]||(l[12]=a=>T.data.rh_factor=a),type:"radio",value:"rh-"},null,512),[[B,T.data.rh_factor]]),Ca]),U("div",Ra,[O(U("input",{id:"du","onUpdate:modelValue":l[13]||(l[13]=a=>T.data.rh_factor=a),type:"radio",value:"du"},null,512),[[B,T.data.rh_factor]]),ka]),U("div",Aa,[O(U("input",{id:"rh1","onUpdate:modelValue":l[14]||(l[14]=a=>T.data.rh_factor=a),type:"radio",value:"rh1"},null,512),[[B,T.data.rh_factor]]),Ma]),U("div",Da,[O(U("input",{id:"rh2","onUpdate:modelValue":l[15]||(l[15]=a=>T.data.rh_factor=a),type:"radio",value:"rh2"},null,512),[[B,T.data.rh_factor]]),Ta])])]),U("div",null,[U("div",qa,[U("label",Ha,z(a.$t("Comment")),1),U("div",La,[O(U("textarea",{id:"note","onUpdate:modelValue":l[16]||(l[16]=a=>T.data.note=a),class:"textarea",rows:3},null,512),[[F,T.data.note]])])])])]),U("div",Pa,[$(b,{horizontal:"",class:"is-align-items-center is-justify-content-end"},{default:I((()=>[U("h5",Ea,z(a.$t("Natural_antibodies_titer")),1),$(v,null,{default:I((()=>[$(h,{modelValue:T.data.titer_body,"onUpdate:modelValue":l[17]||(l[17]=a=>T.data.titer_body=a),options:M,label:"label","value-prop":"value",style:{width:"15rem"}},null,8,["modelValue"])])),_:1})])),_:1}),U("div",Na,[U("div",Sa,[Ja,U("div",Ka,[U("div",Wa,[U("p",Ya,[O(U("input",{"onUpdate:modelValue":l[18]||(l[18]=a=>T.data.titer_body_alpha=a),class:"input",type:"text"},null,512),[[F,T.data.titer_body_alpha]])])])])]),U("div",Za,[Ga,U("div",Qa,[U("div",Xa,[U("p",al,[O(U("input",{"onUpdate:modelValue":l[19]||(l[19]=a=>T.data.titer_body_beta=a),class:"input",type:"text"},null,512),[[F,T.data.titer_body_beta]])])])])])])]),U("div",ll,[$(b,{horizontal:"",class:"is-align-items-center"},{default:I((()=>[U("h5",el,z(a.$t("Incomplete_immune_antibodies")),1),$(v,{class:"is-flex"},{default:I((()=>[$(h,{modelValue:T.data.immune,"onUpdate:modelValue":l[20]||(l[20]=a=>T.data.immune=a),options:D,label:"label","value-prop":"value",style:{"min-width":"15rem"}},null,8,["modelValue"])])),_:1}),tl,U("p",sl,[O(U("input",{"onUpdate:modelValue":l[21]||(l[21]=a=>T.data.immune_result=a),class:"input",type:"text",style:{width:"3rem"}},null,512),[[F,T.data.immune_result]])])])),_:1}),$(b,{horizontal:"",class:""},{default:I((()=>[$(v,null,{default:I((()=>[$(C,{modelValue:T.data.chilez,"onUpdate:modelValue":l[22]||(l[22]=a=>T.data.chilez=a),color:"primary",label:a.$t("Hemolysis")},null,8,["modelValue","label"])])),_:1})])),_:1}),$(b,{horizontal:"",class:""},{default:I((()=>[$(v,null,{default:I((()=>[$(C,{modelValue:T.data.hemolysis,"onUpdate:modelValue":l[23]||(l[23]=a=>T.data.hemolysis=a),color:"primary",label:a.$t("Hiles")},null,8,["modelValue","label"])])),_:1})])),_:1})])])])]})),action:I((()=>[$(A,{loading:k.value,onClick:H},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-ec53a158"]]),il={class:"page-content-inner"},nl={class:"columns mb-3"},dl={class:"column"},ul={class:"columns mt-1"},rl={class:"column"},pl=q(v({__name:"index",async setup(a){let l,o;const{t:i}=g(),n=P(),d=f(!1);E().setPageTitle(i("Immunological-Research-Department")),k({title:`${i("Immunological_research_specimens_list")} - ${n.app.name}`});const u=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),r=f(1),p=y({visit_type_id:[],donation_type_id:[],donation_code:[]}),_=y({visit_type_id:"",donation_type_id:null,donation_code:""}),c=f(null),m=f(!1),v=f(!1);async function b(a){var l,t;try{d.value=!0,Object.assign(_,a);const l={...a,page:u.pagination.current_page},t=await e(l);Object.assign(u,t.result)}catch(s){Object.assign(p,null==(t=null==(l=s.response)?void 0:l.data)?void 0:t.errors)}finally{d.value=!1}}function V(a){p[a]=""}async function j(){u.data=[]}function I(a){c.value=a,m.value=!0}return[l,o]=A((()=>b(_))),await l,o(),h(r,(async a=>{a&&await b(_)})),(a,l)=>{const e=L,o=H,i=ol,_=s;return x(),M("div",il,[U("div",nl,[U("div",dl,[$(e,{"with-icons":"",separator:"bullet",items:[{label:D(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:a.$t("Immunological-Research-Department")},{label:a.$t("Immunological_research_specimens_list")}]},null,8,["items"])])]),U("div",ul,[U("div",rl,[$(t,{"is-loading":D(d),errors:D(p),onSearch:b,onClearForm:j,onClearError:V},null,8,["is-loading","errors"])])]),$(o,{"current-page":D(r),"onUpdate:current-page":l[0]||(l[0]=a=>T(r)?r.value=a:null),data:D(u),"is-loading":D(d),onOpenFormModal:I},null,8,["current-page","data","is-loading"]),$(i,{"is-open":D(m),"onUpdate:is-open":l[1]||(l[1]=a=>T(m)?m.value=a:null),patient:D(c),onEmergencyNoticing:l[2]||(l[2]=a=>v.value=!D(v))},null,8,["is-open","patient"]),$(_,{"is-open":D(v),"onUpdate:is-open":l[3]||(l[3]=a=>T(v)?v.value=a:null),patient:D(c)},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-dda47ac9"]]);export{pl as default};
