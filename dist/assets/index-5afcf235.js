import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-8d9e700e.js";import{a as t,_ as s,b as a}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-50d3ac24.js";import{_ as r,a as n}from"./VControl-f7fb3a1b.js";import{q as i,E as o,H as l,C as _,x as p,r as u,A as d,J as c,j as m,o as g,d as v,e as y,t as h,k as f,K as b,w as j,i as w,m as x}from"./index-98bd5d96.js";import{_ as V}from"./vue-scrollto-75737242.js";import{u as k}from"./viewWrapper-68c9a3c0.js";import{p as $,k as C}from"./patient-81564020.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-760644c4.js";import"./VInput.vue_vue_type_script_setup_true_lang-66ceaea3.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-a7c6e41e.js";import"./additional-acd45769.js";import"./ClientOnly.vue_vue_type_script_lang-c4665ea8.js";import"./VRadio.vue_vue_type_style_index_0_lang-6dace82f.js";const E=["onSubmit"],I={class:"columns"},P={class:"column"},O={class:"ml-5"},S={class:"column"},A={class:"ml-5"},M={class:"help has-text-danger"},R={class:"column"},q={class:"ml-5"},D={class:"buttons is-right mr-5"},N=(V.__esModule&&V.default,i({__name:"index",setup(i){const V=o(),N=l(),{t:T}=_();p(0);const B=p(!1);p(-1);const F=k(),H=u({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),J=u({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),K=p([]);d((async()=>{const e=await $();K.value=e.result})),F.setPageTitle(T("Registration")),c({title:T("Register-donors")});const U=async()=>{var e;Object.getOwnPropertyNames(J).forEach((e=>{e in J&&(J[e]=[])}));try{B.value=!0;const e=await C(H);N.success("New patient data is successfully stored!"),V.push(`/app/registration/unified-donor-register/${e.result.id}`)}catch(t){Object.assign(J,null==(e=t.response)?void 0:e.data.errors)}finally{B.value=!1}};function W(e){J[e]=""}return(i,o)=>{const l=t,_=s,p=m("Multiselect"),u=r,d=n,c=a,V=e;return g(),v("form",{class:"s-card",onSubmit:x(U,["prevent"])},[y("div",I,[y("div",P,[y("h3",O,[y("span",null,h(i.$t("Certifying_document")),1)]),f(l,{patient:b(H),errors:b(J),onEditing:W},null,8,["patient","errors"])]),y("div",S,[y("h3",A,[y("span",null,h(i.$t("Personal_Info")),1)]),f(_,{patient:b(H),errors:b(J),onEditing:W},null,8,["patient","errors"]),f(d,{class:"px-5",label:i.$t("Category"),required:""},{default:j((()=>[f(u,null,{default:j((()=>[f(p,{modelValue:b(H).patient_category_id,"onUpdate:modelValue":o[0]||(o[0]=e=>b(H).patient_category_id=e),options:b(K),placeholder:i.$t("Select_category"),label:"name","value-prop":"id",onChange:o[1]||(o[1]=e=>W("patient_category_id"))},null,8,["modelValue","options","placeholder"]),y("p",M,h(b(J).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"])]),y("div",R,[y("h3",q,[y("span",null,h(i.$t("Address")),1)]),f(c,{patient:b(H),errors:b(J),onEditing:W},null,8,["patient","errors"])])]),y("div",D,[f(V,{type:"submit",color:"primary",bold:"",loading:b(B),disabled:b(B),tabindex:"0"},{default:j((()=>[w(h(i.$t("Save")),1)])),_:1},8,["loading","disabled"])])],40,E)}}}));export{N as default};
