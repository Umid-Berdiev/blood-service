import{_ as l,a as e}from"./FilterForm.vue_vue_type_script_setup_true_lang-a8f421f8.js";import{_ as a,a as t,b as s}from"./VFlexTable.vue_vue_type_style_index_0_lang-68179e43.js";import{_ as o,a as i,b as n,c as u,d}from"./search-7-dark-b6479367.js";import{_ as r}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-faf20e2b.js";import{q as _,H as m,C as c,x as p,r as f,o as y,a as v,w as g,e as b,t as h,k as V,i as x,K as z,a6 as j,L as k,M as U,E as w,J as D,c as Y,ag as M,d as $,g as C,F as O,l as F,S as I}from"./index-568ad137.js";import{_ as B}from"./lodash-c54dbb06.js";import{_ as T}from"./VModal.vue_vue_type_style_index_0_lang-1ec5e12b.js";import{_ as S}from"./SubmitButton.vue_vue_type_script_setup_true_lang-ca217c20.js";import{_ as E}from"./VCheckbox.vue_vue_type_style_index_0_lang-1a73654b.js";import{_ as L}from"./VFlex.vue_vue_type_style_index_0_lang-8f30b873.js";import{_ as N}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-38070980.js";import{_ as P}from"./VFlexItem.vue_vue_type_style_index_0_lang-ce376e13.js";import{b as q,_ as A,a as H}from"./VControl-b713a764.js";import{_ as W}from"./VInput.vue_vue_type_script_setup_true_lang-dccc8f42.js";import{m as Z}from"./moment-78dc6435.js";import{_ as J}from"./_plugin-vue_export-helper-1b428a4d.js";import{u as K}from"./main-7fc6984e.js";import{u as R}from"./viewWrapper-feca89b2.js";import{f as X}from"./patient-33059bc9.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-2a7f6a68.js";import"./VRadio.vue_vue_type_style_index_0_lang-96440a75.js";import"./VCard.vue_vue_type_script_setup_true_lang-3b674ece.js";import"./VButton.vue_vue_type_style_index_0_lang-fc4409cd.js";import"./VPlaceload-33f57994.js";import"./VIMaskInput.vue_vue_type_script_lang-6492e1cb.js";const G=l=>(k("data-v-866685fa"),l=l(),U(),l),Q={class:"columns"},ll={class:"column"},el={class:"is-size-5 has-text-weight-medium"},al={class:"box"},tl={class:"has-text-weight-bold"},sl=G((()=>b("br",null,null,-1))),ol={class:"box"},il=G((()=>b("hr",{class:"is-divider"},null,-1))),nl=G((()=>b("br",null,null,-1))),ul={class:"columns is-multiline"},dl={class:"column is-4-desktop is-6-tablet"},rl={class:"column is-4-desktop is-6-tablet"},_l={class:"column is-4-desktop is-6-tablet"},ml={class:"column is-4-desktop is-6-tablet"},cl=G((()=>b("span",{class:"has-text-danger"},"*",-1))),pl={class:"column is-4-desktop is-6-tablet"},fl={class:"column is-4-desktop is-6-tablet"},yl={class:"column is-4-desktop is-6-tablet"},vl=G((()=>b("span",{class:"has-text-danger"},"*",-1))),gl={class:"column is-4-desktop is-6-tablet"},bl=G((()=>b("br",null,null,-1))),hl=G((()=>b("p",{class:"has-text-danger"}," Красным цветом указаны показатели, заданные врачом-терапевтом, как обязательные для определения ",-1))),Vl=G((()=>b("h5",{class:"is-size-5 py-1 has-text-centered"},"Лейкоформула",-1))),xl=G((()=>b("br",null,null,-1))),zl={class:"box"},jl={class:"columns is-multiline"},kl={class:"column is-4-desktop is-6-tablet"},Ul={class:"column is-4-desktop is-6-tablet"},wl={class:"column is-4-desktop is-6-tablet"},Dl={class:"column is-4-desktop is-6-tablet"},Yl={class:"column is-4-desktop is-6-tablet"},Ml={class:"column is-4-desktop is-6-tablet"},$l=G((()=>b("hr",{class:"is-divider"},null,-1))),Cl={class:"box"},Ol=Z.__esModule?Z.default:Z,Fl=J(_({__name:"FormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list"],setup(l,{emit:e}){m();const{t:a}=c(),t=p(a("Hemotransmission_research_results")),s=p(!1),o=f({leykotsity:"",trombotsity:""}),i=f({blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]});function n(){Object.assign(o,{blood_samples_taken_date:Ol().format("YYYY-MM-DD"),analysis_date:Ol().format("YYYY-MM-DD"),clinical_biochemical_laboratory_date:Ol().format("YYYY-MM-DD")}),Object.assign(i,{blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),e("update:isOpen",!1)}return(e,a)=>{const i=q,u=W,d=A,r=H,_=P,m=N,c=L,p=E,f=S,k=T;return y(),v(k,{open:l.isOpen,size:"big",title:t.value,actions:"right",onClose:n},{content:g((()=>{var t;return[b("div",Q,[b("div",ll,[b("h5",el,h(e.$t("Donor_code"))+": "+h(null==(t=l.patient.last_visit)?void 0:t.donation_code),1)])]),b("div",al,[V(c,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:g((()=>[V(_,{"flex-basis":"45%"},{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(i,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[x(h(e.$t("Blood_sampling_date")),1)])),_:1}),V(d,null,{default:g((()=>{var e;return[V(u,{value:z(j)(new Date(null==(e=l.patient.last_visit)?void 0:e.updated_at),"YYYY-MM-DD"),disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),V(_,{"flex-basis":"45%"},{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(i,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[x(h(e.$t("Blood_samples_taken_date")),1)])),_:1}),V(d,null,{default:g((()=>[V(m,{modelValue:o.blood_samples_taken_date,"onUpdate:modelValue":a[0]||(a[0]=l=>o.blood_samples_taken_date=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(_,{"flex-basis":"45%"},{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(i,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[x(h(e.$t("Analysis_date")),1)])),_:1}),V(d,null,{default:g((()=>[V(m,{modelValue:o.analysis_date,"onUpdate:modelValue":a[1]||(a[1]=l=>o.analysis_date=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(_,{"flex-basis":"45%"},{default:g((()=>{var a;return[b("h5",null,[b("span",tl,h(e.$t("Visit_stage")),1),b("span",null,h(null==(a=l.patient.last_visit)?void 0:a.stage),1)])]})),_:1})])),_:1})]),sl,b("div",ol,[V(c,{"flex-wrap":"wrap","align-items":"center","column-gap":"2rem"},{default:g((()=>[V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3"},{default:g((()=>[x("ALT, ml. mol/l")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.alt,"onUpdate:modelValue":a[2]||(a[2]=l=>o.alt=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3"},{default:g((()=>[x("Реагент")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.reagent,"onUpdate:modelValue":a[3]||(a[3]=l=>o.reagent=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(d,null,{default:g((()=>[V(p,{modelValue:o.norma,"onUpdate:modelValue":a[4]||(a[4]=l=>o.norma=l),color:"primary",label:"Норма"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),il,V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(d,null,{default:g((()=>[V(p,{modelValue:o.plmal,"onUpdate:modelValue":a[5]||(a[5]=l=>o.plmal=l),color:"primary",label:"Plmal"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),nl,b("div",ul,[b("div",dl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Билирубин, мл.моль/л")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.bilirubin,"onUpdate:modelValue":a[6]||(a[6]=l=>o.bilirubin=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",rl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Общий белок, ед.")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.obshiy_belok,"onUpdate:modelValue":a[7]||(a[7]=l=>o.obshiy_belok=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",_l,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Тимоловые пробы")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.timolovye_proby,"onUpdate:modelValue":a[8]||(a[8]=l=>o.timolovye_proby=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",ml,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x(" Лейкоциты (Z), ед/л"),cl])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.leykotsity,"onUpdate:modelValue":a[9]||(a[9]=l=>o.leykotsity=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",pl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("СОЭ, мл/ч")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.soe,"onUpdate:modelValue":a[10]||(a[10]=l=>o.soe=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",fl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Эритроциты, ед/л")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.eritrotsity,"onUpdate:modelValue":a[11]||(a[11]=l=>o.eritrotsity=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",yl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x(" Тромбоциты, л"),vl])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.trombotsity,"onUpdate:modelValue":a[12]||(a[12]=l=>o.trombotsity=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",gl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x(" Гематокрит, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.gematokrit,"onUpdate:modelValue":a[13]||(a[13]=l=>o.gematokrit=l)},null,8,["modelValue"])])),_:1})])),_:1})])]),bl,hl]),Vl,xl,b("div",zl,[b("div",jl,[b("div",kl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Базофилы, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.bazofily,"onUpdate:modelValue":a[14]||(a[14]=l=>o.bazofily=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",Ul,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Эозинофилы, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.eozinofily,"onUpdate:modelValue":a[15]||(a[15]=l=>o.eozinofily=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",wl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Палочкоядерные, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.palochkoyadernye,"onUpdate:modelValue":a[16]||(a[16]=l=>o.palochkoyadernye=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",Dl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x(" Сегментоядерные, % ")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.segmentoyadernye,"onUpdate:modelValue":a[17]||(a[17]=l=>o.segmentoyadernye=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",Yl,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Лимфоциты, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.limfotsity,"onUpdate:modelValue":a[18]||(a[18]=l=>o.limfotsity=l)},null,8,["modelValue"])])),_:1})])),_:1})]),b("div",Ml,[V(r,{horizontal:"",class:"is-justify-content-end"},{default:g((()=>[V(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:g((()=>[x("Моноциты, %")])),_:1}),V(d,null,{default:g((()=>[V(u,{modelValue:o.monotsity,"onUpdate:modelValue":a[19]||(a[19]=l=>o.monotsity=l)},null,8,["modelValue"])])),_:1})])),_:1})])])]),$l,b("div",Cl,[V(c,null,{default:g((()=>[V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(d,null,{default:g((()=>[V(p,{modelValue:o.hilez,"onUpdate:modelValue":a[20]||(a[20]=l=>o.hilez=l),color:"primary",label:"Хилез"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(_,null,{default:g((()=>[V(r,{horizontal:""},{default:g((()=>[V(d,null,{default:g((()=>[V(p,{modelValue:o.gemoliz,"onUpdate:modelValue":a[21]||(a[21]=l=>o.gemoliz=l),color:"primary",label:"Гемолиз"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])]})),action:g((()=>[V(f,{loading:s.value,form:"blood-sampling-form"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-866685fa"]]),Il=l=>(k("data-v-eab874c2"),l=l(),U(),l),Bl={class:"page-content-inner"},Tl={class:"columns mb-3"},Sl={class:"column"},El={class:"columns mt-1"},Ll={class:"column"},Nl={class:"columns"},Pl={class:"column is-12"},ql={key:0,class:"is-flex-grow-0",textContent:"#"},Al={key:0,class:"flex-list-inner"},Hl={key:1,class:"flex-list-inner"},Wl=Il((()=>b("img",{class:"light-image",src:u,alt:""},null,-1))),Zl=Il((()=>b("img",{class:"dark-image",src:d,alt:""},null,-1))),Jl=["onClick"],Kl=B.isEmpty,Rl=J(_({__name:"index",async setup(u){let d,_;w();const x=m(),{t:k}=c(),U=K(),B=p(!1);R().setPageTitle(k("Clinical-biochemical-laboratory")),D({title:`${k("Donor_list_for_blood_sampling")} - ${U.app.name}`});const T=f({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),S=Y({get:()=>T.pagination.current_page,set:async l=>{N.page=l,await H(N)}}),E={orderNumber:{format:(l,e,a)=>`${a+1}`,cellClass:"is-flex-grow-0"},donation_code:{label:k("Donation_code")},blood_sampling_date:{label:k("Blood_sampling_date")},name:{label:k("Donor_fullname")},birth_date:{label:k("Date-of-birth")},visit_type:{label:k("Visit_type"),format:(l,e)=>{var a,t;return(null==(a=e.last_visit)?void 0:a.visit_type)&&k(null==(t=e.last_visit)?void 0:t.visit_type)}},visit_date:{label:k("Visit_date"),format:(l,e)=>{var a,t;return(null==(a=e.last_visit)?void 0:a.created_at)&&j(new Date(null==(t=e.last_visit)?void 0:t.created_at),"YYYY-MM-DD")}},donation_type:{label:k("Donation_type"),format:(l,e)=>{var a;return null==(a=e.last_visit)?void 0:a.personalized_donation}},visit_stage:{label:k("Visit_stage"),format:(l,e)=>{var a,t;return null==(t=null==(a=e.last_visit)?void 0:a.stage)?void 0:t.name}}};p();const L=f({visit_type_id:[],donation_type_id:[],donation_code:[]}),N=f({page:1}),P=f({}),q=p(!1),A=p(!0);async function H(l){var e,a;try{Object.assign(N,l),B.value=!0;const e=await X(l);Object.assign(T,e.result),Kl(e.result.data)?x.warning(k("Data_not_found")):x.success(`${k("Found")}: ${e.result.pagination.total} ${k("records")}`)}catch(t){Object.assign(L,null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.errors)}finally{B.value=!1}}function W(l){L[l]=""}async function Z(){T.data=[]}return[d,_]=M((()=>H(N))),await d,_(),(u,d)=>{const _=r,m=l,c=o,p=a,f=i,x=t,j=n,k=s,w=e;return y(),$("div",Bl,[b("div",Tl,[b("div",Sl,[V(_,{"with-icons":"",separator:"bullet",items:[{label:z(U).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:u.$t("Screening")},{label:u.$t("Donor_list_for_blood_sampling")}]},null,8,["items"])])]),b("div",El,[b("div",Ll,[V(m,{"is-loading":z(B),errors:z(L),onSearch:H,onClearForm:Z,onClearError:W},null,8,["is-loading","errors"])])]),b("div",Nl,[b("div",Pl,[V(k,{columns:z(E),data:z(T).data,limit:z(T).pagination.per_page,total:z(T).pagination.total},{default:g((()=>[V(x,{rounded:"","no-header":!z(B)&&0===z(T).data.length},{"header-column":g((({column:l})=>["orderNumber"===l.key?(y(),$("span",ql)):C("",!0)])),body:g((()=>[z(B)?(y(),$("div",Al,[(y(!0),$(O,null,F(z(T).pagination.per_page,(l=>(y(),$("div",{key:l,class:"flex-table-item"},[V(p,null,{default:g((()=>[V(c,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):C("",!0),0===z(T).data.length?(y(),$("div",Hl,[V(f,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:g((()=>[Wl,Zl])),_:1})])):C("",!0)])),"body-cell":g((({row:l,column:e})=>["name"===e.key?(y(),$("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:e=>{return a=l,Object.assign(P,a),void(q.value=!0);var a}},h(l.first_name)+" "+h(l.last_name)+" "+h(l.father_name)+" ",9,Jl)):C("",!0)])),_:1},8,["no-header"]),z(T).data.length?(y(),v(j,{key:0,"current-page":z(S),"onUpdate:current-page":d[0]||(d[0]=l=>I(S)?S.value=l:null),class:"mt-5","item-per-page":z(T).pagination.per_page,"total-items":z(T).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):C("",!0)])),_:1},8,["columns","data","limit","total"])])]),V(Fl,{"is-open":z(q),"onUpdate:is-open":d[1]||(d[1]=l=>I(q)?q.value=l:null),patient:z(P)},null,8,["is-open","patient"]),V(w,{"is-open":z(A),"onUpdate:is-open":d[2]||(d[2]=l=>I(A)?A.value=l:null),patient:z(P)},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-eab874c2"]]);export{Rl as default};
