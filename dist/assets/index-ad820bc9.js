import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-b0507e96.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-e5001c63.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-5ce26ef4.js";import{_ as l,a as n}from"./VControl-fc151345.js";import{_ as o}from"./VRadio.vue_vue_type_style_index_0_lang-03da69fa.js";import{a as s,b as u,r as i,l as r,t as p,q as _,Q as m,V as c,p as d,w as y,m as g,u as f,M as v,W as h,y as b,i as j,$ as V,a0 as k}from"./chunk-BGPNDDXN-dcda8805.js";import{f as $}from"./@vueuse_core-098eb702.js";import{u as D}from"./chunk-3UEUFEGV-d557e6b1.js";import{u as q}from"./useNotyf-1536ae84.js";import{_ as w}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as x}from"./VCard.vue_vue_type_script_setup_true_lang-a9232da9.js";import{a as C,_ as M,b as O,c as Q,d as U}from"./search-7-dark-f0facebe.js";import{_ as Y}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d3c7c667.js";import{u as I}from"./chunk-DRAQDPQ2-4514f14e.js";import{u as B}from"./@vueuse_head-0d019878.js";import{u as N}from"./main-a3a6220c.js";import{u as R}from"./viewWrapper-c60f0ce7.js";import"./VButton.vue_vue_type_style_index_0_lang-27d6885c.js";import"./VPlaceload-2a65ae53.js";import"./VIMaskInput.vue_vue_type_script_lang-06d40a07.js";import"./moment-e00bdeae.js";import"./VFlex.vue_vue_type_style_index_0_lang-0938e556.js";import"./pinia-3af6ce52.js";const P={class:"table-container"},F={class:"table is-fullwidth"},S=w(s({__name:"QualityCheckFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:y}){q();const{t:g}=D(),f=u(g("Quality_check_result")),v=u(!1),h=i({component_quality:"satisfactory",result_date:$(new Date,"YYYY-MM-DD")}),b=i({component_quality:[],result_date:[]});function j(){Object.assign(h,{component_quality:"satisfactory",result_date:$(new Date,"YYYY-MM-DD")}),Object.assign(b,{component_quality:[],result_date:[]}),y("update:isOpen",!1)}return(u,i)=>{const y=o,g=l,b=n,V=a,k=e,$=t;return r(),p($,{open:s.isOpen,size:"large",title:f.value,actions:"right",onClose:j},{content:_((()=>[m("div",P,[m("table",F,[m("tbody",null,[m("tr",null,[m("th",null,c(u.$t("Donation_code")),1),m("td",null,c(s.component.donation_code),1)]),m("tr",null,[m("th",null,c(u.$t("Donation_date")),1),m("td",null,c(s.component.donation_date),1)]),m("tr",null,[m("th",null,c(u.$t("Component_name")),1),m("td",null,c(s.component.component_name),1)]),m("tr",null,[m("th",null,c(u.$t("Component_quality")),1),m("td",null,[d(b,null,{default:_((()=>[d(g,null,{default:_((()=>[d(y,{modelValue:h.component_quality,"onUpdate:modelValue":i[0]||(i[0]=t=>h.component_quality=t),value:"satisfactory",color:"primary",label:u.$t("Satisfactory")},null,8,["modelValue","label"]),d(y,{modelValue:h.component_quality,"onUpdate:modelValue":i[1]||(i[1]=t=>h.component_quality=t),value:"not_satisfactory",color:"primary",label:u.$t("Not_satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),m("tr",null,[m("th",null,c(u.$t("Result_date")),1),m("td",null,[d(b,null,{default:_((()=>[d(g,null,{default:_((()=>[d(V,{modelValue:h.result_date,"onUpdate:modelValue":i[2]||(i[2]=t=>h.result_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:_((()=>[d(k,{loading:v.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-f8274547"]]),E=t=>(V("data-v-f330a592"),t=t(),k(),t),G={class:"page-content-inner"},T={class:"columns mb-5"},W={class:"column is-narrow"},z={class:"columns"},A={class:"column"},L={class:"table-container"},X={key:0,class:"flex-list-inner"},H=E((()=>m("img",{class:"light-image",src:Q,alt:""},null,-1))),J=E((()=>m("img",{class:"dark-image",src:U,alt:""},null,-1))),K={key:1,class:"table is-hoverable is-fullwidth"},Z={colspan:"5"},tt=["onClick"],et=w(s({__name:"index",setup(t){I();const e=q(),{t:a}=D(),l=N(),n=u(!1),o=R();u(null),o.setPageTitle(a("Quality-control")),B({title:`${a("Received_components_list")} - ${l.app.name}`});const s=i({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",dose:"0",quantity:"300",component_name:"Эритроцитная масса"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),V=i({}),k=u(!1);async function $(){try{n.value=!0}catch(t){e.error(a("Something_went_wrong"))}finally{n.value=!1}}return y(k,(function(t){!1===t&&Object.assign(V,{})})),(t,e)=>{const a=Y,o=C,u=M,i=O,y=x,D=S;return r(),g("div",G,[m("div",T,[m("div",W,[d(a,{"with-icons":"",separator:"bullet",items:[{label:f(l).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Quality-control")},{label:t.$t("Received_components_list")}]},null,8,["items"])])]),m("div",z,[m("div",A,[d(y,null,{default:_((()=>[m("div",L,[0===f(s).data.length?(r(),g("div",X,[d(o,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:_((()=>[H,J])),_:1})])):(r(),g("table",K,[m("thead",null,[m("tr",null,[m("th",null,c(t.$t("Donation_date")),1),m("th",null,c(t.$t("Donation_code")),1),m("th",null,c(t.$t("Dose")),1),m("th",null,c(t.$t("Quantity_ml")),1),m("th",null,c(t.$t("Component_name")),1)])]),m("tbody",null,[f(n)?(r(!0),g(v,{key:0},h(f(s).pagination.per_page,(t=>(r(),g("tr",{key:t},[m("td",Z,[d(u,{lines:2,"last-line-width":"70%"})])])))),128)):(r(!0),g(v,{key:1},h(f(s).data,((t,e)=>(r(),g("tr",{key:e},[m("td",null,c(t.donation_date),1),m("td",null,[m("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(V,t),k.value=!0}(t)},c(t.donation_code),9,tt)]),m("td",null,c(t.dose),1),m("td",null,c(t.quantity),1),m("td",null,c(t.component_name),1)])))),128))])]))]),f(s).data.length?(r(),p(i,{key:0,"current-page":f(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>f(s).pagination.current_page=t),class:"mt-5","item-per-page":f(s).pagination.per_page,"total-items":f(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):b("",!0)])),_:1})])]),d(D,{"is-open":f(k),"onUpdate:is-open":e[1]||(e[1]=t=>j(k)?k.value=t:null),component:f(V),"onUpdate:list":$},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-f330a592"]]);export{et as default};
