import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-5d90c6b2.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-6d2139a4.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-6474213d.js";import{_ as n,a as l}from"./VControl-f7fb3a1b.js";import{_ as o}from"./VInput.vue_vue_type_script_setup_true_lang-66ceaea3.js";import{q as s,H as u,C as i,x as r,r as _,a7 as p,o as d,a as c,w as m,e as g,t as b,k as y,E as h,J as v,y as f,d as j,K as $,F as k,l as D,g as V,U as w,L as x,M as C}from"./index-98bd5d96.js";import{_ as M}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as O}from"./VCard.vue_vue_type_script_setup_true_lang-bb96f312.js";import{a as Y,_ as I,b as S,c as U,d as q}from"./search-7-dark-8086cfd0.js";import{_ as B}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-e0d2add1.js";import{u as F}from"./main-f6ba09a2.js";import{u as L}from"./viewWrapper-68c9a3c0.js";import"./VButton.vue_vue_type_style_index_0_lang-8d9e700e.js";import"./VIMaskInput.vue_vue_type_script_lang-760644c4.js";import"./moment-29978768.js";import"./VFlex.vue_vue_type_style_index_0_lang-d4822231.js";const Q={class:"table-container"},T={class:"table is-fullwidth"},z=M(s({__name:"ScrappingFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:h}){u();const{t:v}=i(),f=r(v("Scrapping_component")),j=r(!1),$=_({batch_number:"",destruction_date:p(new Date,"YYYY-MM-DD")}),k=_({batch_number:[],destruction_date:[]});function D(){Object.assign($,{batch_number:"",destruction_date:p(new Date,"YYYY-MM-DD")}),Object.assign(k,{batch_number:[],destruction_date:[]}),h("update:isOpen",!1)}return(u,i)=>{const r=o,_=n,p=l,h=a,v=e,k=t;return d(),c(k,{open:s.isOpen,size:"large",title:f.value,actions:"right",onClose:D},{content:m((()=>[g("div",Q,[g("table",T,[g("tbody",null,[g("tr",null,[g("th",null,b(u.$t("Donation_date")),1),g("td",null,b(s.component.donation_date),1)]),g("tr",null,[g("th",null,b(u.$t("Donation_code")),1),g("td",null,b(s.component.donation_code),1)]),g("tr",null,[g("th",null,b(u.$t("Dose")),1),g("td",null,b(s.component.dose),1)]),g("tr",null,[g("th",null,b(u.$t("Component_name")),1),g("td",null,b(s.component.component_name),1)]),g("tr",null,[g("th",null,b(u.$t("Quantity_ml")),1),g("td",null,b(s.component.quantity),1)]),g("tr",null,[g("th",null,b(u.$t("Batch number")),1),g("td",null,[y(p,null,{default:m((()=>[y(_,null,{default:m((()=>[y(r,{modelValue:$.batch_number,"onUpdate:modelValue":i[0]||(i[0]=t=>$.batch_number=t),value:"satisfactory",color:"primary",label:u.$t("Satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,b(u.$t("Destruction_date")),1),g("td",null,[y(p,null,{default:m((()=>[y(_,null,{default:m((()=>[y(h,{modelValue:$.destruction_date,"onUpdate:modelValue":i[1]||(i[1]=t=>$.destruction_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:m((()=>[y(v,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-9daf7067"]]),E=t=>(x("data-v-03ef25e1"),t=t(),C(),t),H={class:"page-content-inner"},J={class:"columns mb-5"},K={class:"column is-narrow"},N={class:"columns"},P={class:"column"},W={class:"table-container"},Z={key:0,class:"flex-list-inner"},A=E((()=>g("img",{class:"light-image",src:U,alt:""},null,-1))),G=E((()=>g("img",{class:"dark-image",src:q,alt:""},null,-1))),R={key:1,class:"table is-hoverable is-fullwidth"},X={colspan:"6"},tt=["onClick"],et=M(s({__name:"index",setup(t){h();const e=u(),{t:a}=i(),n=F(),l=r(!1),o=L();r(null),o.setPageTitle(a("Scrapping")),v({title:`${a("Components_to_be_scrapped")} - ${n.app.name}`});const s=_({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",component_name:"Эритроцитная масса",dose:"0",quantity:"300",unsuitability_reasons:"Расхождение группы крови"},{id:11,donation_date:"10.12.2022",donation_code:"130100213000",component_name:"Свежезамороженная плазма",dose:"0",quantity:"270",unsuitability_reasons:"Бруцеллез"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),p=_({}),x=r(!1);async function C(){try{l.value=!0}catch(t){e.error(a("Something_went_wrong"))}finally{l.value=!1}}return f(x,(function(t){!1===t&&Object.assign(p,{})})),(t,e)=>{const a=B,o=Y,u=I,i=S,r=O,_=z;return d(),j("div",H,[g("div",J,[g("div",K,[y(a,{"with-icons":"",separator:"bullet",items:[{label:$(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Scrapping")},{label:t.$t("Components_to_be_scrapped")}]},null,8,["items"])])]),g("div",N,[g("div",P,[y(r,null,{default:m((()=>[g("div",W,[0===$(s).data.length?(d(),j("div",Z,[y(o,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:m((()=>[A,G])),_:1},8,["title","subtitle"])])):(d(),j("table",R,[g("thead",null,[g("tr",null,[g("th",null,b(t.$t("Donation_date")),1),g("th",null,b(t.$t("Donation_code")),1),g("th",null,b(t.$t("Component_name")),1),g("th",null,b(t.$t("Dose")),1),g("th",null,b(t.$t("Quantity_ml")),1),g("th",null,b(t.$t("Unsuitability_reasons")),1)])]),g("tbody",null,[$(l)?(d(!0),j(k,{key:0},D($(s).pagination.per_page,(t=>(d(),j("tr",{key:t},[g("td",X,[y(u,{lines:2,"last-line-width":"70%"})])])))),128)):(d(!0),j(k,{key:1},D($(s).data,((t,e)=>(d(),j("tr",{key:e},[g("td",null,b(t.donation_date),1),g("td",null,[g("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(p,t),x.value=!0}(t)},b(t.donation_code),9,tt)]),g("td",null,b(t.component_name),1),g("td",null,b(t.dose),1),g("td",null,b(t.quantity),1),g("td",null,b(t.unsuitability_reasons),1)])))),128))])]))]),$(s).data.length?(d(),c(i,{key:0,"current-page":$(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>$(s).pagination.current_page=t),class:"mt-5","item-per-page":$(s).pagination.per_page,"total-items":$(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):V("",!0)])),_:1})])]),y(_,{"is-open":$(x),"onUpdate:is-open":e[1]||(e[1]=t=>w(x)?x.value=t:null),component:$(p),"onUpdate:list":C},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-03ef25e1"]]);export{et as default};
