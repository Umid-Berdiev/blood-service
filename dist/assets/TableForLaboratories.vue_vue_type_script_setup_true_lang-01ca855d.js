import{_ as a,a as t,b as e}from"./VFlexTable.vue_vue_type_style_index_0_lang-e64caaca.js";import{c as l,d as s,_ as i,a as n,b as o}from"./search-7-dark-af2ee6c9.js";import{q as r,C as d,a7 as _,c as u,o as m,d as c,e as p,k as g,K as v,w as b,g as f,F as y,l as h,t as k,a as x,S as D}from"./index-384ad331.js";const w={class:"columns"},C={class:"column is-12"},F={key:0,class:"is-flex-grow-0",textContent:"#"},j={key:0,class:"flex-list-inner"},L={key:1,class:"flex-list-inner"},M=p("img",{class:"light-image",src:l,alt:""},null,-1),P=p("img",{class:"dark-image",src:s,alt:""},null,-1),V=["onClick"],Y=r({__name:"TableForLaboratories",props:{data:null,isLoading:{type:Boolean,default:!1},currentPage:{default:1}},emits:["openFormModal","update:currentPage"],setup(l,{emit:s}){const r=l,{t:Y}=d(),$={orderNumber:{format:(a,t,e)=>`${e+1}`,cellClass:"is-flex-grow-0"},donation_code:{label:Y("Donation_code"),format:(a,t)=>{var e;return null==(e=t.last_visit)?void 0:e.donation_code}},blood_sampling_date:{label:Y("Blood_sampling_date"),format:(a,t)=>{var e,l;return null==(l=null==(e=t.last_visit)?void 0:e.blood_sample)?void 0:l.date}},name:{label:Y("Donor_fullname")},birth_date:{label:Y("Date-of-birth")},visit_type:{label:Y("Visit_type"),format:(a,t)=>{var e,l;return(null==(e=t.last_visit)?void 0:e.visit_type)&&Y(null==(l=t.last_visit)?void 0:l.visit_type)}},visit_date:{label:Y("Visit_date"),format:(a,t)=>{var e,l;return(null==(e=t.last_visit)?void 0:e.created_at)&&_(new Date(null==(l=t.last_visit)?void 0:l.created_at),"YYYY-MM-DD")}},donation_type:{label:Y("Donation_type"),format:(a,t)=>{var e,l;return null==(l=null==(e=t.last_visit)?void 0:e.donation_type)?void 0:l.name}},visit_stage:{label:Y("Visit_stage"),format:(a,t)=>{var e,l;return null==(l=null==(e=t.last_visit)?void 0:e.stage)?void 0:l.name}}},N=u({get:()=>r.currentPage,set(a){s("update:currentPage",a)}});return(s,r)=>{const d=i,_=a,u=n,Y=t,T=o,q=e;return m(),c("div",w,[p("div",C,[g(q,{columns:v($),data:l.data.data,limit:l.data.pagination.per_page,total:l.data.pagination.total},{default:b((()=>[g(Y,{rounded:"","no-header":!l.isLoading&&0===l.data.data.length},{"header-column":b((({column:a})=>["orderNumber"===a.key?(m(),c("span",F)):f("",!0)])),body:b((()=>[l.isLoading?(m(),c("div",j,[(m(!0),c(y,null,h(l.data.pagination.per_page,(a=>(m(),c("div",{key:a,class:"flex-table-item"},[g(_,null,{default:b((()=>[g(d,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):f("",!0),0===l.data.data.length?(m(),c("div",L,[g(u,{title:s.$t("No_data"),subtitle:s.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:b((()=>[M,P])),_:1},8,["title","subtitle"])])):f("",!0)])),"body-cell":b((({row:a,column:t})=>["name"===t.key?(m(),c("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:t=>s.$emit("openFormModal",a)},k(a.first_name)+" "+k(a.last_name)+" "+k(a.father_name)+" ",9,V)):f("",!0)])),_:1},8,["no-header"]),l.data.data.length?(m(),x(T,{key:0,"current-page":v(N),"onUpdate:current-page":r[0]||(r[0]=a=>D(N)?N.value=a:null),class:"mt-5","item-per-page":l.data.pagination.per_page,"total-items":l.data.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):f("",!0)])),_:1},8,["columns","data","limit","total"])])])}}});export{Y as _};
