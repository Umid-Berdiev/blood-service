import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-bd9f4090.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-cc65dbea.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-e7f94dfc.js";import{_ as l,a as n}from"./VControl-6db07387.js";import{_ as o}from"./VRadio.vue_vue_type_style_index_0_lang-5d6e929d.js";import{q as s,H as i,C as u,x as _,a7 as r,r as p,o as d,a as c,w as m,e as y,t as g,k as v,E as h,J as f,y as b,d as j,K as $,F as k,l as V,g as q,U as x,L as w,M as C}from"./index-f93ac3f8.js";import{_ as D}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as O}from"./VCard.vue_vue_type_script_setup_true_lang-34c1a38f.js";import{a as M,_ as U,b as I,c as Q,d as Y}from"./search-7-dark-c4e05ee5.js";import{_ as B}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-8b18b9a3.js";import{u as R}from"./main-ee2e6726.js";import{u as F}from"./viewWrapper-1e6038f3.js";import"./VButton.vue_vue_type_style_index_0_lang-2943ff29.js";import"./VIMaskInput.vue_vue_type_script_lang-a1ff201b.js";import"./moment-c7f2cea7.js";import"./VFlex.vue_vue_type_style_index_0_lang-89cd9c2c.js";const S={class:"table-container"},L={class:"table is-fullwidth"},N=D(s({__name:"QualityCheckFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:h}){i();const{t:f}=u(),b=_(f("Quality_check_result")),j=_(!1),$=r(new Date,"DD.MM.YYYY"),k=p({component_quality:"satisfactory",result_date:$}),V=p({component_quality:[],result_date:[]});function q(){Object.assign(k,{component_quality:"satisfactory",result_date:$}),Object.assign(V,{component_quality:[],result_date:[]}),h("update:isOpen",!1)}return(i,u)=>{const _=o,r=l,p=n,h=a,f=e,$=t;return d(),c($,{open:s.isOpen,size:"large",title:b.value,actions:"right",onClose:q},{content:m((()=>[y("div",S,[y("table",L,[y("tbody",null,[y("tr",null,[y("th",null,g(i.$t("Donation_code")),1),y("td",null,g(s.component.donation_code),1)]),y("tr",null,[y("th",null,g(i.$t("Donation_date")),1),y("td",null,g(s.component.donation_date),1)]),y("tr",null,[y("th",null,g(i.$t("Component_name")),1),y("td",null,g(s.component.component_name),1)]),y("tr",null,[y("th",null,g(i.$t("Component_quality")),1),y("td",null,[v(p,null,{default:m((()=>[v(r,null,{default:m((()=>[v(_,{modelValue:k.component_quality,"onUpdate:modelValue":u[0]||(u[0]=t=>k.component_quality=t),value:"satisfactory",color:"primary",label:i.$t("Satisfactory")},null,8,["modelValue","label"]),v(_,{modelValue:k.component_quality,"onUpdate:modelValue":u[1]||(u[1]=t=>k.component_quality=t),value:"not_satisfactory",color:"primary",label:i.$t("Not_satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),y("tr",null,[y("th",null,g(i.$t("Result_date")),1),y("td",null,[v(p,null,{default:m((()=>[v(r,null,{default:m((()=>[v(h,{modelValue:k.result_date,"onUpdate:modelValue":u[2]||(u[2]=t=>k.result_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:m((()=>[v(f,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-c0c45c7c"]]),T=t=>(w("data-v-76ae2379"),t=t(),C(),t),z={class:"page-content-inner"},E={class:"columns mb-5"},H={class:"column is-narrow"},J={class:"columns"},K={class:"column"},P={class:"table-container"},W={key:0,class:"flex-list-inner"},Z=T((()=>y("img",{class:"light-image",src:Q,alt:""},null,-1))),A=T((()=>y("img",{class:"dark-image",src:Y,alt:""},null,-1))),G={key:1,class:"table is-hoverable is-fullwidth"},X={colspan:"5"},tt=["onClick"],et=D(s({__name:"index",setup(t){h();const e=i(),{t:a}=u(),l=R(),n=_(!1),o=F();_(null),o.setPageTitle(a("Quality-control")),f({title:`${a("Received_components_list")} - ${l.app.name}`});const s=p({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",dose:"0",quantity:"300",component_name:"Эритроцитная масса"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),r=p({}),w=_(!1);async function C(){try{n.value=!0}catch(t){e.error(a("Something_went_wrong"))}finally{n.value=!1}}return b(w,(function(t){!1===t&&Object.assign(r,{})})),(t,e)=>{const a=B,o=M,i=U,u=I,_=O,p=N;return d(),j("div",z,[y("div",E,[y("div",H,[v(a,{"with-icons":"",separator:"bullet",items:[{label:$(l).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Quality-control")},{label:t.$t("Received_components_list")}]},null,8,["items"])])]),y("div",J,[y("div",K,[v(_,null,{default:m((()=>[y("div",P,[0===$(s).data.length?(d(),j("div",W,[v(o,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:m((()=>[Z,A])),_:1},8,["title","subtitle"])])):(d(),j("table",G,[y("thead",null,[y("tr",null,[y("th",null,g(t.$t("Donation_date")),1),y("th",null,g(t.$t("Donation_code")),1),y("th",null,g(t.$t("Dose")),1),y("th",null,g(t.$t("Quantity_ml")),1),y("th",null,g(t.$t("Component_name")),1)])]),y("tbody",null,[$(n)?(d(!0),j(k,{key:0},V($(s).pagination.per_page,(t=>(d(),j("tr",{key:t},[y("td",X,[v(i,{lines:2,"last-line-width":"70%"})])])))),128)):(d(!0),j(k,{key:1},V($(s).data,((t,e)=>(d(),j("tr",{key:e},[y("td",null,g(t.donation_date),1),y("td",null,[y("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(r,t),w.value=!0}(t)},g(t.donation_code),9,tt)]),y("td",null,g(t.dose),1),y("td",null,g(t.quantity),1),y("td",null,g(t.component_name),1)])))),128))])]))]),$(s).data.length?(d(),c(u,{key:0,"current-page":$(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>$(s).pagination.current_page=t),class:"mt-5","item-per-page":$(s).pagination.per_page,"total-items":$(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):q("",!0)])),_:1})])]),v(p,{"is-open":$(w),"onUpdate:is-open":e[1]||(e[1]=t=>x(w)?w.value=t:null),component:$(r),"onUpdate:list":C},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-76ae2379"]]);export{et as default};
