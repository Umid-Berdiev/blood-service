import{_ as a,a as t,b as e}from"./VFlexTable.vue_vue_type_style_index_0_lang-a5bceab1.js";import{_ as s,a as l,b as i,c as n,d as o}from"./search-7-dark-d87b69f8.js";import{_ as r,a as d}from"./VControl-be5836b7.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-fc18e446.js";import{q as p,E as _,H as m,C as c,x as v,J as f,r as g,c as y,a7 as b,A as h,y as x,j as k,o as j,d as w,e as V,k as $,K as D,w as C,S as P,g as Y,F,l as M,a as z,i as A,t as L,L as N,M as T}from"./index-d9061d2c.js";import{u as q}from"./main-25c8644f.js";import{u as S}from"./viewWrapper-9e80f6c5.js";import{b as U}from"./patient-2a7c9e62.js";import{f as B}from"./index-3c416f1d.js";import{_ as E}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VFlex.vue_vue_type_style_index_0_lang-b629dcb9.js";import"./VPlaceload-67c73152.js";const H=a=>(N("data-v-0a1b66fd"),a=a(),T(),a),I={class:"page-content-inner"},J={class:"columns mb-3"},K={class:"column"},O={class:"column is-3"},R={class:"columns"},W={class:"column is-12"},G={key:0,class:"is-flex-grow-0",textContent:"#"},Q={key:0,class:"flex-list-inner"},X={key:1,class:"flex-list-inner"},Z=H((()=>V("img",{class:"light-image",src:n,alt:""},null,-1))),aa=H((()=>V("img",{class:"dark-image",src:o,alt:""},null,-1))),ta=E(p({__name:"index",setup(n){_();const o=m(),{t:p}=c(),N=q(),T=v(!1);S().setPageTitle(p("Physician-therapist")),f({title:`${p("Donors-list-for-examination")} - ${N.app.name}`});const E=g({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),H=y({get:()=>E.pagination.current_page,set:async a=>{await la(a)}}),ta={orderNumber:{format:(a,t,e)=>`${e+1}`,cellClass:"is-flex-grow-0"},name:{label:p("Fullname")},birth_date:{label:p("Date-of-birth")},visit_date:{label:p("Visit_date"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.created_at)&&b(new Date(null==(s=t.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:p("Visit_type"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.visit_type)&&p(null==(s=t.last_visit)?void 0:s.visit_type)}},directed_by:{label:p("Directed_by"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.directed_by)&&p(null==(s=t.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:p("Personalized_donation"),format:(a,t)=>{var e;return null==(e=t.last_visit)?void 0:e.personalized_donation}},visit_status:{label:p("Visit_status"),format:(a,t)=>{var e,s;return null==(s=null==(e=t.last_visit)?void 0:e.status)?void 0:s.name}},actions:{label:p("Actions")}};v();const ea=v([{id:0,name:p("All")}]),sa=v("");async function la(a=1){var t,e;try{T.value=!0;const t=await U({page:a,status_id:sa.value});Object.assign(E,t.result)}catch(s){o.error(p(null==(e=null==(t=s.response)?void 0:t.data)?void 0:e.errors))}finally{T.value=!1}}return h((async()=>{const a=await B();ea.value=a.result})),x((()=>sa.value),(async a=>{await la()})),(n,o)=>{const p=u,_=k("Multiselect"),m=r,c=d,v=s,f=a,g=l,y=k("RouterLink"),b=t,h=i,x=e;return j(),w("div",I,[V("div",J,[V("div",K,[$(p,{"with-icons":"",separator:"bullet",items:[{label:D(N).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:n.$t("Physician-therapist")},{label:n.$t("Donors-list-for-examination")}]},null,8,["items"])]),V("div",O,[$(c,{class:"is-curved-select"},{default:C((({id:a})=>[$(m,null,{default:C((()=>[$(_,{modelValue:D(sa),"onUpdate:modelValue":o[0]||(o[0]=a=>P(sa)?sa.value=a:null),attrs:{id:a},options:D(ea),placeholder:n.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),V("div",R,[V("div",W,[$(x,{columns:D(ta),data:D(E).data,limit:D(E).pagination.per_page,total:D(E).pagination.total},{default:C((()=>[$(b,{rounded:"","no-header":!D(T)&&0===D(E).data.length},{"header-column":C((({column:a})=>["orderNumber"===a.key?(j(),w("span",G)):Y("",!0)])),body:C((()=>[D(T)?(j(),w("div",Q,[(j(!0),w(F,null,M(D(E).pagination.per_page,(a=>(j(),w("div",{key:a,class:"flex-table-item"},[$(f,null,{default:C((()=>[$(v,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):Y("",!0),0===D(E).data.length?(j(),w("div",X,[$(g,{title:n.$t("No_data"),subtitle:n.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:C((()=>[Z,aa])),_:1},8,["title","subtitle"])])):Y("",!0)])),"body-cell":C((({row:a,column:t})=>["name"===t.key?(j(),z(y,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}`},{default:C((()=>[A(L(a.first_name)+" "+L(a.last_name)+" "+L(a.father_name)+" ",1)])),_:2},1032,["to"])):Y("",!0),"actions"===t.key?(j(),z(y,{key:1,class:"has-text-warning",to:"/app/physician-therapist/donors-for-examination"},{default:C((()=>[A(L(n.$t("Complete"))+" ",1)])),_:1})):Y("",!0)])),_:1},8,["no-header"]),D(E).data.length?(j(),z(h,{key:0,"current-page":D(H),"onUpdate:current-page":o[1]||(o[1]=a=>P(H)?H.value=a:null),class:"mt-5","item-per-page":D(E).pagination.per_page,"total-items":D(E).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):Y("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-0a1b66fd"]]);export{ta as default};
