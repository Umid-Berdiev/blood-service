import{_ as a,a as e,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-0fb083a3.js";import{_ as s,a as n}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-1679fcf5.js";import{_ as r}from"./NoDataPlaceholder-02547c33.js";import{_ as l,a as i}from"./PrintButton-046220f2.js";import{_ as o}from"./VFlex.vue_vue_type_style_index_0_lang-84415715.js";import{_}from"./VButtons.vue_vue_type_script_setup_true_lang-a27f5b4d.js";import{_ as p}from"./VFlexItem.vue_vue_type_style_index_0_lang-919d6b99.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d20f193a.js";import{q as d,E as m,H as c,C as g,x as v,r as f,J as y,y as b,o as h,d as w,k as j,w as x,K as k,m as V,e as $,g as C,F,l as B,a as I}from"./index-c5546e3f.js";import{u as P}from"./viewWrapper-911093a6.js";import{u as D}from"./main-94385ff1.js";import{j as W}from"./patient-9225403a.js";import"./VButton.vue_vue_type_style_index_0_lang-6deaaf11.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VCard.vue_vue_type_script_setup_true_lang-9ddefd9d.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-9075dd9c.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-e2cdf555.js";import"./VInput.vue_vue_type_script_setup_true_lang-fcf9b43c.js";import"./VControl-c4bfd6d4.js";import"./VIMaskInput.vue_vue_type_script_lang-4a69d6df.js";import"./lodash-5582d964.js";const O={class:"page-content-inner"},T={class:"columns mt-1"},R={class:"column"},S={class:"columns"},q={class:"column is-12"},z={key:0,class:"is-flex-grow-0",textContent:"#"},E={key:0,class:"flex-list-inner"},G=d({__name:"index",setup(d){m(),c();const{t:G}=g(),H=D(),J=v(!1),K=f({lastname:"",firstname:"",middlename:"",passpordId:""});P().setPageTitle(G("Registration")),y({title:`${G("Donation-diverted-register")} - ${H.app.name}`});const L=f({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),M=f({page:1}),N={"#":{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:G("Fullname"),format:(a,e)=>`${e.first_name} ${e.last_name}`},birth_date:{label:G("Date-of-birth")},gender:{label:G("Gender"),format:a=>G(a)},passport:{label:G("Passport_series_number"),format:(a,e)=>`${e.passport_series}${e.passport_number}`},withdrawal_end_date:{label:G("Withdrawal_end_date"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.end_date}},withdrawal_reason:{label:G("Withdrawal_reason"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.reason}},withdrawal_created_by:{label:G("Withdrawal_created_by"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.created_by}}};async function U(a){var e,t;try{Object.assign(M,a),J.value=!0;const e=await W(a);Object.assign(L,e.result)}catch(s){Object.assign(K,null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors)}finally{J.value=!1}}async function Z(){await U(M)}function A(){}return b((()=>L.pagination.current_page),(async a=>{a&&(M.page=a,await U(M))}),{immediate:!0}),(d,m)=>{const c=u,g=p,v=l,f=_,y=o,b=i,P=s,D=a,W=r,G=e,K=n,M=t;return h(),w("div",O,[j(y,{"justify-content":"space-between","flex-wrap":"wrap"},{default:x((()=>[j(g,null,{default:x((()=>[j(c,{"with-icons":"",separator:"bullet",items:[{label:k(H).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:d.$t("Registration")},{label:d.$t("Donation-diverted-register")}]},null,8,["items"])])),_:1}),j(g,null,{default:x((()=>[j(f,null,{default:x((()=>[j(v,{onClick:V(A,["prevent"])},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),$("div",T,[$("div",R,[j(b,{"is-loading":k(J),onSearch:U,onClearForm:Z},null,8,["is-loading"])])]),$("div",S,[$("div",q,[j(M,{columns:k(N),data:k(L).data,limit:k(L).pagination.per_page,total:k(L).pagination.total},{default:x((()=>[j(G,{rounded:"","no-header":!k(J)&&0===k(L).data.length},{"header-column":x((({column:a})=>["#"===a.key?(h(),w("span",z)):C("",!0)])),body:x((()=>[k(J)?(h(),w("div",E,[(h(!0),w(F,null,B(k(L).pagination.per_page,(a=>(h(),w("div",{key:a,class:"flex-table-item"},[j(D,null,{default:x((()=>[j(P,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):C("",!0),0===k(L).data.length?(h(),I(W,{key:1})):C("",!0)])),_:1},8,["no-header"]),k(L).data.length?(h(),I(K,{key:0,"current-page":k(L).pagination.current_page,"onUpdate:current-page":m[0]||(m[0]=a=>k(L).pagination.current_page=a),class:"mt-5","item-per-page":k(L).pagination.per_page,"total-items":k(L).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):C("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}});export{G as default};
