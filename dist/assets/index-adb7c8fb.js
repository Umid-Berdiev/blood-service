import{_ as t}from"./VCard.vue_vue_type_script_setup_true_lang-3b674ece.js";import{a as e,_ as a,b as n,c as l,d as o}from"./search-7-dark-b6479367.js";import{_ as s}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-faf20e2b.js";import{q as i,H as r,C as u,x as _,r as p,a6 as d,o as c,a as m,w as g,e as h,t as y,k as f,E as v,J as b,y as j,d as $,K as k,F as D,l as w,g as x,S as V,L as M,M as O}from"./index-568ad137.js";import{_ as C}from"./VModal.vue_vue_type_style_index_0_lang-1ec5e12b.js";import{_ as Y}from"./SubmitButton.vue_vue_type_script_setup_true_lang-ca217c20.js";import{_ as I,a as B}from"./VControl-b713a764.js";import{_ as R}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-38070980.js";import{_ as q}from"./_plugin-vue_export-helper-1b428a4d.js";import{u as Q}from"./main-7fc6984e.js";import{u as S}from"./viewWrapper-feca89b2.js";import"./VFlex.vue_vue_type_style_index_0_lang-8f30b873.js";import"./VPlaceload-33f57994.js";import"./VButton.vue_vue_type_style_index_0_lang-fc4409cd.js";import"./VIMaskInput.vue_vue_type_script_lang-6492e1cb.js";import"./moment-78dc6435.js";const T={class:"table-container"},U={class:"table is-fullwidth"},F=q(i({__name:"DrugProductionFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(t,{emit:e}){r();const{t:a}=u(),n=_(a("Quality_check_result")),l=_(!1),o=p({transfer_date:d(new Date,"YYYY-MM-DD")}),s=p({transfer_date:[]});function i(){Object.assign(o,{transfer_date:d(new Date,"YYYY-MM-DD")}),Object.assign(s,{transfer_date:[]}),e("update:isOpen",!1)}return(e,a)=>{const s=R,r=I,u=B,_=Y,p=C;return c(),m(p,{open:t.isOpen,size:"large",title:n.value,actions:"right",onClose:i},{content:g((()=>[h("div",T,[h("table",U,[h("tbody",null,[h("tr",null,[h("th",null,y(e.$t("Donation_code")),1),h("td",null,y(t.component.donation_code),1)]),h("tr",null,[h("th",null,y(e.$t("Donation_date")),1),h("td",null,y(t.component.donation_date),1)]),h("tr",null,[h("th",null,y(e.$t("Component_name")),1),h("td",null,y(t.component.component_name),1)]),h("tr",null,[h("th",null,y(e.$t("Blood_type"))+" & "+y(e.$t("Rh_factor")),1),h("td",null,y(t.component.blood_type)+" "+y(t.component.rh_factor),1)]),h("tr",null,[h("th",null,y(e.$t("Transfer_date")),1),h("td",null,[f(u,null,{default:g((()=>[f(r,null,{default:g((()=>[f(s,{modelValue:o.transfer_date,"onUpdate:modelValue":a[0]||(a[0]=t=>o.transfer_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:g((()=>[f(_,{loading:l.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-4e744115"]]),P=t=>(M("data-v-01807827"),t=t(),O(),t),L={class:"page-content-inner"},W={class:"columns mb-5"},z={class:"column is-narrow"},E={class:"columns"},H={class:"column"},J={class:"table-container"},K={key:0,class:"flex-list-inner"},N=P((()=>h("img",{class:"light-image",src:l,alt:""},null,-1))),X=P((()=>h("img",{class:"dark-image",src:o,alt:""},null,-1))),Z={key:1,class:"table is-hoverable is-fullwidth"},A={colspan:"5"},G=["onClick"],tt=q(i({__name:"index",setup(l){v();const o=r(),{t:i}=u(),d=Q(),M=_(!1),O=S();_(null),O.setPageTitle(i("Quality-control")),b({title:`${i("Received_components_list")} - ${d.app.name}`});const C=p({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",dose:"0",quantity:"300",component_name:"Эритроцитная масса",blood_type:"O(I)",rh_factor:"Rh+"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),Y=p({}),I=_(!1);async function B(){try{M.value=!0}catch(t){o.error(i("Something_went_wrong"))}finally{M.value=!1}}return j(I,(function(t){!1===t&&Object.assign(Y,{})})),(l,o)=>{const i=s,r=e,u=a,_=n,p=t;return c(),$("div",L,[h("div",W,[h("div",z,[f(i,{"with-icons":"",separator:"bullet",items:[{label:k(d).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Quality-control")},{label:l.$t("Received_components_list")}]},null,8,["items"])])]),h("div",E,[h("div",H,[f(p,null,{default:g((()=>[h("div",J,[0===k(C).data.length?(c(),$("div",K,[f(r,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:g((()=>[N,X])),_:1})])):(c(),$("table",Z,[h("thead",null,[h("tr",null,[h("th",null,y(l.$t("Donation_date")),1),h("th",null,y(l.$t("Donation_code")),1),h("th",null,y(l.$t("Dose")),1),h("th",null,y(l.$t("Quantity_ml")),1),h("th",null,y(l.$t("Blood_type"))+" & "+y(l.$t("Rh_factor")),1),h("th",null,y(l.$t("Component_name")),1)])]),h("tbody",null,[k(M)?(c(!0),$(D,{key:0},w(k(C).pagination.per_page,(t=>(c(),$("tr",{key:t},[h("td",A,[f(u,{lines:2,"last-line-width":"70%"})])])))),128)):(c(!0),$(D,{key:1},w(k(C).data,((t,e)=>(c(),$("tr",{key:e},[h("td",null,y(t.donation_date),1),h("td",null,[h("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(Y,t),I.value=!0}(t)},y(t.donation_code),9,G)]),h("td",null,y(t.dose),1),h("td",null,y(t.quantity),1),h("td",null,y(t.blood_type)+" "+y(t.rh_factor),1),h("td",null,y(t.component_name),1)])))),128))])]))]),k(C).data.length?(c(),m(_,{key:0,"current-page":k(C).pagination.current_page,"onUpdate:current-page":o[0]||(o[0]=t=>k(C).pagination.current_page=t),class:"mt-5","item-per-page":k(C).pagination.per_page,"total-items":k(C).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):x("",!0)])),_:1})])]),f(F,{"is-open":k(I),"onUpdate:is-open":o[1]||(o[1]=t=>V(I)?I.value=t:null),component:k(Y),"onUpdate:list":B},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-01807827"]]);export{tt as default};
