import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-43587e05.js";import{a as t,b as n,c as i}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-4019bb45.js";import{_ as o,a}from"./VControl-786e135c.js";import{ac as s,q as r,E as l,H as u,C as c,x as d,r as p,A as f,J as m,j as v,o as h,d as y,e as _,K as g,t as b,s as w,m as k,k as x,w as S,g as j,T as C,i as T,f as A,z as P}from"./index-e3f64991.js";import{u as V}from"./viewWrapper-5fb27d85.js";import{s as $}from"./sleep-fd7a5d8b.js";import{p as L,j as E}from"./patient-937e223c.js";import"./VPlaceload-d2cb982c.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-112dd082.js";import"./VInput.vue_vue_type_script_setup_true_lang-705097fe.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-1ec71c6f.js";import"./additional-14b8c762.js";import"./VRadio.vue_vue_type_style_index_0_lang-1a08e53a.js";const O=s({"node_modules/.pnpm/vue-scrollto@2.20.0/node_modules/vue-scrollto/vue-scrollto.js"(e,t){var n,i;n=e,i=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=.1,i="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function r(e,t,n){return((o(t,n)*e+a(t,n))*e+s(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*a(t,n)*e+s(t)}function u(e){return e}var c=function(e,t,o,a){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&o===a)return u;for(var s=i?new Float32Array(11):new Array(11),c=0;c<11;++c)s[c]=r(c*n,e,o);function d(t){for(var i=0,a=1;10!==a&&s[a]<=t;++a)i+=n;--a;var u=i+(t-s[a])/(s[a+1]-s[a])*n,c=l(u,e,o);return c>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var a=l(t,n,i);if(0===a)return t;t-=(r(t,n,i)-e)/a}return t}(t,u,e,o):0===c?u:function(e,t,n,i,o){var a,s,l=0;do{(a=r(s=t+(n-t)/2,i,o)-e)>0?n=s:t=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,i,i+n,e,o)}return function(e){return 0===e?0:1===e?1:r(d(e),t,a)}},d={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=!1;try{var f=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,f)}catch(P){}var m=function(e){return"string"!=typeof e?e:document.querySelector(e)},v=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var o=0;o<t.length;o++)e.addEventListener(t[o],n,!!p&&i)},h=function(e,t,n){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],n)},y=function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},_=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],g={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function b(e){g=t({},g,e)}var w=function(){var t,n,i,o,a,s,r,l,u,p,f,b,w,k,x,S,j,C,T,A,P,V,$,L,E,O,K,q=function(e){l&&($=e,A=!0)};function D(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function M(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function I(){P=y(n),V=y(t),b&&(x=V.left-P.left+s,C=x-k),w&&(j=V.top-P.top+s,T=j-S)}function z(e){if(A)return N();E||(E=e),a||I(),O=e-E,K=Math.min(O/i,1),K=L(K),Q(n,S+T*K,k+C*K),O<i?window.requestAnimationFrame(z):N()}function N(){A||Q(n,j,x),E=!1,h(n,_,q),A&&f&&f($,t),!A&&p&&p(t)}function Q(e,t,n){w&&(e.scrollTop=t),b&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(w&&(document.documentElement.scrollTop=t),b&&(document.documentElement.scrollLeft=n))}return function(h,y){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(y)?x=y:"number"==typeof y&&(x.duration=y),!(t=m(h)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+h);if(n=m(x.container||g.container),i=x.hasOwnProperty("duration")?x.duration:g.duration,a=x.hasOwnProperty("lazy")?x.lazy:g.lazy,o=x.easing||g.easing,s=x.hasOwnProperty("offset")?x.offset:g.offset,r=x.hasOwnProperty("force")?!1!==x.force:g.force,l=x.hasOwnProperty("cancelable")?!1!==x.cancelable:g.cancelable,u=x.onStart||g.onStart,p=x.onDone||g.onDone,f=x.onCancel||g.onCancel,b=void 0===x.x?g.x:x.x,w=void 0===x.y?g.y:x.y,"function"==typeof s&&(s=s(t,n)),k=M(n),S=D(n),I(),A=!1,!r){var P="body"===n.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:n.offsetHeight,V=S,E=V+P,O=j-s,K=O+t.offsetHeight;if(O>=V&&K<=E)return void(p&&p(t))}if(u&&u(t),T||C)return"string"==typeof o&&(o=d[o]||d.ease),L=c.apply(c,o),v(n,_,q,{passive:!0}),window.requestAnimationFrame(z),function(){$=null,A=!0};p&&p(t)}},k=w(),x=[];function S(e){var t=function(e){for(var t=0;t<x.length;++t)if(x[t].el===e)return x[t]}(e);return t||(x.push(t={el:e,binding:{}}),t)}function j(e){var t=S(this).binding;if(t.value){if(e.preventDefault(),"string"==typeof t.value)return k(t.value);k(t.value.el||t.value.element,t.value)}}var C={bind:function(e,t){S(e).binding=t,v(e,"click",j)},unbind:function(e){!function(e){for(var t=0;t<x.length;++t)if(x[t].el===e)return x.splice(t,1),!0}(e),h(e,"click",j)},update:function(e,t){S(e).binding=t}},T={bind:C.bind,unbind:C.unbind,update:C.update,beforeMount:C.bind,unmounted:C.unbind,updated:C.update,scrollTo:k,bindings:x},A=function(e,t){t&&b(t),e.directive("scroll-to",T),(e.config.globalProperties||e.prototype).$scrollTo=T.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=T,window.VueScrollTo.setDefaults=b,window.VueScrollTo.scroller=w,window.Vue.use&&window.Vue.use(A)),T.install=A,T},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self)["vue-scrollto"]=i()}})(),K=["onSubmit"],q={class:"stepper-form is-justify-content-center"},D={class:"form-sections"},M={key:0,id:"form-step-0",class:"form-section is-active"},I={class:"form-section-title"},z=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],N={class:"form-section-inner"},Q={class:"help has-text-danger"},F={key:0,id:"form-step-1",class:"form-section is-active"},H={class:"form-section-title"},R=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],B={class:"form-section-inner"},G={key:0,id:"form-step-2",class:"form-section is-active"},J={class:"form-section-title"},U=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],W={class:"form-section-inner"},Y={class:"navigation-buttons"},Z={class:"buttons is-right"},X={class:"form-stepper"},ee={key:0,class:"steps is-vertical is-thin is-short"},te=_("a",{href:"#",class:"steps-marker"},null,-1),ne={class:"steps-content"},ie={class:"step-number"},oe={class:"step-info"},ae=_("a",{href:"#",class:"steps-marker"},null,-1),se={class:"steps-content"},re={class:"step-number"},le={class:"step-info"},ue=_("a",{href:"#",class:"steps-marker"},null,-1),ce={class:"steps-content"},de={class:"step-number"},pe={class:"step-info"},fe={key:1,class:"form-help"},me={key:0,id:"help-section-0",class:"form-help-inner is-active"},ve=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],he=_("h3",null,"General Information",-1),ye=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),_e=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),ge={key:1,id:"help-section-1",class:"form-help-inner is-active"},be=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],we=_("h3",null,"Shipment Owner",-1),ke=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),xe=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),Se={key:2,id:"help-section-2",class:"form-help-inner is-active"},je=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Ce=_("h3",null,"Shipment Taxes",-1),Te=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Ae=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),Pe=O.__esModule?O.default:O,Ve=r({__name:"index",setup(s){const r=l(),O=u(),{scrollTo:Ve}=Pe,{t:$e}=c(),Le=d(0),Ee=d(!1),Oe=d(-1),Ke=V(),qe=p({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),De=p({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Me=d([]);f((async()=>{const e=await L();Me.value=e.result})),Ke.setPageTitle($e("Registration")),m({title:$e("Register-donors")});const Ie=async()=>{var e;if(2===Le.value){if(Object.getOwnPropertyNames(De).forEach((e=>{e in De&&(De[e]=[])})),Ee.value)return;try{Ee.value=!0;const e=await E(qe);O.success("New patient data is successfully stored!"),r.push(`/app/registration/unified-donor-register/${e.result.id}`)}catch(t){if(Object.assign(De,null==(e=t.response)?void 0:e.data.errors),De.last_name.length||De.first_name.length||De.father_name.length||De.birth_date.length||De.gender.length)return Ve("#form-step-0",500);if(De.passport_series.length||De.passport_number.length||De.issued_by.length||De.when_issued.length)return Ve("#form-step-1",500)}finally{Ee.value=!1}}Ee.value=!0,await $(500),Le.value<2&&(Le.value+=1),P((()=>{Ve(`#form-step-${Le.value}`,500),Ee.value=!1}))};function ze(e){De[e]=""}return(s,r)=>{const l=v("Multiselect"),u=o,c=a,d=t,p=n,f=i,m=e;return h(),y("form",{onSubmit:k(Ie,["prevent"])},[_("div",q,[_("div",D,[g(Le)>=0?(h(),y("div",M,[_("h3",I,[_("span",null,b(s.$t("Personal_Info")),1),_("button",{type:"button",class:"help-button",tabindex:"0",onKeydown:r[0]||(r[0]=w(k((e=>0===g(Oe)?Oe.value=-1:Oe.value=0),["prevent"]),["space"])),onClick:r[1]||(r[1]=e=>0===g(Oe)?Oe.value=-1:Oe.value=0)},z,32)]),_("div",N,[x(c,{label:s.$t("Category"),required:""},{default:S((()=>[x(u,null,{default:S((()=>[x(l,{modelValue:g(qe).patient_category_id,"onUpdate:modelValue":r[2]||(r[2]=e=>g(qe).patient_category_id=e),options:g(Me),placeholder:s.$t("Select_category"),label:"name","value-prop":"id",onChange:r[3]||(r[3]=e=>ze("patient_category_id"))},null,8,["modelValue","options","placeholder"]),_("p",Q,b(g(De).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"]),x(d,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0),x(C,{name:"fade-slow"},{default:S((()=>[g(Le)>=1?(h(),y("div",F,[_("h3",H,[_("span",null,b(s.$t("Certifying_document")),1),_("button",{type:"button",class:"help-button",onKeydown:r[4]||(r[4]=w(k((e=>1===g(Oe)?Oe.value=-1:Oe.value=1),["prevent"]),["space"])),onClick:r[5]||(r[5]=e=>1===g(Oe)?Oe.value=-1:Oe.value=1)},R,32)]),_("div",B,[x(p,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0)])),_:1}),x(C,{name:"fade-slow"},{default:S((()=>[g(Le)>=2?(h(),y("div",G,[_("h3",J,[_("span",null,b(s.$t("Address")),1),_("button",{type:"button",class:"help-button",onKeydown:r[6]||(r[6]=w(k((e=>2===g(Oe)?Oe.value=-1:Oe.value=2),["prevent"]),["space"])),onClick:r[7]||(r[7]=e=>2===g(Oe)?Oe.value=-1:Oe.value=2)},U,32)]),_("div",W,[x(f,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0)])),_:1}),_("div",Y,[_("div",Z,[x(m,{type:"submit",color:"primary",bold:"",loading:g(Ee),disabled:g(Ee),tabindex:"0"},{default:S((()=>[T(b(2==g(Le)?s.$t("Save"):s.$t("Continue")),1)])),_:1},8,["loading","disabled"])])])]),_("div",X,[-1===g(Oe)?(h(),y("ul",ee,[_("li",{id:"step-segment-0",class:A([[0===g(Le)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[8]||(r[8]=w(k((e=>g(Le)>=0&&g(Ve)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:r[9]||(r[9]=k((e=>g(Le)>=0&&g(Ve)("#form-step-0",800,{offset:-20})),["prevent"]))},[te,_("div",ne,[_("p",ie,b(s.$t("Step"))+" 1",1),_("p",oe,b(s.$t("Personal_Info")),1)])],34),_("li",{id:"step-segment-1",class:A([[1===g(Le)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[10]||(r[10]=w(k((e=>g(Le)>=1&&g(Ve)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:r[11]||(r[11]=k((e=>g(Le)>=1&&g(Ve)("#form-step-1",800,{offset:-20})),["prevent"]))},[ae,_("div",se,[_("p",re,b(s.$t("Step"))+" 2",1),_("p",le,b(s.$t("Certifying_document")),1)])],34),_("li",{id:"step-segment-2",class:A([[2===g(Le)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[12]||(r[12]=w(k((e=>g(Le)>=2&&g(Ve)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:r[13]||(r[13]=k((e=>g(Le)>=2&&g(Ve)("#form-step-2",800,{offset:-20})),["prevent"]))},[ue,_("div",ce,[_("p",de,b(s.$t("Step"))+" 3",1),_("p",pe,b(s.$t("Address")),1)])],34)])):(h(),y("div",fe,[0===g(Oe)?(h(),y("div",me,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[14]||(r[14]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[15]||(r[15]=e=>Oe.value=-1)},ve,32),he,ye,_e])):j("",!0),1===g(Oe)?(h(),y("div",ge,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[16]||(r[16]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[17]||(r[17]=e=>Oe.value=-1)},be,32),we,ke,xe])):j("",!0),2===g(Oe)?(h(),y("div",Se,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[18]||(r[18]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[19]||(r[19]=e=>Oe.value=-1)},je,32),Ce,Te,Ae])):j("",!0)]))])])],40,K)}}});export{Ve as default};
