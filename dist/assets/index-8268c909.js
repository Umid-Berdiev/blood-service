import{_ as a,a as t,b as e}from"./VFlexTable.vue_vue_type_style_index_0_lang-f8ff2f75.js";import{_ as s,a as l,b as i,c as o,d as n}from"./search-7-dark-f0facebe.js";import{_ as r,a as u}from"./VControl-fc151345.js";import{_ as d}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d3c7c667.js";import{u as m}from"./chunk-DRAQDPQ2-4514f14e.js";import{a as p,b as c,r as _,c as v,o as f,w as g,s as y,l as h,m as b,Q as x,p as j,u as k,q as w,i as V,y as D,M as $,W as P,t as N,v as C,V as F,$ as M,a0 as U}from"./chunk-BGPNDDXN-dcda8805.js";import{f as Y}from"./@vueuse_core-098eb702.js";import{u as z}from"./@vueuse_head-0d019878.js";import{u as A}from"./chunk-3UEUFEGV-d557e6b1.js";import{u as Q}from"./useNotyf-1536ae84.js";import{u as T}from"./main-a3a6220c.js";import{u as q}from"./viewWrapper-c60f0ce7.js";import{b as B,c as E}from"./patient-7cc4d60d.js";import{_ as G}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VFlex.vue_vue_type_style_index_0_lang-0938e556.js";import"./VPlaceload-2a65ae53.js";import"./pinia-3af6ce52.js";import"./userSession-0c0e9684.js";const L=a=>(M("data-v-d1ef7e0f"),a=a(),U(),a),R={class:"page-content-inner"},S={class:"columns mb-3"},W={class:"column"},I={class:"column is-3"},O={class:"columns"},X={class:"column is-12"},H={key:0,class:"is-flex-grow-0",textContent:"#"},J={key:0,class:"flex-list-inner"},K={key:1,class:"flex-list-inner"},Z=L((()=>x("img",{class:"light-image",src:o,alt:""},null,-1))),aa=L((()=>x("img",{class:"dark-image",src:n,alt:""},null,-1))),ta=G(p({__name:"index",setup(o){m();const n=Q(),{t:p}=A(),M=T(),U=c(!1);q().setPageTitle(p("Physician-therapist")),z({title:`${p("Donors-list-for-examination")} - ${M.app.name}`});const G=_({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),L=v({get:()=>G.pagination.current_page,set:async a=>{await la(a)}}),ta={orderNumber:{format:(a,t,e)=>`${e+1}`,cellClass:"is-flex-grow-0"},name:{label:p("Fullname")},birth_date:{label:p("Date-of-birth")},visit_date:{label:p("Visit_date"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.created_at)&&Y(new Date(null==(s=t.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:p("Visit_type"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.visit_type)&&p(null==(s=t.last_visit)?void 0:s.visit_type)}},directed_by:{label:p("Directed_by"),format:(a,t)=>{var e,s;return(null==(e=t.last_visit)?void 0:e.directed_by)&&p(null==(s=t.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:p("Personalized_donation"),format:(a,t)=>{var e;return null==(e=t.last_visit)?void 0:e.personalized_donation}},visit_status:{label:p("Visit_status"),format:(a,t)=>{var e,s;return null==(s=null==(e=t.last_visit)?void 0:e.status)?void 0:s.name}},actions:{label:p("Actions")}};c();const ea=c([{id:0,name:p("All")}]),sa=c("");async function la(a=1){var t,e;try{U.value=!0;const t=await E({page:a,status_id:sa.value});Object.assign(G,t.result)}catch(s){n.error(p(null==(e=null==(t=s.response)?void 0:t.data)?void 0:e.errors))}finally{U.value=!1}}return f((async()=>{const a=await B();ea.value=a.result})),g((()=>sa.value),(async a=>{await la()})),(o,n)=>{const m=d,p=y("Multiselect"),c=r,_=u,v=s,f=a,g=l,Y=y("RouterLink"),z=t,A=i,Q=e;return h(),b("div",R,[x("div",S,[x("div",W,[j(m,{"with-icons":"",separator:"bullet",items:[{label:k(M).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:o.$t("Physician-therapist")},{label:o.$t("Donors-list-for-examination")}]},null,8,["items"])]),x("div",I,[j(_,{class:"is-curved-select"},{default:w((({id:a})=>[j(c,null,{default:w((()=>[j(p,{modelValue:k(sa),"onUpdate:modelValue":n[0]||(n[0]=a=>V(sa)?sa.value=a:null),attrs:{id:a},options:k(ea),placeholder:o.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),x("div",O,[x("div",X,[j(Q,{columns:k(ta),data:k(G).data,limit:k(G).pagination.per_page,total:k(G).pagination.total},{default:w((()=>[j(z,{rounded:"","no-header":!k(U)&&0===k(G).data.length},{"header-column":w((({column:a})=>["orderNumber"===a.key?(h(),b("span",H)):D("",!0)])),body:w((()=>[k(U)?(h(),b("div",J,[(h(!0),b($,null,P(k(G).pagination.per_page,(a=>(h(),b("div",{key:a,class:"flex-table-item"},[j(f,null,{default:w((()=>[j(v,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):D("",!0),0===k(G).data.length?(h(),b("div",K,[j(g,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:w((()=>[Z,aa])),_:1})])):D("",!0)])),"body-cell":w((({row:a,column:t})=>["name"===t.key?(h(),N(Y,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}`},{default:w((()=>[C(F(a.first_name)+" "+F(a.last_name)+" "+F(a.father_name)+" ",1)])),_:2},1032,["to"])):D("",!0),"actions"===t.key?(h(),N(Y,{key:1,class:"has-text-warning",to:"/app/physician-therapist/donors-for-examination"},{default:w((()=>[C(F(o.$t("Complete"))+" ",1)])),_:1})):D("",!0)])),_:1},8,["no-header"]),k(G).data.length?(h(),N(A,{key:0,"current-page":k(L),"onUpdate:current-page":n[1]||(n[1]=a=>V(L)?L.value=a:null),class:"mt-5","item-per-page":k(G).pagination.per_page,"total-items":k(G).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):D("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-d1ef7e0f"]]);export{ta as default};
