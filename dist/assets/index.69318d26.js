import{_ as a,a as e}from"./FilterForm.vue_vue_type_script_setup_true_lang.f1ea3a1d.js";import{_ as l}from"./VModal.vue_vue_type_style_index_0_lang.2b7bd30b.js";import{_ as t}from"./SubmitButton.vue_vue_type_script_setup_true_lang.69dc99ac.js";import{_ as i}from"./VCheckbox.vue_vue_type_style_index_0_lang.96c1189b.js";import{_ as s}from"./VFlex.vue_vue_type_style_index_0_lang.71b806ec.js";import{_ as o}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang.a9bf4c2a.js";import{_ as n}from"./VFlexItem.vue_vue_type_style_index_0_lang.4ed71466.js";import{b as d,_ as r,a as u}from"./VControl.db99b51d.js";import{_}from"./VInput.vue_vue_type_script_setup_true_lang.34261dbb.js";import{q as p,H as c,C as m,x as v,r as b,j as f,o as g,a as h,w as y,e as V,t as x,k as j,i as I,K as U,a7 as w,$,aj as k,a0 as z,L as D,M,J as C,c as O,d as Y,g as B,F,l as R,S as A}from"./index.4a029cdd.js";import{m as N}from"./moment.48108465.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as T,a as E,b as S}from"./VFlexTable.vue_vue_type_style_index_0_lang.25ade395.js";import{_ as q,a as H,b as L,c as J,d as K}from"./search-7-dark.f359dc05.js";import{_ as W}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.b7e8a70f.js";import{_ as G}from"./lodash.b2d9c938.js";import{u as Q}from"./main.31b19d1c.js";import{u as X}from"./viewWrapper.1a3e0821.js";import{f as Z}from"./patient.664695df.js";import"./VTextarea.vue_vue_type_script_setup_true_lang.a7134e72.js";import"./VRadio.vue_vue_type_style_index_0_lang.6bf49387.js";import"./VCard.vue_vue_type_script_setup_true_lang.b8abd6f0.js";import"./VButton.vue_vue_type_style_index_0_lang.3d7c5df0.js";import"./VPlaceload.cc73600a.js";import"./VIMaskInput.vue_vue_type_script_lang.55c4b218.js";const aa=a=>(D("data-v-85343edc"),a=a(),M(),a),ea={class:"columns"},la={class:"column"},ta={class:"is-size-5 has-text-weight-medium"},ia={class:"box"},sa={class:"has-text-weight-bold mr-3"},oa={class:"has-text-weight-bold mr-3"},na=aa((()=>V("br",null,null,-1))),da={class:"is-size-5 has-text-weight-medium"},ra={class:"box mt-5"},ua={class:"columns is-multiline"},_a={class:"column is-6"},pa={class:"is-flex"},ca={class:"has-text-danger mr-5"},ma={class:"field"},va={class:"control"},ba=aa((()=>V("label",{for:"oab1",class:"radio p-2"},[I("O"),V("sub",null,"αβ"),I("(I)")],-1))),fa={class:"control"},ga=aa((()=>V("label",{for:"ab2",class:"radio p-2"},[I("A"),V("sub",null,"β"),I("(II)")],-1))),ha={class:"control"},ya=aa((()=>V("label",{for:"a2b2",class:"radio p-2"},[I("A"),V("sub",null,"2β"),I("(II)")],-1))),Va={class:"control"},xa=aa((()=>V("label",{for:"a2a1b2",class:"radio p-2"},[I("A"),V("sub",null,"2α1β"),I("(II)")],-1))),ja={class:"control"},Ia=aa((()=>V("label",{for:"ba3",class:"radio p-2"},[I("B"),V("sub",null,"α"),I("(III)")],-1))),Ua={class:"control"},wa=aa((()=>V("label",{for:"ab04",class:"radio p-2"},[I("AB"),V("sub",null,"0"),I("(IV)")],-1))),$a={class:"control"},ka=aa((()=>V("label",{for:"a2b04",class:"radio p-2"},[I("A"),V("sub",null,"2"),I("B"),V("sub",null,"0"),I("(IV)")],-1))),za={class:"control"},Da=aa((()=>V("label",{for:"a2ba14",class:"radio p-2"},[I("A"),V("sub",null,"2"),I("B"),V("sub",null,"α1"),I("(IV)")],-1))),Ma={class:"control"},Ca={for:"not_recognized",class:"radio p-2"},Oa={class:"control"},Ya={for:"panagglutination",class:"radio p-2"},Ba={class:"column is-6"},Fa={class:"is-flex"},Ra={class:"has-text-danger mr-5"},Aa={class:"field"},Na={class:"control"},Pa=aa((()=>V("label",{for:"rh+",class:"radio p-2"},"Rh+",-1))),Ta={class:"control"},Ea=aa((()=>V("label",{for:"rh-",class:"radio p-2"},"Rh-",-1))),Sa={class:"control"},qa=aa((()=>V("label",{for:"du",class:"radio p-2"},[I("D"),V("sup",{class:"is-underlined"},"u")],-1))),Ha={class:"control"},La=aa((()=>V("label",{for:"rh1",class:"radio p-2"},"Rh'",-1))),Ja={class:"control"},Ka=aa((()=>V("label",{for:"rh2",class:"radio p-2"},'Rh"',-1))),Wa={class:"field"},Ga={for:"comment"},Qa={class:"control"},Xa={class:"column is-6"},Za={class:"has-text-danger mr-5"},ae={class:"is-flex"},ee={class:"is-flex is-horizontal is-align-items-center"},le=aa((()=>V("div",{class:"field-label is-normal"},[V("label",{class:"has-text-danger"},"α 1:")],-1))),te={class:"field-body"},ie={class:"field"},se={class:"control"},oe={class:"is-flex is-horizontal is-align-items-center"},ne=aa((()=>V("div",{class:"field-label is-normal"},[V("label",{class:"has-text-danger"},"β 1:")],-1))),de={class:"field-body"},re={class:"field"},ue={class:"control"},_e={class:"column is-6"},pe={class:"has-text-danger mr-5"},ce=aa((()=>V("h5",{class:"ml-3 has-text-danger",for:""},"1:",-1))),me={class:"control"},ve=N.__esModule?N.default:N,be=P(p({__name:"ImmunologicalResearchFormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list","emergency-noticing"],setup(a,{emit:e}){c();const{t:p}=m(),D=v(p("Hemotransmission_research_results")),M=v(!1),C=b({definitive_blood_group:"oab1",rhesus_affiliation:"rh+",natural_antibodies_titer:{value:"",a1:"",b1:""}}),O=b({blood_samples_taken_date:[],analysis_date:[]}),Y=[{value:1,label:"detected"},{value:1,label:"not_detected"}],B=[{value:1,label:"detected"},{value:1,label:"not_detected"}];function F(){Object.assign(C,{blood_samples_taken_date:ve().format("YYYY-MM-DD"),analysis_date:ve().format("YYYY-MM-DD")}),Object.assign(O,{blood_samples_taken_date:[],analysis_date:[]}),e("update:isOpen",!1)}return(e,p)=>{const c=d,m=_,v=r,b=u,O=n,R=o,A=s,N=f("Multiselect"),P=i,T=t,E=l;return g(),h(E,{open:a.isOpen,size:"big",title:D.value,actions:"right",onClose:F},{content:y((()=>{var l;return[V("div",ea,[V("div",la,[V("h5",ta,x(e.$t("Donor_code"))+": "+x(null==(l=a.patient.last_visit)?void 0:l.donation_code),1)])]),V("div",ia,[j(A,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:y((()=>[j(O,{"flex-basis":"45%"},{default:y((()=>[j(b,{horizontal:""},{default:y((()=>[j(c,{class:"my-auto mr-3 is-size-6"},{default:y((()=>[I(x(e.$t("Blood_sampling_date")),1)])),_:1}),j(v,null,{default:y((()=>{var e;return[j(m,{value:U(w)(new Date(null==(e=a.patient.last_visit)?void 0:e.updated_at),"YYYY-MM-DD"),disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),j(O,{"flex-basis":"45%"},{default:y((()=>[j(b,{horizontal:""},{default:y((()=>[j(c,{class:"my-auto mr-3 is-size-6"},{default:y((()=>[I(x(e.$t("Blood_samples_taken_date")),1)])),_:1}),j(v,null,{default:y((()=>[j(R,{modelValue:C.blood_samples_taken_date,"onUpdate:modelValue":p[0]||(p[0]=a=>C.blood_samples_taken_date=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),j(O,{"flex-basis":"45%"},{default:y((()=>[j(b,{horizontal:""},{default:y((()=>[j(c,{class:"my-auto mr-3 is-size-6"},{default:y((()=>[I(x(e.$t("Analysis_date")),1)])),_:1}),j(v,null,{default:y((()=>[j(R,{modelValue:C.analysis_date,"onUpdate:modelValue":p[1]||(p[1]=a=>C.analysis_date=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),j(O,{"flex-basis":"45%"},{default:y((()=>{var l;return[V("h5",null,[V("span",sa,x(e.$t("Visit_stage"))+":",1),V("span",null,x(null==(l=a.patient.last_visit)?void 0:l.stage),1)])]})),_:1}),j(O,{"flex-basis":"45%"},{default:y((()=>{var l,t;return[V("h5",null,[V("span",oa,x(e.$t("Preliminary_blood_type"))+":",1),V("span",null,x(null!=(t=null==(l=a.patient.last_visit)?void 0:l.preliminary_blood_type)?t:"O(I)"),1)])]})),_:1})])),_:1})]),na,V("h5",da,x(e.$t("Analysis_results")),1),V("div",ra,[V("div",ua,[V("div",_a,[V("div",pa,[V("h5",ca,x(e.$t("Окончательная группа крови")),1),V("div",ma,[V("div",va,[$(V("input",{id:"oab1","onUpdate:modelValue":p[2]||(p[2]=a=>C.definitive_blood_group=a),type:"radio",value:"oab1"},null,512),[[k,C.definitive_blood_group]]),ba]),V("div",fa,[$(V("input",{id:"ab2","onUpdate:modelValue":p[3]||(p[3]=a=>C.definitive_blood_group=a),type:"radio",value:"ab2"},null,512),[[k,C.definitive_blood_group]]),ga]),V("div",ha,[$(V("input",{id:"a2b2","onUpdate:modelValue":p[4]||(p[4]=a=>C.definitive_blood_group=a),type:"radio",value:"a2b2"},null,512),[[k,C.definitive_blood_group]]),ya]),V("div",Va,[$(V("input",{id:"a2a1b2","onUpdate:modelValue":p[5]||(p[5]=a=>C.definitive_blood_group=a),type:"radio",value:"a2a1b2"},null,512),[[k,C.definitive_blood_group]]),xa]),V("div",ja,[$(V("input",{id:"ba3","onUpdate:modelValue":p[6]||(p[6]=a=>C.definitive_blood_group=a),type:"radio",value:"ba3"},null,512),[[k,C.definitive_blood_group]]),Ia]),V("div",Ua,[$(V("input",{id:"ab04","onUpdate:modelValue":p[7]||(p[7]=a=>C.definitive_blood_group=a),type:"radio",value:"ab04"},null,512),[[k,C.definitive_blood_group]]),wa]),V("div",$a,[$(V("input",{id:"a2b04","onUpdate:modelValue":p[8]||(p[8]=a=>C.definitive_blood_group=a),type:"radio",value:"a2b04"},null,512),[[k,C.definitive_blood_group]]),ka]),V("div",za,[$(V("input",{id:"a2ba14","onUpdate:modelValue":p[9]||(p[9]=a=>C.definitive_blood_group=a),type:"radio",value:"a2ba14"},null,512),[[k,C.definitive_blood_group]]),Da]),V("div",Ma,[$(V("input",{id:"not_recognized","onUpdate:modelValue":p[10]||(p[10]=a=>C.definitive_blood_group=a),type:"radio",value:"not_recognized"},null,512),[[k,C.definitive_blood_group]]),V("label",Ca,x(e.$t("Группа крови не определяется")),1)]),V("div",Oa,[$(V("input",{id:"panagglutination","onUpdate:modelValue":p[11]||(p[11]=a=>C.definitive_blood_group=a),type:"radio",value:"panagglutination"},null,512),[[k,C.definitive_blood_group]]),V("label",Ya,x(e.$t("Panagglutination")),1)])])])]),V("div",Ba,[V("div",Fa,[V("h5",Ra,x(e.$t("Rhesus_affiliation")),1),V("div",Aa,[V("div",Na,[$(V("input",{id:"rh+","onUpdate:modelValue":p[12]||(p[12]=a=>C.rhesus_affiliation=a),type:"radio",value:"rh+"},null,512),[[k,C.rhesus_affiliation]]),Pa]),V("div",Ta,[$(V("input",{id:"rh-","onUpdate:modelValue":p[13]||(p[13]=a=>C.rhesus_affiliation=a),type:"radio",value:"rh-"},null,512),[[k,C.rhesus_affiliation]]),Ea]),V("div",Sa,[$(V("input",{id:"du","onUpdate:modelValue":p[14]||(p[14]=a=>C.rhesus_affiliation=a),type:"radio",value:"du"},null,512),[[k,C.rhesus_affiliation]]),qa]),V("div",Ha,[$(V("input",{id:"rh1","onUpdate:modelValue":p[15]||(p[15]=a=>C.rhesus_affiliation=a),type:"radio",value:"rh1"},null,512),[[k,C.rhesus_affiliation]]),La]),V("div",Ja,[$(V("input",{id:"rh2","onUpdate:modelValue":p[16]||(p[16]=a=>C.rhesus_affiliation=a),type:"radio",value:"rh2"},null,512),[[k,C.rhesus_affiliation]]),Ka])])]),V("div",null,[V("div",Wa,[V("label",Ga,x(e.$t("Comment")),1),V("div",Qa,[$(V("textarea",{id:"comment","onUpdate:modelValue":p[17]||(p[17]=a=>C.comment=a),class:"textarea",rows:3},null,512),[[z,C.comment]])])])])]),V("div",Xa,[j(b,{horizontal:"",class:"is-align-items-center is-justify-content-end"},{default:y((()=>[V("h5",Za,x(e.$t("Natural_antibodies_titer")),1),j(v,null,{default:y((()=>[j(N,{modelValue:C.natural_antibodies_titer.value,"onUpdate:modelValue":p[18]||(p[18]=a=>C.natural_antibodies_titer.value=a),options:Y,label:"label","value-prop":"value",style:{width:"15rem"}},null,8,["modelValue"])])),_:1})])),_:1}),V("div",ae,[V("div",ee,[le,V("div",te,[V("div",ie,[V("p",se,[$(V("input",{"onUpdate:modelValue":p[19]||(p[19]=a=>C.natural_antibodies_titer.a1=a),class:"input",type:"text"},null,512),[[z,C.natural_antibodies_titer.a1]])])])])]),V("div",oe,[ne,V("div",de,[V("div",re,[V("p",ue,[$(V("input",{"onUpdate:modelValue":p[20]||(p[20]=a=>C.natural_antibodies_titer.b1=a),class:"input",type:"text"},null,512),[[z,C.natural_antibodies_titer.b1]])])])])])])]),V("div",_e,[j(b,{horizontal:"",class:"is-align-items-center"},{default:y((()=>[V("h5",pe,x(e.$t("Incomplete_immune_antibodies")),1),j(v,{class:"is-flex"},{default:y((()=>[j(N,{modelValue:C.incomplete_immune_antibodies,"onUpdate:modelValue":p[21]||(p[21]=a=>C.incomplete_immune_antibodies=a),options:B,label:"label","value-prop":"value",style:{"min-width":"15rem"}},null,8,["modelValue"])])),_:1}),ce,V("p",me,[$(V("input",{"onUpdate:modelValue":p[22]||(p[22]=a=>C.natural_antibodies_titer.a1=a),class:"input",type:"text",style:{width:"3rem"}},null,512),[[z,C.natural_antibodies_titer.a1]])])])),_:1}),j(b,{horizontal:"",class:""},{default:y((()=>[j(v,null,{default:y((()=>[j(P,{modelValue:C.hilez,"onUpdate:modelValue":p[23]||(p[23]=a=>C.hilez=a),color:"primary",label:"Хилез"},null,8,["modelValue"])])),_:1})])),_:1}),j(b,{horizontal:"",class:""},{default:y((()=>[j(v,null,{default:y((()=>[j(P,{modelValue:C.gemoliz,"onUpdate:modelValue":p[24]||(p[24]=a=>C.gemoliz=a),color:"primary",label:"Гемолиз"},null,8,["modelValue"])])),_:1})])),_:1})])])])]})),action:y((()=>[j(T,{loading:M.value,form:"blood-sampling-form"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-85343edc"]]),fe=a=>(D("data-v-7916e5fa"),a=a(),M(),a),ge={class:"page-content-inner"},he={class:"columns mb-3"},ye={class:"column"},Ve={class:"columns mt-1"},xe={class:"column"},je={class:"columns"},Ie={class:"column is-12"},Ue={key:0,class:"is-flex-grow-0",textContent:"#"},we={key:0,class:"flex-list-inner"},$e={key:1,class:"flex-list-inner"},ke=fe((()=>V("img",{class:"light-image",src:J,alt:""},null,-1))),ze=fe((()=>V("img",{class:"dark-image",src:K,alt:""},null,-1))),De=["onClick"],Me=G.isEmpty,Ce=P(p({__name:"index",setup(l){const t=c(),{t:i}=m(),s=Q(),o=v(!1);X().setPageTitle(i("Immunological-Research-Department")),C({title:`${i("Immunological_research_specimens_list")} - ${s.app.name}`});const n=b({data:[{id:11,donation_code:130100111800,blood_sampling_date:"22.05.2022",first_name:"Ренат",last_name:"Ахмеджанов",father_name:"Шамильевич",birth_date:"24.01.1990",last_visit:{visit_type:"Безвозмезные донации",created_at:"06.05.2022",donation_type:"Тромбоцитаферез",stage:"Мед. освидетельствование"}},{id:55,donation_code:130100111869,blood_sampling_date:"23.05.2022",first_name:"Аркадий",last_name:"Богданов",father_name:"Ильич",birth_date:"12.08.1993",last_visit:{visit_type:"Безвозмезные донации",created_at:"05.12.2022",donation_type:"Донация цельной крови",stage:"Донация"}}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),d=O({get:()=>n.pagination.current_page,set:async a=>{_.page=a,await w(_)}}),r={orderNumber:{format:(a,e,l)=>`${l+1}`,cellClass:"is-flex-grow-0"},donation_code:{label:i("Donation_code")},blood_sampling_date:{label:i("Blood_sampling_date")},name:{label:i("Donor_fullname")},birth_date:{label:i("Date-of-birth")},visit_type:{label:i("Visit_type"),format:(a,e)=>{var l,t;return(null==(l=e.last_visit)?void 0:l.visit_type)&&i(null==(t=e.last_visit)?void 0:t.visit_type)}},visit_date:{label:i("Visit_date"),format:(a,e)=>{var l;return null==(l=e.last_visit)?void 0:l.created_at}},donation_type:{label:i("Donation_type"),format:(a,e)=>{var l;return null==(l=e.last_visit)?void 0:l.donation_type}},visit_stage:{label:i("Visit_stage"),format:(a,e)=>{var l;return null==(l=e.last_visit)?void 0:l.stage}}},u=b({visit_type_id:[],donation_type_id:[],donation_code:[]}),_=b({page:1}),p=b({}),f=v(!1),I=v(!1);async function w(a){var e,l;try{Object.assign(_,a),o.value=!0;const e=await Z(a);Object.assign(n,e.result),Me(e.result.data)?t.warning(i("Data_not_found")):t.success(`${i("Found")}: ${e.result.pagination.total} ${i("records")}`)}catch(s){Object.assign(u,null==(l=null==(e=s.response)?void 0:e.data)?void 0:l.errors)}finally{o.value=!1}}function $(a){u[a]=""}async function k(){n.data=[]}return(l,t)=>{const i=W,_=q,c=T,m=H,v=E,b=L,z=S,D=be,M=e;return g(),Y("div",ge,[V("div",he,[V("div",ye,[j(i,{"with-icons":"",separator:"bullet",items:[{label:U(s).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Immunological-Research-Department")},{label:l.$t("Immunological_research_specimens_list")}]},null,8,["items"])])]),V("div",Ve,[V("div",xe,[j(a,{"is-loading":o.value,errors:u,onSearch:w,onClearForm:k,onClearError:$},null,8,["is-loading","errors"])])]),V("div",je,[V("div",Ie,[j(z,{columns:U(r),data:n.data,limit:n.pagination.per_page,total:n.pagination.total},{default:y((()=>[j(v,{rounded:"","no-header":!o.value&&0===n.data.length},{"header-column":y((({column:a})=>["orderNumber"===a.key?(g(),Y("span",Ue)):B("",!0)])),body:y((()=>[o.value?(g(),Y("div",we,[(g(!0),Y(F,null,R(n.pagination.per_page,(a=>(g(),Y("div",{key:a,class:"flex-table-item"},[j(c,null,{default:y((()=>[j(_,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):B("",!0),0===n.data.length?(g(),Y("div",$e,[j(m,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:y((()=>[ke,ze])),_:1})])):B("",!0)])),"body-cell":y((({row:a,column:e})=>["name"===e.key?(g(),Y("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:e=>{return l=a,Object.assign(p,l),void(f.value=!0);var l}},x(a.first_name)+" "+x(a.last_name)+" "+x(a.father_name),9,De)):B("",!0)])),_:1},8,["no-header"]),n.total_pages>1?(g(),h(b,{key:0,"current-page":U(d),"onUpdate:current-page":t[0]||(t[0]=a=>A(d)?d.value=a:null),class:"mt-5","item-per-page":n.pagination.per_page,"total-items":n.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):B("",!0)])),_:1},8,["columns","data","limit","total"])])]),j(D,{"is-open":f.value,"onUpdate:is-open":t[1]||(t[1]=a=>f.value=a),patient:p,onEmergencyNoticing:t[2]||(t[2]=a=>I.value=!I.value)},null,8,["is-open","patient"]),j(M,{"is-open":I.value,"onUpdate:is-open":t[3]||(t[3]=a=>I.value=a),patient:p},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-7916e5fa"]]);export{Ce as default};
