import{_ as e,a,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-f8ff2f75.js";import{_ as l,a as n,b as o,c as s,d as i}from"./search-7-dark-f0facebe.js";import{_ as r}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d3c7c667.js";import{a as u,b as _,r as d,l as m,t as p,q as c,Q as g,V as v,p as y,c as f,m as b,u as h,M as j,W as k,y as V,i as D,$ as x,a0 as Y}from"./chunk-BGPNDDXN-dcda8805.js";import{u as $}from"./@vueuse_head-0d019878.js";import{_ as M}from"./lodash-94527813.js";import{u as w}from"./chunk-3UEUFEGV-d557e6b1.js";import{_ as O}from"./VModal.vue_vue_type_style_index_0_lang-b0507e96.js";import{_ as S}from"./SubmitButton.vue_vue_type_script_setup_true_lang-e5001c63.js";import{_ as B}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-5ce26ef4.js";import{_ as C,a as U}from"./VControl-fc151345.js";import{_ as I}from"./VRadio.vue_vue_type_style_index_0_lang-03da69fa.js";import{f as F}from"./@vueuse_core-098eb702.js";import{m as N}from"./moment-e00bdeae.js";import{u as P}from"./useNotyf-1536ae84.js";import{_ as E}from"./_plugin-vue_export-helper-1b428a4d.js";import{u as Q}from"./main-a3a6220c.js";import{u as R}from"./viewWrapper-c60f0ce7.js";import{f as T}from"./patient-7cc4d60d.js";import"./chunk-DRAQDPQ2-4514f14e.js";import"./VFlex.vue_vue_type_style_index_0_lang-0938e556.js";import"./VPlaceload-2a65ae53.js";import"./VButton.vue_vue_type_style_index_0_lang-27d6885c.js";import"./VIMaskInput.vue_vue_type_script_lang-06d40a07.js";import"./pinia-3af6ce52.js";import"./userSession-0c0e9684.js";const q={class:"table-container"},G={class:"table is-fullwidth"},W=N.__esModule?N.default:N,z=E(u({__name:"SupernatantPlasmaFormModal",props:{isOpen:{type:Boolean,default:!1},item:null},emits:["update:isOpen","update:list"],setup(e,{emit:a}){P();const{t:t}=w(),l=_(t("Supernatant_plasma_test_result")),n=_(!1),o=d({control_result:"sterile",result_date:F(new Date,"YYYY-MM-DD")}),s=d({control_result:[],result_date:[]});function i(){Object.assign(o,{blood_samples_taken_date:W().format("YYYY-MM-DD"),analysis_date:W().format("YYYY-MM-DD"),clinical_biochemical_laboratory_date:W().format("YYYY-MM-DD")}),Object.assign(s,{blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),a("update:isOpen",!1)}return(a,t)=>{const s=I,r=C,u=U,_=B,d=S,f=O;return m(),p(f,{open:e.isOpen,size:"large",title:l.value,actions:"right",onClose:i},{content:c((()=>[g("div",q,[g("table",G,[g("tbody",null,[g("tr",null,[g("th",null,v(a.$t("Donor_code")),1),g("td",null,v(e.item.donation_code),1)]),g("tr",null,[g("th",null,v(a.$t("Donation_date")),1),g("td",null,v(e.item.donation_date),1)]),g("tr",null,[g("th",null,v(a.$t("Component_name")),1),g("td",null,v(e.item.component_name),1)]),g("tr",null,[g("th",null,v(a.$t("Come_from")),1),g("td",null,v(e.item.come_from),1)]),g("tr",null,[g("th",null,v(a.$t("Control_result")),1),g("td",null,[y(u,null,{default:c((()=>[y(r,null,{default:c((()=>[y(s,{modelValue:o.control_result,"onUpdate:modelValue":t[0]||(t[0]=e=>o.control_result=e),value:"sterile",color:"primary",label:a.$t("Sterile")},null,8,["modelValue","label"]),y(s,{modelValue:o.control_result,"onUpdate:modelValue":t[1]||(t[1]=e=>o.control_result=e),value:"not_sterile",color:"primary",label:a.$t("Not_sterile")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,v(a.$t("Result_date")),1),g("td",null,[y(u,null,{default:c((()=>[y(r,null,{default:c((()=>[y(_,{modelValue:o.result_date,"onUpdate:modelValue":t[2]||(t[2]=e=>o.result_date=e),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:c((()=>[y(d,{loading:n.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-c5149fea"]]),A=e=>(x("data-v-e60eae4a"),e=e(),Y(),e),L={class:"page-content-inner"},X={class:"columns mb-3"},H={class:"column"},J={class:"columns"},K={class:"column is-12"},Z={key:0,class:"flex-list-inner"},ee={key:1,class:"flex-list-inner"},ae=A((()=>g("img",{class:"light-image",src:s,alt:""},null,-1))),te=A((()=>g("img",{class:"dark-image",src:i,alt:""},null,-1))),le=["onClick"],ne=M.isEmpty,oe=E(u({__name:"index",setup(s){const i=P(),{t:u}=w(),x=Q(),Y=_(!1);R().setPageTitle(u("Buck-laboratory")),$({title:`${u("Supernatant-plasma-list")} - ${x.app.name}`});const M=d({data:[{serial_number:"1.07.13",donation_code:"130100121500",donation_date:"05.06.2022"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),O=f({get:()=>M.pagination.current_page,set:async e=>{C.page=e,await async function(e){var a,t;try{Object.assign(C,e),Y.value=!0;const a=await T(e);Object.assign(M,a.result),ne(a.result.data)?i.warning(u("Data_not_found")):i.success(`${u("Found")}: ${a.result.pagination.total} ${u("records")}`)}catch(l){Object.assign(B,null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.errors)}finally{Y.value=!1}}(C)}}),S={serial_number:{label:u("Serial_number")},donation_code:{label:u("Donation_code")},donation_date:{label:u("Donation_date")}},B=d({visit_type_id:[],donation_type_id:[],donation_code:[]}),C=d({page:1}),U=d({}),I=_(!1);return(s,i)=>{const u=r,_=l,d=e,f=n,$=a,w=o,B=t;return m(),b("div",L,[g("div",X,[g("div",H,[y(u,{"with-icons":"",separator:"bullet",items:[{label:h(x).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:s.$t("Buck-laboratory")},{label:s.$t("Supernatant-plasma-list")}]},null,8,["items"])])]),g("div",J,[g("div",K,[y(B,{columns:h(S),data:h(M).data,limit:h(M).pagination.per_page,total:h(M).pagination.total},{default:c((()=>[y($,{rounded:"","no-header":!h(Y)&&0===h(M).data.length},{"header-column":c((({column:e})=>[])),body:c((()=>[h(Y)?(m(),b("div",Z,[(m(!0),b(j,null,k(h(M).pagination.per_page,(e=>(m(),b("div",{key:e,class:"flex-table-item"},[y(d,null,{default:c((()=>[y(_,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):V("",!0),0===h(M).data.length?(m(),b("div",ee,[y(f,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:c((()=>[ae,te])),_:1})])):V("",!0)])),"body-cell":c((({row:e,column:a})=>["donation_code"===a.key?(m(),b("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:a=>{return t=e,Object.assign(U,t),void(I.value=!0);var t}},v(e.donation_code),9,le)):V("",!0)])),_:1},8,["no-header"]),h(M).data.length?(m(),p(w,{key:0,"current-page":h(O),"onUpdate:current-page":i[0]||(i[0]=e=>D(O)?O.value=e:null),class:"mt-5","item-per-page":h(M).pagination.per_page,"total-items":h(M).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):V("",!0)])),_:1},8,["columns","data","limit","total"])])]),y(z,{"is-open":h(I),"onUpdate:is-open":i[1]||(i[1]=e=>D(I)?I.value=e:null),item:h(U)},null,8,["is-open","item"])])}}}),[["__scopeId","data-v-e60eae4a"]]);export{oe as default};
