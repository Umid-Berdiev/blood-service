import{_ as a,a as e,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-6eeebdac.js";import{_ as s,a as n}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-8916ac45.js";import{_ as r}from"./NoDataPlaceholder-50105cc5.js";import{_ as l,a as i}from"./PrintButton-f6d3e2ec.js";import{_ as o}from"./VFlex.vue_vue_type_style_index_0_lang-5c9a78f5.js";import{_}from"./VButtons.vue_vue_type_script_setup_true_lang-5f42cc67.js";import{_ as p}from"./VFlexItem.vue_vue_type_style_index_0_lang-cfd608a5.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-e8162493.js";import{q as d,E as m,H as c,C as g,x as v,r as f,J as y,y as b,o as h,d as w,k as j,w as x,K as k,m as V,e as $,g as C,F as B,l as F,a as I}from"./index-202d6ef0.js";import{u as P}from"./viewWrapper-93d6f948.js";import{u as D}from"./main-1fdef032.js";import{j as W}from"./patient-4b952528.js";import"./VButton.vue_vue_type_style_index_0_lang-8a17f68b.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VCard.vue_vue_type_script_setup_true_lang-8d45bf90.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-dc9d0236.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-422ea292.js";import"./VInput.vue_vue_type_script_setup_true_lang-6aad6843.js";import"./VControl-90e6c9df.js";import"./VIMaskInput.vue_vue_type_script_lang-ed3b3d4f.js";import"./lodash-82655619.js";const O={class:"page-content-inner"},T={class:"columns mt-1"},G={class:"column"},R={class:"columns"},S={class:"column is-12"},q={key:0,class:"is-flex-grow-0",textContent:"#"},z={key:0,class:"flex-list-inner"},E=d({__name:"index",setup(d){m(),c();const{t:E}=g(),H=D(),J=v(!1),K=f({lastname:"",firstname:"",middlename:"",passpordId:""});P().setPageTitle(E("Registration")),y({title:`${E("Donation-diverted-register")} - ${H.app.name}`});const L=f({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),M=f({page:1}),N={"#":{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:E("Fullname"),format:(a,e)=>`${e.first_name} ${e.last_name}`},birth_date:{label:E("Date-of-birth")},gender:{label:E("Gender"),format:a=>E(a)},passport:{label:E("Passport_series_number"),format:(a,e)=>`${e.passport_series}${e.passport_number}`},withdrawal_end_date:{label:E("Withdrawal_end_date"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.end_date}},withdrawal_reason:{label:E("Withdrawal_reason"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.reason}},withdrawal_created_by:{label:E("Withdrawal_created_by"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.created_by}}};async function U(a){var e,t;try{Object.assign(M,a),J.value=!0;const e=await W(a);Object.assign(L,e.result)}catch(s){Object.assign(K,null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors)}finally{J.value=!1}}async function Z(){await U(M)}function A(){}return b((()=>L.pagination.current_page),(async a=>{a&&(M.page=a,await U(M))}),{immediate:!0}),(d,m)=>{const c=u,g=p,v=l,f=_,y=o,b=i,P=s,D=a,W=r,E=e,K=n,M=t;return h(),w("div",O,[j(y,{"justify-content":"space-between","flex-wrap":"wrap"},{default:x((()=>[j(g,null,{default:x((()=>[j(c,{"with-icons":"",separator:"bullet",items:[{label:k(H).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:d.$t("Registration")},{label:d.$t("Donation-diverted-register")}]},null,8,["items"])])),_:1}),j(g,null,{default:x((()=>[j(f,null,{default:x((()=>[j(v,{onClick:V(A,["prevent"])},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),$("div",T,[$("div",G,[j(b,{"is-loading":k(J),onSearch:U,onClearForm:Z},null,8,["is-loading"])])]),$("div",R,[$("div",S,[j(M,{columns:k(N),data:k(L).data,limit:k(L).pagination.per_page,total:k(L).pagination.total},{default:x((()=>[j(E,{rounded:"","no-header":!k(J)&&0===k(L).data.length},{"header-column":x((({column:a})=>["#"===a.key?(h(),w("span",q)):C("",!0)])),body:x((()=>[k(J)?(h(),w("div",z,[(h(!0),w(B,null,F(k(L).pagination.per_page,(a=>(h(),w("div",{key:a,class:"flex-table-item"},[j(D,null,{default:x((()=>[j(P,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):C("",!0),0===k(L).data.length?(h(),I(W,{key:1})):C("",!0)])),_:1},8,["no-header"]),k(L).data.length?(h(),I(K,{key:0,"current-page":k(L).pagination.current_page,"onUpdate:current-page":m[0]||(m[0]=a=>k(L).pagination.current_page=a),class:"mt-5","item-per-page":k(L).pagination.per_page,"total-items":k(L).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):C("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}});export{E as default};
