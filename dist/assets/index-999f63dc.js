import{_ as t}from"./VCard.vue_vue_type_script_setup_true_lang-a9232da9.js";import{a as e,_ as a,b as n,c as l,d as o}from"./search-7-dark-f0facebe.js";import{_ as s}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d3c7c667.js";import{u as i}from"./chunk-DRAQDPQ2-4514f14e.js";import{a as r,b as u,r as _,l as p,t as d,q as c,Q as m,V as g,p as f,w as h,m as y,u as v,M as b,W as j,y as $,i as k,$ as D,a0 as V}from"./chunk-BGPNDDXN-dcda8805.js";import{u as w}from"./@vueuse_head-0d019878.js";import{u as x}from"./chunk-3UEUFEGV-d557e6b1.js";import{_ as M}from"./VModal.vue_vue_type_style_index_0_lang-b0507e96.js";import{_ as O}from"./SubmitButton.vue_vue_type_script_setup_true_lang-e5001c63.js";import{_ as Y,a as B}from"./VControl-fc151345.js";import{_ as C}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-5ce26ef4.js";import{f as I}from"./@vueuse_core-098eb702.js";import{u as Q}from"./useNotyf-1536ae84.js";import{_ as R}from"./_plugin-vue_export-helper-1b428a4d.js";import{u as U}from"./main-a3a6220c.js";import{u as P}from"./viewWrapper-c60f0ce7.js";import"./VFlex.vue_vue_type_style_index_0_lang-0938e556.js";import"./VPlaceload-2a65ae53.js";import"./VButton.vue_vue_type_style_index_0_lang-27d6885c.js";import"./VIMaskInput.vue_vue_type_script_lang-06d40a07.js";import"./moment-e00bdeae.js";import"./pinia-3af6ce52.js";const q={class:"table-container"},N={class:"table is-fullwidth"},F=R(r({__name:"DrugProductionFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(t,{emit:e}){Q();const{t:a}=x(),n=u(a("Quality_check_result")),l=u(!1),o=_({transfer_date:I(new Date,"YYYY-MM-DD")}),s=_({transfer_date:[]});function i(){Object.assign(o,{transfer_date:I(new Date,"YYYY-MM-DD")}),Object.assign(s,{transfer_date:[]}),e("update:isOpen",!1)}return(e,a)=>{const s=C,r=Y,u=B,_=O,h=M;return p(),d(h,{open:t.isOpen,size:"large",title:n.value,actions:"right",onClose:i},{content:c((()=>[m("div",q,[m("table",N,[m("tbody",null,[m("tr",null,[m("th",null,g(e.$t("Donation_code")),1),m("td",null,g(t.component.donation_code),1)]),m("tr",null,[m("th",null,g(e.$t("Donation_date")),1),m("td",null,g(t.component.donation_date),1)]),m("tr",null,[m("th",null,g(e.$t("Component_name")),1),m("td",null,g(t.component.component_name),1)]),m("tr",null,[m("th",null,g(e.$t("Blood_type"))+" & "+g(e.$t("Rh_factor")),1),m("td",null,g(t.component.blood_type)+" "+g(t.component.rh_factor),1)]),m("tr",null,[m("th",null,g(e.$t("Transfer_date")),1),m("td",null,[f(u,null,{default:c((()=>[f(r,null,{default:c((()=>[f(s,{modelValue:o.transfer_date,"onUpdate:modelValue":a[0]||(a[0]=t=>o.transfer_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:c((()=>[f(_,{loading:l.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-4e744115"]]),T=t=>(D("data-v-7f1d9032"),t=t(),V(),t),E={class:"page-content-inner"},G={class:"columns mb-5"},S={class:"column is-narrow"},W={class:"columns"},z={class:"column"},A={class:"table-container"},L={key:0,class:"flex-list-inner"},X=T((()=>m("img",{class:"light-image",src:l,alt:""},null,-1))),H=T((()=>m("img",{class:"dark-image",src:o,alt:""},null,-1))),J={key:1,class:"table is-hoverable is-fullwidth"},K={colspan:"5"},Z=["onClick"],tt=R(r({__name:"index",setup(l){i();const o=Q(),{t:r}=x(),D=U(),V=u(!1),M=P();u(null),M.setPageTitle(r("Quality-control")),w({title:`${r("Received_components_list")} - ${D.app.name}`});const O=_({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",dose:"0",quantity:"300",component_name:"Эритроцитная масса",blood_type:"O(I)",rh_factor:"Rh+"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),Y=_({}),B=u(!1);async function C(){try{V.value=!0}catch(t){o.error(r("Something_went_wrong"))}finally{V.value=!1}}return h(B,(function(t){!1===t&&Object.assign(Y,{})})),(l,o)=>{const i=s,r=e,u=a,_=n,h=t;return p(),y("div",E,[m("div",G,[m("div",S,[f(i,{"with-icons":"",separator:"bullet",items:[{label:v(D).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Quality-control")},{label:l.$t("Received_components_list")}]},null,8,["items"])])]),m("div",W,[m("div",z,[f(h,null,{default:c((()=>[m("div",A,[0===v(O).data.length?(p(),y("div",L,[f(r,{title:l.$t("No_data"),subtitle:l.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:c((()=>[X,H])),_:1},8,["title","subtitle"])])):(p(),y("table",J,[m("thead",null,[m("tr",null,[m("th",null,g(l.$t("Donation_date")),1),m("th",null,g(l.$t("Donation_code")),1),m("th",null,g(l.$t("Dose")),1),m("th",null,g(l.$t("Quantity_ml")),1),m("th",null,g(l.$t("Blood_type"))+" & "+g(l.$t("Rh_factor")),1),m("th",null,g(l.$t("Component_name")),1)])]),m("tbody",null,[v(V)?(p(!0),y(b,{key:0},j(v(O).pagination.per_page,(t=>(p(),y("tr",{key:t},[m("td",K,[f(u,{lines:2,"last-line-width":"70%"})])])))),128)):(p(!0),y(b,{key:1},j(v(O).data,((t,e)=>(p(),y("tr",{key:e},[m("td",null,g(t.donation_date),1),m("td",null,[m("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(Y,t),B.value=!0}(t)},g(t.donation_code),9,Z)]),m("td",null,g(t.dose),1),m("td",null,g(t.quantity),1),m("td",null,g(t.blood_type)+" "+g(t.rh_factor),1),m("td",null,g(t.component_name),1)])))),128))])]))]),v(O).data.length?(p(),d(_,{key:0,"current-page":v(O).pagination.current_page,"onUpdate:current-page":o[0]||(o[0]=t=>v(O).pagination.current_page=t),class:"mt-5","item-per-page":v(O).pagination.per_page,"total-items":v(O).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):$("",!0)])),_:1})])]),f(F,{"is-open":v(B),"onUpdate:is-open":o[1]||(o[1]=t=>k(B)?B.value=t:null),component:v(Y),"onUpdate:list":C},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-7f1d9032"]]);export{tt as default};
