import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-6deaaf11.js";import{a as t,_ as s,b as a}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-0146a9fd.js";import{_ as r,a as n}from"./VControl-c4bfd6d4.js";import{q as i,E as o,H as l,C as _,x as p,r as u,A as d,J as c,j as m,o as g,d as v,e as y,t as f,k as h,K as b,w as j,i as w,m as x}from"./index-c5546e3f.js";import{_ as V}from"./vue-scrollto-77cdde02.js";import{u as $}from"./viewWrapper-911093a6.js";import{p as k,k as C}from"./patient-9225403a.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-4a69d6df.js";import"./VInput.vue_vue_type_script_setup_true_lang-fcf9b43c.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-5e0ed005.js";import"./additional-2c3a91bb.js";import"./ClientOnly.vue_vue_type_script_lang-fed4a332.js";import"./VRadio.vue_vue_type_style_index_0_lang-39e5fd57.js";const E=["onSubmit"],I={class:"columns"},P={class:"column"},O={class:"ml-5"},S={class:"column"},M={class:"ml-5"},R={class:"help has-text-danger"},q={class:"column"},A={class:"ml-5"},B={class:"buttons is-right mr-5"},D=(V.__esModule&&V.default,i({__name:"index",setup(i){const V=o(),D=l(),{t:N}=_();p(0);const T=p(!1);p(-1);const z=$(),F=u({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),G=u({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),H=p([]);d((async()=>{const e=await k();H.value=e.result})),z.setPageTitle(N("Registration")),c({title:N("Register-donors")});const J=async()=>{var e;Object.getOwnPropertyNames(G).forEach((e=>{e in G&&(G[e]=[])}));try{T.value=!0;const e=await C(F);D.success("New patient data is successfully stored!"),V.push(`/app/registration/unified-donor-register/${e.result.id}`)}catch(t){Object.assign(G,null==(e=t.response)?void 0:e.data.errors)}finally{T.value=!1}};function K(e){G[e]=""}return(i,o)=>{const l=t,_=s,p=m("Multiselect"),u=r,d=n,c=a,V=e;return g(),v("form",{class:"s-card",onSubmit:x(J,["prevent"])},[y("div",I,[y("div",P,[y("h3",O,[y("span",null,f(i.$t("Certifying_document")),1)]),h(l,{patient:b(F),errors:b(G),onEditing:K},null,8,["patient","errors"])]),y("div",S,[y("h3",M,[y("span",null,f(i.$t("Personal_Info")),1)]),h(_,{patient:b(F),errors:b(G),onEditing:K},null,8,["patient","errors"]),h(d,{class:"px-5",label:i.$t("Category"),required:""},{default:j((()=>[h(u,null,{default:j((()=>[h(p,{modelValue:b(F).patient_category_id,"onUpdate:modelValue":o[0]||(o[0]=e=>b(F).patient_category_id=e),options:b(H),placeholder:i.$t("Select_category"),label:"name","value-prop":"id",onChange:o[1]||(o[1]=e=>K("patient_category_id"))},null,8,["modelValue","options","placeholder"]),y("p",R,f(b(G).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"])]),y("div",q,[y("h3",A,[y("span",null,f(i.$t("Address")),1)]),h(c,{patient:b(F),errors:b(G),onEditing:K},null,8,["patient","errors"])])]),y("div",B,[h(V,{type:"submit",color:"primary",bold:"",loading:b(T),disabled:b(T),tabindex:"0"},{default:j((()=>[w(f(i.$t("Save")),1)])),_:1},8,["loading","disabled"])])],40,E)}}}));export{D as default};
