import{_ as a,a as e,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-68179e43.js";import{_ as s,a as l,b as i,c as n,d as o}from"./search-7-dark-b6479367.js";import{_ as r,a as d}from"./VControl-b713a764.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-faf20e2b.js";import{q as p,E as c,H as m,C as _,x as v,J as g,r as y,c as f,a6 as b,A as h,y as x,j as k,o as j,d as w,e as V,k as $,K as D,w as C,S as P,g as F,F as M,l as T,a as Y,i as z,t as A,L,M as N}from"./index-568ad137.js";import{u as q}from"./main-7fc6984e.js";import{u as S}from"./viewWrapper-feca89b2.js";import{b as U,d as W}from"./patient-33059bc9.js";import{_ as B}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VFlex.vue_vue_type_style_index_0_lang-8f30b873.js";import"./VPlaceload-33f57994.js";const E=a=>(L("data-v-747501e8"),a=a(),N(),a),H={class:"page-content-inner"},I={class:"columns mb-3"},J={class:"column"},K={class:"column is-3"},O={class:"columns"},R={class:"column is-12"},X={key:0,class:"is-flex-grow-0",textContent:"#"},Z={key:0,class:"flex-list-inner"},G={key:1,class:"flex-list-inner"},Q=E((()=>V("img",{class:"light-image",src:n,alt:""},null,-1))),aa=E((()=>V("img",{class:"dark-image",src:o,alt:""},null,-1))),ea=B(p({__name:"index",setup(n){c();const o=m(),{t:p}=_(),L=q(),N=v(!1);S().setPageTitle(p("Physician-therapist")),g({title:`${p("Donors-list-for-examination")} - ${L.app.name}`});const B=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),E=f({get:()=>B.pagination.current_page,set:async a=>{await la(a)}}),ea={orderNumber:{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:p("Fullname")},birth_date:{label:p("Date-of-birth")},visit_date:{label:p("Visit_date"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.created_at)&&b(new Date(null==(s=e.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:p("Visit_type"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.visit_type)&&p(null==(s=e.last_visit)?void 0:s.visit_type)}},directed_by:{label:p("Directed_by"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.directed_by)&&p(null==(s=e.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:p("Personalized_donation"),format:(a,e)=>{var t;return null==(t=e.last_visit)?void 0:t.personalized_donation}},visit_status:{label:p("Visit_status"),format:(a,e)=>{var t;return null==(t=e.status)?void 0:t.name}},actions:{label:p("Actions")}};v();const ta=v([{id:0,name:p("All")}]),sa=v("");async function la(a=1){var e,t;try{N.value=!0;const e=await W({page:a,status_id:sa.value});Object.assign(B,e.result)}catch(s){o.error(p(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors))}finally{N.value=!1}}return h((async()=>{const a=await U();ta.value=a.result})),x((()=>sa.value),(async a=>{await la()})),(n,o)=>{const p=u,c=k("Multiselect"),m=r,_=d,v=s,g=a,y=l,f=k("RouterLink"),b=e,h=i,x=t;return j(),w("div",H,[V("div",I,[V("div",J,[$(p,{"with-icons":"",separator:"bullet",items:[{label:D(L).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:n.$t("Physician-therapist")},{label:n.$t("Donors-list-for-examination")}]},null,8,["items"])]),V("div",K,[$(_,{class:"is-curved-select"},{default:C((({id:a})=>[$(m,null,{default:C((()=>[$(c,{modelValue:D(sa),"onUpdate:modelValue":o[0]||(o[0]=a=>P(sa)?sa.value=a:null),attrs:{id:a},options:D(ta),placeholder:n.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),V("div",O,[V("div",R,[$(x,{columns:D(ea),data:D(B).data,limit:D(B).pagination.per_page,total:D(B).pagination.total},{default:C((()=>[$(b,{rounded:"","no-header":!D(N)&&0===D(B).data.length},{"header-column":C((({column:a})=>["orderNumber"===a.key?(j(),w("span",X)):F("",!0)])),body:C((()=>[D(N)?(j(),w("div",Z,[(j(!0),w(M,null,T(D(B).pagination.per_page,(a=>(j(),w("div",{key:a,class:"flex-table-item"},[$(g,null,{default:C((()=>[$(v,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):F("",!0),0===D(B).data.length?(j(),w("div",G,[$(y,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:C((()=>[Q,aa])),_:1})])):F("",!0)])),"body-cell":C((({row:a,column:e})=>["name"===e.key?(j(),Y(f,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}`},{default:C((()=>[z(A(a.first_name)+" "+A(a.last_name)+" "+A(a.father_name)+" ",1)])),_:2},1032,["to"])):F("",!0),"actions"===e.key?(j(),Y(f,{key:1,class:"has-text-warning",to:"/app/physician-therapist/donors-for-examination"},{default:C((()=>[z(A(n.$t("Complete"))+" ",1)])),_:1})):F("",!0)])),_:1},8,["no-header"]),D(B).data.length?(j(),Y(h,{key:0,"current-page":D(E),"onUpdate:current-page":o[1]||(o[1]=a=>P(E)?E.value=a:null),class:"mt-5","item-per-page":D(B).pagination.per_page,"total-items":D(B).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):F("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-747501e8"]]);export{ea as default};
