import{_ as a,a as e}from"./FilterForm.vue_vue_type_script_setup_true_lang.202d1552.js";import{_ as l}from"./VModal.vue_vue_type_style_index_0_lang.086b7620.js";import{_ as t}from"./SubmitButton.vue_vue_type_script_setup_true_lang.26d507c1.js";import{_ as i}from"./VFlex.vue_vue_type_style_index_0_lang.872f6df6.js";import{_ as s}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang.9f2d62c3.js";import{_ as o}from"./VFlexItem.vue_vue_type_style_index_0_lang.e28ce857.js";import{b as n,_ as r,a as d}from"./VControl.93d0bd46.js";import{_ as u}from"./VInput.vue_vue_type_script_setup_true_lang.bea9a7b4.js";import{q as _,H as p,C as c,x as m,r as v,o as f,a as b,w as g,e as y,t as h,k as x,i as V,K as j,a7 as I,$ as w,ag as k,a0 as U,L as $,M as D,J as Y,c as M,d as z,g as C,F as O,l as B,S as R}from"./index.0abd75ed.js";import{m as A}from"./moment.5a333ce6.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as P,a as N,b as E,c as S,d as T,e as q,f as H,g as L}from"./search-7-dark.c0e73d3f.js";import{_ as J}from"./VProgress.vue_vue_type_style_index_0_lang.f7b30e9f.js";import{_ as K}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.f307b05f.js";import{_ as W}from"./lodash.55c10af6.js";import{u as G}from"./main.e5d49235.js";import{u as Q}from"./viewWrapper.04cc5e32.js";import{f as X}from"./patient.051aee9f.js";import"./VTextarea.vue_vue_type_script_setup_true_lang.932906b5.js";import"./VCheckbox.vue_vue_type_style_index_0_lang.3c3f831f.js";import"./VRadio.vue_vue_type_style_index_0_lang.8389b9b7.js";import"./VCard.vue_vue_type_script_setup_true_lang.f34ac11d.js";import"./VButton.vue_vue_type_style_index_0_lang.31eed629.js";import"./VPlaceload.5ce3c270.js";import"./VIMaskInput.vue_vue_type_script_lang.931d2ba1.js";const Z=a=>($("data-v-9a414ef7"),a=a(),D(),a),aa={class:"columns"},ea={class:"column"},la={class:"is-size-5 has-text-weight-medium"},ta={class:"box"},ia={class:"has-text-weight-bold mr-3"},sa={class:"has-text-weight-bold mr-3"},oa=Z((()=>y("br",null,null,-1))),na={class:"is-size-5 has-text-weight-medium"},ra={class:"box mt-5"},da={class:"columns is-multiline"},ua={class:"column is-6 is-flex"},_a={class:"has-text-danger mr-5"},pa={class:"field"},ca={class:"control"},ma=Z((()=>y("label",{for:"oab1",class:"radio p-2"},[V("O"),y("sub",null,"αβ"),V("(I)")],-1))),va={class:"control"},fa=Z((()=>y("label",{for:"ab2",class:"radio p-2"},[V("A"),y("sub",null,"β"),V("(II)")],-1))),ba={class:"control"},ga=Z((()=>y("label",{for:"a2b2",class:"radio p-2"},[V("A"),y("sub",null,"2β"),V("(II)")],-1))),ya={class:"control"},ha=Z((()=>y("label",{for:"a2a1b2",class:"radio p-2"},[V("A"),y("sub",null,"2α1β"),V("(II)")],-1))),xa={class:"control"},Va=Z((()=>y("label",{for:"ba3",class:"radio p-2"},[V("B"),y("sub",null,"α"),V("(III)")],-1))),ja={class:"control"},Ia=Z((()=>y("label",{for:"ab04",class:"radio p-2"},[V("AB"),y("sub",null,"0"),V("(IV)")],-1))),wa={class:"control"},ka=Z((()=>y("label",{for:"a2b04",class:"radio p-2"},[V("A"),y("sub",null,"2"),V("B"),y("sub",null,"0"),V("(IV)")],-1))),Ua={class:"control"},$a=Z((()=>y("label",{for:"a2ba14",class:"radio p-2"},[V("A"),y("sub",null,"2"),V("B"),y("sub",null,"α1"),V("(IV)")],-1))),Da={class:"control"},Ya={for:"not_recognized",class:"radio p-2"},Ma={class:"control"},za={for:"panagglutination",class:"radio p-2"},Ca={class:"column is-6"},Oa={class:"is-flex"},Ba={class:"has-text-danger mr-5"},Ra={class:"field"},Aa={class:"control"},Fa=Z((()=>y("label",{for:"rh+",class:"radio p-2"},"Rh+",-1))),Pa={class:"control"},Na=Z((()=>y("label",{for:"rh-",class:"radio p-2"},"Rh-",-1))),Ea={class:"control"},Sa=Z((()=>y("label",{for:"du",class:"radio p-2"},[V("D"),y("sup",{class:"is-underlined"},"u")],-1))),Ta={class:"control"},qa=Z((()=>y("label",{for:"rh1",class:"radio p-2"},"Rh'",-1))),Ha={class:"control"},La=Z((()=>y("label",{for:"rh2",class:"radio p-2"},'Rh"',-1))),Ja={class:"field"},Ka={for:"comment"},Wa={class:"control"},Ga=A.__esModule?A.default:A,Qa=F(_({__name:"ImmunologicalResearchFormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list","emergency-noticing"],setup(a,{emit:e}){p();const{t:_}=c(),$=m(_("Hemotransmission_research_results")),D=m(!1),Y=v({definitive_blood_group:"oab1",rhesus_affiliation:"rh+"}),M=v({blood_samples_taken_date:[],analysis_date:[]});function z(){Object.assign(Y,{blood_samples_taken_date:Ga().format("YYYY-MM-DD"),analysis_date:Ga().format("YYYY-MM-DD")}),Object.assign(M,{blood_samples_taken_date:[],analysis_date:[]}),e("update:isOpen",!1)}return(e,_)=>{const p=n,c=u,m=r,v=d,M=o,C=s,O=i,B=t,R=l;return f(),b(R,{open:a.isOpen,size:"big",title:$.value,actions:"right",onClose:z},{content:g((()=>{var l;return[y("div",aa,[y("div",ea,[y("h5",la,h(e.$t("Donor_code"))+": "+h(null==(l=a.patient.last_visit)?void 0:l.donation_code),1)])]),y("div",ta,[x(O,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:g((()=>[x(M,{"flex-basis":"45%"},{default:g((()=>[x(v,{horizontal:""},{default:g((()=>[x(p,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[V(h(e.$t("Blood_sampling_date")),1)])),_:1}),x(m,null,{default:g((()=>{var e;return[x(c,{value:j(I)(new Date(null==(e=a.patient.last_visit)?void 0:e.updated_at),"YYYY-MM-DD"),disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),x(M,{"flex-basis":"45%"},{default:g((()=>[x(v,{horizontal:""},{default:g((()=>[x(p,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[V(h(e.$t("Blood_samples_taken_date")),1)])),_:1}),x(m,null,{default:g((()=>[x(C,{modelValue:Y.blood_samples_taken_date,"onUpdate:modelValue":_[0]||(_[0]=a=>Y.blood_samples_taken_date=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(M,{"flex-basis":"45%"},{default:g((()=>[x(v,{horizontal:""},{default:g((()=>[x(p,{class:"my-auto mr-3 is-size-6"},{default:g((()=>[V(h(e.$t("Analysis_date")),1)])),_:1}),x(m,null,{default:g((()=>[x(C,{modelValue:Y.analysis_date,"onUpdate:modelValue":_[1]||(_[1]=a=>Y.analysis_date=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(M,{"flex-basis":"45%"},{default:g((()=>{var l;return[y("h5",null,[y("span",ia,h(e.$t("Visit_stage"))+":",1),y("span",null,h(null==(l=a.patient.last_visit)?void 0:l.stage),1)])]})),_:1}),x(M,{"flex-basis":"45%"},{default:g((()=>{var l,t;return[y("h5",null,[y("span",sa,h(e.$t("Preliminary_blood_type"))+":",1),y("span",null,h(null!=(t=null==(l=a.patient.last_visit)?void 0:l.preliminary_blood_type)?t:"O(I)"),1)])]})),_:1})])),_:1})]),oa,y("h5",na,h(e.$t("Analysis_results")),1),y("div",ra,[y("div",da,[y("div",ua,[y("h5",_a,h(e.$t("Окончательная группа крови")),1),y("div",pa,[y("div",ca,[w(y("input",{id:"oab1","onUpdate:modelValue":_[2]||(_[2]=a=>Y.definitive_blood_group=a),type:"radio",value:"oab1"},null,512),[[k,Y.definitive_blood_group]]),ma]),y("div",va,[w(y("input",{id:"ab2","onUpdate:modelValue":_[3]||(_[3]=a=>Y.definitive_blood_group=a),type:"radio",value:"ab2"},null,512),[[k,Y.definitive_blood_group]]),fa]),y("div",ba,[w(y("input",{id:"a2b2","onUpdate:modelValue":_[4]||(_[4]=a=>Y.definitive_blood_group=a),type:"radio",value:"a2b2"},null,512),[[k,Y.definitive_blood_group]]),ga]),y("div",ya,[w(y("input",{id:"a2a1b2","onUpdate:modelValue":_[5]||(_[5]=a=>Y.definitive_blood_group=a),type:"radio",value:"a2a1b2"},null,512),[[k,Y.definitive_blood_group]]),ha]),y("div",xa,[w(y("input",{id:"ba3","onUpdate:modelValue":_[6]||(_[6]=a=>Y.definitive_blood_group=a),type:"radio",value:"ba3"},null,512),[[k,Y.definitive_blood_group]]),Va]),y("div",ja,[w(y("input",{id:"ab04","onUpdate:modelValue":_[7]||(_[7]=a=>Y.definitive_blood_group=a),type:"radio",value:"ab04"},null,512),[[k,Y.definitive_blood_group]]),Ia]),y("div",wa,[w(y("input",{id:"a2b04","onUpdate:modelValue":_[8]||(_[8]=a=>Y.definitive_blood_group=a),type:"radio",value:"a2b04"},null,512),[[k,Y.definitive_blood_group]]),ka]),y("div",Ua,[w(y("input",{id:"a2ba14","onUpdate:modelValue":_[9]||(_[9]=a=>Y.definitive_blood_group=a),type:"radio",value:"a2ba14"},null,512),[[k,Y.definitive_blood_group]]),$a]),y("div",Da,[w(y("input",{id:"not_recognized","onUpdate:modelValue":_[10]||(_[10]=a=>Y.definitive_blood_group=a),type:"radio",value:"not_recognized"},null,512),[[k,Y.definitive_blood_group]]),y("label",Ya,h(e.$t("Группа крови не определяется")),1)]),y("div",Ma,[w(y("input",{id:"panagglutination","onUpdate:modelValue":_[11]||(_[11]=a=>Y.definitive_blood_group=a),type:"radio",value:"panagglutination"},null,512),[[k,Y.definitive_blood_group]]),y("label",za,h(e.$t("Panagglutination")),1)])])]),y("div",Ca,[y("div",Oa,[y("h5",Ba,h(e.$t("Rhesus_affiliation")),1),y("div",Ra,[y("div",Aa,[w(y("input",{id:"rh+","onUpdate:modelValue":_[12]||(_[12]=a=>Y.rhesus_affiliation=a),type:"radio",value:"rh+"},null,512),[[k,Y.rhesus_affiliation]]),Fa]),y("div",Pa,[w(y("input",{id:"rh-","onUpdate:modelValue":_[13]||(_[13]=a=>Y.rhesus_affiliation=a),type:"radio",value:"rh-"},null,512),[[k,Y.rhesus_affiliation]]),Na]),y("div",Ea,[w(y("input",{id:"du","onUpdate:modelValue":_[14]||(_[14]=a=>Y.rhesus_affiliation=a),type:"radio",value:"du"},null,512),[[k,Y.rhesus_affiliation]]),Sa]),y("div",Ta,[w(y("input",{id:"rh1","onUpdate:modelValue":_[15]||(_[15]=a=>Y.rhesus_affiliation=a),type:"radio",value:"rh1"},null,512),[[k,Y.rhesus_affiliation]]),qa]),y("div",Ha,[w(y("input",{id:"rh2","onUpdate:modelValue":_[16]||(_[16]=a=>Y.rhesus_affiliation=a),type:"radio",value:"rh2"},null,512),[[k,Y.rhesus_affiliation]]),La])])]),y("div",null,[y("div",Ja,[y("label",Ka,h(e.$t("Comment")),1),y("div",Wa,[w(y("textarea",{id:"comment","onUpdate:modelValue":_[17]||(_[17]=a=>Y.comment=a),class:"textarea",rows:3},null,512),[[U,Y.comment]])])])])])])])]})),action:g((()=>[x(B,{loading:D.value,form:"blood-sampling-form"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-9a414ef7"]]),Xa=a=>($("data-v-6f38771c"),a=a(),D(),a),Za={class:"page-content-inner"},ae={class:"columns mb-3"},ee={class:"column"},le={class:"columns mt-1"},te={class:"column"},ie={class:"columns"},se={class:"column is-12"},oe={key:0,class:"is-flex-grow-0",textContent:"#"},ne={key:0,class:"flex-list-inner"},re={key:1,class:"flex-list-inner"},de=Xa((()=>y("img",{class:"light-image",src:H,alt:""},null,-1))),ue=Xa((()=>y("img",{class:"dark-image",src:L,alt:""},null,-1))),_e=["onClick"],pe=W.isEmpty,ce=F(_({__name:"index",setup(l){const t=p(),{t:i}=c(),s=G(),o=m(!1);Q().setPageTitle(i("Immunological-Research-Department")),Y({title:`${i("Immunological_research_specimens_list")} - ${s.app.name}`});const n=v({data:[{id:11,donation_code:130100111800,blood_sampling_date:"22.05.2022",first_name:"Ренат",last_name:"Ахмеджанов",father_name:"Шамильевич",birth_date:"24.01.1990",last_visit:{visit_type:"Безвозмезные донации",created_at:"2022.06.05",donation_type:"Тромбоцитаферез",stage:"Мед.освидетельствование"}},{id:55,donation_code:130100111869,blood_sampling_date:"23.05.2022",first_name:"Аркадий",last_name:"Богданов",father_name:"Ильич",birth_date:"12.08.1993",last_visit:{visit_type:"Безвозмезные донации",created_at:"2022.05.12",donation_type:"Донация цельной крови",stage:"Донация"}}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),r=M({get:()=>n.pagination.current_page,set:async a=>{V.page=a,await $(V)}}),d={orderNumber:{format:(a,e,l)=>`${l+1}`,cellClass:"is-flex-grow-0"},donation_code:{label:i("Donation_code")},blood_sampling_date:{label:i("Blood_sampling_date")},name:{label:i("Donor_fullname")},birth_date:{label:i("Date-of-birth")},visit_type:{label:i("Visit_type"),grow:!0,format:(a,e)=>{var l,t;return(null==(l=e.last_visit)?void 0:l.visit_type)&&i(null==(t=e.last_visit)?void 0:t.visit_type)}},visit_date:{label:i("Visit_date"),format:(a,e)=>{var l,t;return(null==(l=e.last_visit)?void 0:l.created_at)&&I(new Date(null==(t=e.last_visit)?void 0:t.created_at),"YYYY-MM-DD")}},donation_type:{label:i("Donation_type"),format:(a,e)=>{var l;return null==(l=e.last_visit)?void 0:l.donation_type}},visit_stage:{label:i("Visit_stage"),format:(a,e)=>{var l;return null==(l=e.last_visit)?void 0:l.stage}}},u=m(),_=v({visit_type_id:[],donation_type_id:[],donation_code:[]}),V=v({page:1}),w=v({}),k=m(!1),U=m(!1);async function $(a){var e,l;try{Object.assign(V,a),o.value=!0;const e=await X(a);Object.assign(n,e.result),pe(e.result.data)?t.warning(i("Data_not_found")):t.success(`${i("Found")}: ${e.result.pagination.total} ${i("records")}`)}catch(s){Object.assign(_,null==(l=null==(e=s.response)?void 0:e.data)?void 0:l.errors)}finally{o.value=!1}}function D(a){_[a]=""}async function A(){n.data=[]}return(l,t)=>{const i=K,p=P,c=N,m=E,v=J,V=S,I=T,Y=q,M=Qa,F=e;return f(),z("div",Za,[y("div",ae,[y("div",ee,[x(i,{"with-icons":"",separator:"bullet",items:[{label:j(s).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Immunological-Research-Department")},{label:l.$t("Immunological_research_specimens_list")}]},null,8,["items"])])]),y("div",le,[y("div",te,[x(a,{"is-loading":o.value,errors:_,onSearch:$,onClearForm:A,onClearError:D},null,8,["is-loading","errors"])])]),y("div",ie,[y("div",se,[x(Y,{columns:j(d),data:n.data,limit:n.pagination.per_page,total:n.pagination.total},{default:g((()=>[x(V,{rounded:"","no-header":!o.value&&0===n.data.length},{"header-column":g((({column:a})=>["orderNumber"===a.key?(f(),z("span",oe)):C("",!0)])),body:g((()=>[o.value?(f(),z("div",ne,[(f(!0),z(O,null,B(n.pagination.per_page,(a=>(f(),z("div",{key:a,class:"flex-table-item"},[x(c,null,{default:g((()=>[x(p,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):C("",!0),0===n.data.length?(f(),z("div",re,[x(m,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:g((()=>[de,ue])),_:1})])):C("",!0)])),"body-row-pre":g((({row:a})=>[a.id===u.value?(f(),b(v,{key:0,size:"tiny",class:"m-0 mb-1"})):C("",!0)])),"body-cell":g((({row:a,column:e})=>["name"===e.key?(f(),z("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:e=>{return l=a,Object.assign(w,l),void(k.value=!0);var l}},h(a.first_name)+" "+h(a.last_name)+" "+h(a.father_name),9,_e)):C("",!0)])),_:1},8,["no-header"]),n.data.length?(f(),b(I,{key:0,"current-page":j(r),"onUpdate:current-page":t[0]||(t[0]=a=>R(r)?r.value=a:null),class:"mt-5","item-per-page":n.pagination.per_page,"total-items":n.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):C("",!0)])),_:1},8,["columns","data","limit","total"])])]),x(M,{"is-open":k.value,"onUpdate:is-open":t[1]||(t[1]=a=>k.value=a),patient:w,onEmergencyNoticing:t[2]||(t[2]=a=>U.value=!U.value)},null,8,["is-open","patient"]),x(F,{"is-open":U.value,"onUpdate:is-open":t[3]||(t[3]=a=>U.value=a),patient:w},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-6f38771c"]]);export{ce as default};
