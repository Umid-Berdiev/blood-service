import{_ as e,a,b as t,c as l,d as n,e as o,f as s,g as i}from"./search-7-dark.c0e73d3f.js";import{_ as r}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.f307b05f.js";import{q as u,H as d,C as _,x as p,r as c,a7 as m,o as g,a as b,w as f,e as v,t as y,k as h,J as j,c as k,d as V,K as x,F as Y,l as D,g as $,S as M,L as w,M as O}from"./index.0abd75ed.js";import{_ as C}from"./lodash.55c10af6.js";import{_ as S}from"./VModal.vue_vue_type_style_index_0_lang.086b7620.js";import{_ as B}from"./SubmitButton.vue_vue_type_script_setup_true_lang.26d507c1.js";import{_ as I}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang.9f2d62c3.js";import{_ as U,a as F}from"./VControl.93d0bd46.js";import{_ as P}from"./VRadio.vue_vue_type_style_index_0_lang.8389b9b7.js";import{m as q}from"./moment.5a333ce6.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";import{u as N}from"./main.e5d49235.js";import{u as R}from"./viewWrapper.04cc5e32.js";import{f as T}from"./patient.051aee9f.js";import"./VFlex.vue_vue_type_style_index_0_lang.872f6df6.js";import"./VPlaceload.5ce3c270.js";import"./VButton.vue_vue_type_style_index_0_lang.31eed629.js";import"./VIMaskInput.vue_vue_type_script_lang.931d2ba1.js";const z={class:"table-container"},E={class:"table is-fullwidth"},H=q.__esModule?q.default:q,J=L(u({__name:"SupernatantPlasmaFormModal",props:{isOpen:{type:Boolean,default:!1},item:null},emits:["update:isOpen","update:list"],setup(e,{emit:a}){d();const{t:t}=_(),l=p(t("Supernatant_plasma_test_result")),n=p(!1),o=c({control_result:"sterile",result_date:m(new Date,"YYYY-MM-DD")}),s=c({control_result:[],result_date:[]});function i(){Object.assign(o,{blood_samples_taken_date:H().format("YYYY-MM-DD"),analysis_date:H().format("YYYY-MM-DD"),clinical_biochemical_laboratory_date:H().format("YYYY-MM-DD")}),Object.assign(s,{blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),a("update:isOpen",!1)}return(a,t)=>{const s=P,r=U,u=F,d=I,_=B,p=S;return g(),b(p,{open:e.isOpen,size:"large",title:l.value,actions:"right",onClose:i},{content:f((()=>[v("div",z,[v("table",E,[v("tbody",null,[v("tr",null,[v("th",null,y(a.$t("Donor_code")),1),v("td",null,y(e.item.donation_code),1)]),v("tr",null,[v("th",null,y(a.$t("Donation_date")),1),v("td",null,y(e.item.donation_date),1)]),v("tr",null,[v("th",null,y(a.$t("Component_name")),1),v("td",null,y(e.item.component_name),1)]),v("tr",null,[v("th",null,y(a.$t("Come_from")),1),v("td",null,y(e.item.come_from),1)]),v("tr",null,[v("th",null,y(a.$t("Control_result")),1),v("td",null,[h(u,null,{default:f((()=>[h(r,null,{default:f((()=>[h(s,{modelValue:o.control_result,"onUpdate:modelValue":t[0]||(t[0]=e=>o.control_result=e),value:"sterile",color:"primary",label:a.$t("Sterile")},null,8,["modelValue","label"]),h(s,{modelValue:o.control_result,"onUpdate:modelValue":t[1]||(t[1]=e=>o.control_result=e),value:"not_sterile",color:"primary",label:a.$t("Not_sterile")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),v("tr",null,[v("th",null,y(a.$t("Result_date")),1),v("td",null,[h(u,null,{default:f((()=>[h(r,null,{default:f((()=>[h(d,{modelValue:o.result_date,"onUpdate:modelValue":t[2]||(t[2]=e=>o.result_date=e),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:f((()=>[h(_,{loading:n.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-c5149fea"]]),K=e=>(w("data-v-d6e60d5d"),e=e(),O(),e),W={class:"page-content-inner"},A={class:"columns mb-3"},G={class:"column"},Q={class:"columns"},X={class:"column is-12"},Z={key:0,class:"flex-list-inner"},ee={key:1,class:"flex-list-inner"},ae=K((()=>v("img",{class:"light-image",src:s,alt:""},null,-1))),te=K((()=>v("img",{class:"dark-image",src:i,alt:""},null,-1))),le=["onClick"],ne=C.isEmpty,oe=L(u({__name:"index",setup(s){const i=d(),{t:u}=_(),m=N(),w=p(!1);R().setPageTitle(u("Buck-laboratory")),j({title:`${u("Supernatant-plasma-list")} - ${m.app.name}`});const O=c({data:[{serial_number:"1.07.13",donation_code:"130100121500",donation_date:"05.06.2022"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),C=k({get:()=>O.pagination.current_page,set:async e=>{I.page=e,await async function(e){var a,t;try{Object.assign(I,e),w.value=!0;const a=await T(e);Object.assign(O,a.result),ne(a.result.data)?i.warning(u("Data_not_found")):i.success(`${u("Found")}: ${a.result.pagination.total} ${u("records")}`)}catch(l){Object.assign(B,null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.errors)}finally{w.value=!1}}(I)}}),S={serial_number:{label:u("Serial_number")},donation_code:{label:u("Donation_code")},donation_date:{label:u("Donation_date")}},B=c({visit_type_id:[],donation_type_id:[],donation_code:[]}),I=c({page:1}),U=c({}),F=p(!1);return(s,i)=>{const u=r,d=e,_=a,p=t,c=l,j=n,k=o;return g(),V("div",W,[v("div",A,[v("div",G,[h(u,{"with-icons":"",separator:"bullet",items:[{label:x(m).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:s.$t("Buck-laboratory")},{label:s.$t("Supernatant-plasma-list")}]},null,8,["items"])])]),v("div",Q,[v("div",X,[h(k,{columns:x(S),data:O.data,limit:O.pagination.per_page,total:O.pagination.total},{default:f((()=>[h(c,{rounded:"","no-header":!w.value&&0===O.data.length},{"header-column":f((({column:e})=>[])),body:f((()=>[w.value?(g(),V("div",Z,[(g(!0),V(Y,null,D(O.pagination.per_page,(e=>(g(),V("div",{key:e,class:"flex-table-item"},[h(_,null,{default:f((()=>[h(d,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):$("",!0),0===O.data.length?(g(),V("div",ee,[h(p,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:f((()=>[ae,te])),_:1})])):$("",!0)])),"body-cell":f((({row:e,column:a})=>["donation_code"===a.key?(g(),V("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:a=>{return t=e,Object.assign(U,t),void(F.value=!0);var t}},y(e.donation_code),9,le)):$("",!0)])),_:1},8,["no-header"]),O.data.length?(g(),b(j,{key:0,"current-page":x(C),"onUpdate:current-page":i[0]||(i[0]=e=>M(C)?C.value=e:null),class:"mt-5","item-per-page":O.pagination.per_page,"total-items":O.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):$("",!0)])),_:1},8,["columns","data","limit","total"])])]),h(J,{"is-open":F.value,"onUpdate:is-open":i[1]||(i[1]=e=>F.value=e),item:U},null,8,["is-open","item"])])}}}),[["__scopeId","data-v-d6e60d5d"]]);export{oe as default};
