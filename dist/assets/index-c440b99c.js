import{e,g as a,a as l,_ as t,b as s}from"./FilterForm.vue_vue_type_script_setup_true_lang-db3067ec.js";import{_ as n}from"./TableForLaboratories.vue_vue_type_script_setup_true_lang-b8bf7dc9.js";import{_ as i}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-e8162493.js";import{q as o,H as u,C as d,x as r,r as c,a7 as _,y as p,o as m,a as y,w as f,e as h,t as v,k as g,i as b,d as V,g as x,L as j,M as z,J as k,ag as U,K as w,U as q}from"./index-202d6ef0.js";import{_ as C}from"./VModal.vue_vue_type_style_index_0_lang-98b95306.js";import{_ as O}from"./SubmitButton.vue_vue_type_script_setup_true_lang-dc9d0236.js";import{_ as $}from"./VCheckbox.vue_vue_type_style_index_0_lang-b85a5492.js";import{b as F,_ as B,a as D}from"./VControl-90e6c9df.js";import{_ as M}from"./VInput.vue_vue_type_script_setup_true_lang-6aad6843.js";import{_ as T}from"./VFlex.vue_vue_type_style_index_0_lang-5c9a78f5.js";import{_ as P}from"./DatePicker.vue_vue_type_script_setup_true_lang-181de8a9.js";import{_ as I}from"./VFlexItem.vue_vue_type_style_index_0_lang-cfd608a5.js";import{_ as L}from"./_plugin-vue_export-helper-1b428a4d.js";import{u as Y}from"./main-1fdef032.js";import{u as R}from"./viewWrapper-93d6f948.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-e4eeb86d.js";import"./VRadio.vue_vue_type_style_index_0_lang-24615d3d.js";import"./VCard.vue_vue_type_script_setup_true_lang-8d45bf90.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-422ea292.js";import"./VButton.vue_vue_type_style_index_0_lang-8a17f68b.js";import"./additional-b8f03a9c.js";import"./VFlexTable.vue_vue_type_style_index_0_lang-6eeebdac.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-8916ac45.js";import"./NoDataPlaceholder-50105cc5.js";import"./ClientOnly.vue_vue_type_script_lang-3cf31693.js";const A=e=>(j("data-v-d3d09715"),e=e(),z(),e),S={class:"columns"},Z={class:"column"},H={class:"is-size-5 has-text-weight-medium"},J={class:"box"},K={class:"my-auto mr-3 is-size-6"},N={class:"my-auto mr-3 is-size-6"},W={class:"my-auto mr-3 is-size-6"},E={class:"has-text-weight-bold"},G=A((()=>h("br",null,null,-1))),Q={class:"box"},X=A((()=>h("hr",{class:"is-divider"},null,-1))),ee=A((()=>h("br",null,null,-1))),ae={class:"columns is-multiline"},le={class:"column is-4-desktop is-6-tablet"},te={key:0,class:"has-text-danger"},se=A((()=>h("span",null,"Билирубин, мл.моль/л",-1))),ne={class:"column is-4-desktop is-6-tablet"},ie={key:0,class:"has-text-danger"},oe=A((()=>h("span",null,"Общий белок, ед.",-1))),ue={class:"column is-4-desktop is-6-tablet"},de={key:0,class:"has-text-danger"},re=A((()=>h("span",null,"Тимоловые пробы",-1))),ce={class:"column is-4-desktop is-6-tablet"},_e={key:0,class:"has-text-danger"},pe=A((()=>h("span",null,"Лейкоциты (Z), ед/л",-1))),me={class:"column is-4-desktop is-6-tablet"},ye={key:0,class:"has-text-danger"},fe=A((()=>h("span",null,"СОЭ, мл/ч",-1))),he={class:"column is-4-desktop is-6-tablet"},ve={key:0,class:"has-text-danger"},ge=A((()=>h("span",null,"Эритроциты, ед/л",-1))),be={class:"column is-4-desktop is-6-tablet"},Ve={key:0,class:"has-text-danger"},xe=A((()=>h("span",null,"Тромбоциты, л",-1))),je={class:"column is-4-desktop is-6-tablet"},ze={key:0,class:"has-text-danger"},ke=A((()=>h("span",null,"Гематокрит, %",-1))),Ue=A((()=>h("br",null,null,-1))),we=A((()=>h("p",{class:"has-text-danger"}," Красным цветом указаны показатели, заданные врачом-терапевтом, как обязательные для определения ",-1))),qe=A((()=>h("h5",{class:"is-size-5 py-1 has-text-centered"},"Лейкоформула",-1))),Ce=A((()=>h("br",null,null,-1))),Oe={class:"box"},$e={class:"columns is-multiline"},Fe={class:"column is-4-desktop is-6-tablet"},Be={key:0,class:"has-text-danger"},De=A((()=>h("span",null,"Базофилы, %",-1))),Me={class:"column is-4-desktop is-6-tablet"},Te={key:0,class:"has-text-danger"},Pe=A((()=>h("span",null,"Эозинофилы, %",-1))),Ie={class:"column is-4-desktop is-6-tablet"},Le={key:0,class:"has-text-danger"},Ye=A((()=>h("span",null,"Палочкоядерные, %",-1))),Re={class:"column is-4-desktop is-6-tablet"},Ae={key:0,class:"has-text-danger"},Se=A((()=>h("span",null,"Сегментоядерные, %",-1))),Ze={class:"column is-4-desktop is-6-tablet"},He={key:0,class:"has-text-danger"},Je=A((()=>h("span",null,"Лимфоциты, %",-1))),Ke={class:"column is-4-desktop is-6-tablet"},Ne={key:0,class:"has-text-danger"},We=A((()=>h("span",null,"Моноциты, %",-1))),Ee=A((()=>h("hr",{class:"is-divider"},null,-1))),Ge={class:"box"},Qe=L(o({__name:"FormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list"],setup(l,{emit:t}){const s=l,n=u(),{t:i}=d(),o=r(i("clinical_biochemical_research_results")),j=r(!1),z=c({blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),k=_(new Date,"YYYY-MM-DD"),U=c({data:{date_analysis:k,alt:"",reagent:"",norm:!1,plmal:!1,bilirubin:"",general:"",thymol:"",leucocyte:"",platelets:"",esr:"",erythrocyte:"",hematocrit:"",basophils:"",eosinophils:"",stab:"",segmented:"",lymphocytes:"",monocytes:"",hemolysis:!1,chilez:!1},required_fields:[]}),w=r(!1);async function q(){var e,l,o,u,d,r;try{j.value=!0,await a(null==(l=null==(e=s.patient)?void 0:e.last_visit)?void 0:l.id,U.data),n.success(i("Data_saved_successfully")),t("update:list"),L()}catch(c){(null==(o=c.response)?void 0:o.data.error)?n.error(null==(u=c.response)?void 0:u.data.error):Object.assign(z,null==(r=null==(d=c.response)?void 0:d.data)?void 0:r.errors)}finally{j.value=!1}}function L(){U.data={date_analysis:k,alt:"",reagent:"",norm:!1,plmal:!1,bilirubin:"",general:"",thymol:"",leucocyte:"",platelets:"",esr:"",erythrocyte:"",hematocrit:"",basophils:"",eosinophils:"",stab:"",segmented:"",lymphocytes:"",monocytes:"",hemolysis:!1,chilez:!1},Object.assign(z,{date_analysis:[]}),t("update:isOpen",!1)}return p((()=>{var e,a;return null==(a=null==(e=s.patient)?void 0:e.last_visit)?void 0:a.id}),(async a=>{var l;if(a){const t=await e(a);Object.assign(U,t.result),(l=U.data).date_analysis||(l.date_analysis=k)}})),p([()=>U.data.hemolysis,()=>U.data.chilez],(async e=>{e.includes(!0)?w.value=!0:w.value=!1})),(e,a)=>{const t=I,s=P,n=T,i=F,u=M,d=B,r=D,c=$,_=O,p=C;return m(),y(p,{open:l.isOpen,size:"big",title:o.value,actions:"right",onClose:L},{content:f((()=>{var o,_;return[h("div",S,[h("div",Z,[h("h5",H,v(e.$t("Donation_code"))+": "+v(null==(_=null==(o=l.patient)?void 0:o.last_visit)?void 0:_.donation_code),1)])]),h("div",J,[g(n,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:f((()=>[g(t,{"flex-basis":"45%"},{default:f((()=>{var a,t,s;return[h("span",K,v(e.$t("Blood_sampling_date"))+": ",1),h("span",null,v(null==(s=null==(t=null==(a=l.patient)?void 0:a.last_visit)?void 0:t.blood_sample)?void 0:s.date),1)]})),_:1}),g(t,{"flex-basis":"45%"},{default:f((()=>{var a,t,s;return[h("span",N,v(e.$t("Blood_samples_taken_date"))+": ",1),h("span",null,v(null==(s=null==(t=null==(a=l.patient)?void 0:a.last_visit)?void 0:t.blood_sample)?void 0:s.chemical_date),1)]})),_:1}),g(t,{"flex-basis":"45%"},{default:f((()=>[h("span",W,v(e.$t("Analysis_date")),1),g(s,{modelValue:U.data.date_analysis,"onUpdate:modelValue":a[0]||(a[0]=e=>U.data.date_analysis=e)},null,8,["modelValue"])])),_:1}),g(t,{"flex-basis":"45%"},{default:f((()=>{var a,t;return[h("h5",null,[h("span",E,v(e.$t("Visit_stage")),1),h("span",null,v(null==(t=null==(a=l.patient)?void 0:a.last_visit)?void 0:t.stage),1)])]})),_:1})])),_:1})]),G,h("div",Q,[g(n,{"flex-wrap":"wrap","align-items":"center","column-gap":"2rem"},{default:f((()=>[g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3"},{default:f((()=>[b("ALT, ml. mol/l")])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.alt,"onUpdate:modelValue":a[1]||(a[1]=e=>U.data.alt=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3"},{default:f((()=>[b("Реагент")])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.reagent,"onUpdate:modelValue":a[2]||(a[2]=e=>U.data.reagent=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(d,null,{default:f((()=>[g(c,{modelValue:U.data.norm,"onUpdate:modelValue":a[3]||(a[3]=e=>U.data.norm=e),color:"primary",label:"Норма"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),X,g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(d,null,{default:f((()=>[g(c,{modelValue:U.data.plmal,"onUpdate:modelValue":a[4]||(a[4]=e=>U.data.plmal=e),color:"primary",label:"Plmal"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),ee,h("div",ae,[h("div",le,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("bilirubin")?(m(),V("span",te,"*")):x("",!0),se])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.bilirubin,"onUpdate:modelValue":a[5]||(a[5]=e=>U.data.bilirubin=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",ne,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("general")?(m(),V("span",ie,"*")):x("",!0),oe])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.general,"onUpdate:modelValue":a[6]||(a[6]=e=>U.data.general=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",ue,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("thymol")?(m(),V("span",de,"*")):x("",!0),re])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.thymol,"onUpdate:modelValue":a[7]||(a[7]=e=>U.data.thymol=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",ce,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("leucocyte")?(m(),V("span",_e,"*")):x("",!0),pe])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.leucocyte,"onUpdate:modelValue":a[8]||(a[8]=e=>U.data.leucocyte=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",me,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("esr")?(m(),V("span",ye,"*")):x("",!0),fe])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.esr,"onUpdate:modelValue":a[9]||(a[9]=e=>U.data.esr=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",he,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("erythrocyte")?(m(),V("span",ve,"*")):x("",!0),ge])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.erythrocyte,"onUpdate:modelValue":a[10]||(a[10]=e=>U.data.erythrocyte=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",be,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("platelets")?(m(),V("span",Ve,"*")):x("",!0),xe])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.platelets,"onUpdate:modelValue":a[11]||(a[11]=e=>U.data.platelets=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",je,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("hematocrit")?(m(),V("span",ze,"*")):x("",!0),ke])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.hematocrit,"onUpdate:modelValue":a[12]||(a[12]=e=>U.data.hematocrit=e)},null,8,["modelValue"])])),_:1})])),_:1})])]),Ue,we]),qe,Ce,h("div",Oe,[h("div",$e,[h("div",Fe,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("basophils")?(m(),V("span",Be,"*")):x("",!0),De])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.basophils,"onUpdate:modelValue":a[13]||(a[13]=e=>U.data.basophils=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Me,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("eosinophils")?(m(),V("span",Te,"*")):x("",!0),Pe])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.eosinophils,"onUpdate:modelValue":a[14]||(a[14]=e=>U.data.eosinophils=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ie,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("stab")?(m(),V("span",Le,"*")):x("",!0),Ye])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.stab,"onUpdate:modelValue":a[15]||(a[15]=e=>U.data.stab=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Re,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("segmented")?(m(),V("span",Ae,"*")):x("",!0),Se])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.segmented,"onUpdate:modelValue":a[16]||(a[16]=e=>U.data.segmented=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ze,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("lymphocytes")?(m(),V("span",He,"*")):x("",!0),Je])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.lymphocytes,"onUpdate:modelValue":a[17]||(a[17]=e=>U.data.lymphocytes=e)},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ke,[g(r,{horizontal:"",class:"is-justify-content-end"},{default:f((()=>[g(i,{class:"is-size-6 my-auto mr-3 has-text-right"},{default:f((()=>[U.required_fields.includes("monocytes")?(m(),V("span",Ne,"*")):x("",!0),We])),_:1}),g(d,null,{default:f((()=>[g(u,{modelValue:U.data.monocytes,"onUpdate:modelValue":a[18]||(a[18]=e=>U.data.monocytes=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),Ee,h("div",Ge,[g(n,null,{default:f((()=>[g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(d,null,{default:f((()=>[g(c,{modelValue:U.data.chilez,"onUpdate:modelValue":a[19]||(a[19]=e=>U.data.chilez=e),color:"primary",label:"Хилез"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),g(t,null,{default:f((()=>[g(r,{horizontal:""},{default:f((()=>[g(d,null,{default:f((()=>[g(c,{modelValue:U.data.hemolysis,"onUpdate:modelValue":a[20]||(a[20]=e=>U.data.hemolysis=e),color:"primary",label:"Гемолиз"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])]})),action:f((()=>[g(_,{loading:j.value,onClick:q},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-d3d09715"]]),Xe={class:"page-content-inner"},ea={class:"columns mb-3"},aa={class:"column"},la={class:"columns mt-1"},ta={class:"column"},sa=L(o({__name:"index",async setup(e){let a,o;const{t:u}=d(),_=Y(),y=r(!1);R().setPageTitle(u("Clinical-biochemical-laboratory")),k({title:`${u("Research-aimed-donations-list")} - ${_.app.name}`});const f=c({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),v=c({visit_type_id:[],donation_type_id:[],donation_code:[]}),b=c({visit_type_id:"",donation_type_id:null,donation_code:"",page:1}),x=r(null),j=r(!1),z=r(!1);async function C(e){var a,t;try{y.value=!0,Object.assign(b,e);const a=await l(e);Object.assign(f,a.result)}catch(s){Object.assign(v,null==(t=null==(a=s.response)?void 0:a.data)?void 0:t.errors)}finally{y.value=!1}}async function O(){await C(b)}function $(e){x.value=e,j.value=!0}function F(){x.value=null}return[a,o]=U((()=>C(b))),await a,o(),p((()=>f.pagination.current_page),(async e=>{e&&(b.page=e,await C(b))})),(e,a)=>{const l=i,o=t,u=n,d=s;return m(),V("div",Xe,[h("div",ea,[h("div",aa,[g(l,{"with-icons":"",separator:"bullet",items:[{label:w(_).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:e.$t("Clinical-biochemical-laboratory")},{label:e.$t("Research-aimed-donations-list")}]},null,8,["items"])])]),h("div",la,[h("div",ta,[g(o,{"is-loading":w(y),onSearch:C,onClearForm:O},null,8,["is-loading"])])]),g(u,{"current-page":w(f).pagination.current_page,"onUpdate:current-page":a[0]||(a[0]=e=>w(f).pagination.current_page=e),data:w(f),"is-loading":w(y),onOpenFormModal:$},null,8,["current-page","data","is-loading"]),g(Qe,{"is-open":w(j),"onUpdate:is-open":a[1]||(a[1]=e=>q(j)?j.value=e:null),patient:w(x),onClose:F},null,8,["is-open","patient"]),g(d,{"is-open":w(z),"onUpdate:is-open":a[2]||(a[2]=e=>q(z)?z.value=e:null),patient:w(x)},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-c79baa93"]]);export{sa as default};
