import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-1ec5e12b.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-ca217c20.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-38070980.js";import{_ as l,a as o}from"./VControl-b713a764.js";import{_ as n}from"./VRadio.vue_vue_type_style_index_0_lang-96440a75.js";import{q as s,H as i,C as r,x as u,r as _,a6 as d,o as m,a as p,w as c,e as g,t as y,k as v,J as f,c as b,d as h,K as j,F as k,l as x,g as V,S as D,L as Y,M as $}from"./index-568ad137.js";import{m as M}from"./moment-78dc6435.js";import{_ as w}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as C,a as O,b as B}from"./VFlexTable.vue_vue_type_style_index_0_lang-68179e43.js";import{_ as I,a as S,b as F,c as U,d as q}from"./search-7-dark-b6479367.js";import{_ as T}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-faf20e2b.js";import{_ as L}from"./lodash-c54dbb06.js";import{u as N}from"./main-7fc6984e.js";import{u as P}from"./viewWrapper-feca89b2.js";import{f as R}from"./patient-33059bc9.js";import"./VButton.vue_vue_type_style_index_0_lang-fc4409cd.js";import"./VPlaceload-33f57994.js";import"./VIMaskInput.vue_vue_type_script_lang-6492e1cb.js";import"./VFlex.vue_vue_type_style_index_0_lang-8f30b873.js";const W={class:"table-container"},z={class:"table is-fullwidth"},E=M.__esModule?M.default:M,H=w(s({__name:"BuckControlSterilityFormModal",props:{isOpen:{type:Boolean,default:!1},item:null},emits:["update:isOpen","update:list"],setup(s,{emit:f}){i();const{t:b}=r(),h=u(b("Sterility_test_result")),j=u(!1),k=_({control_result:"sterile",result_date:d(new Date,"YYYY-MM-DD")}),x=_({control_result:[],result_date:[]});function V(){Object.assign(k,{blood_samples_taken_date:E().format("YYYY-MM-DD"),analysis_date:E().format("YYYY-MM-DD"),clinical_biochemical_laboratory_date:E().format("YYYY-MM-DD")}),Object.assign(x,{blood_samples_taken_date:[],analysis_date:[],clinical_biochemical_laboratory_date:[]}),f("update:isOpen",!1)}return(i,r)=>{const u=n,_=l,d=o,f=a,b=e,x=t;return m(),p(x,{open:s.isOpen,size:"large",title:h.value,actions:"right",onClose:V},{content:c((()=>[g("div",W,[g("table",z,[g("tbody",null,[g("tr",null,[g("th",null,y(i.$t("Donor_code")),1),g("td",null,y(s.item.donation_code),1)]),g("tr",null,[g("th",null,y(i.$t("Donation_date")),1),g("td",null,y(s.item.donation_date),1)]),g("tr",null,[g("th",null,y(i.$t("Component_name")),1),g("td",null,y(s.item.component_name),1)]),g("tr",null,[g("th",null,y(i.$t("Come_from")),1),g("td",null,y(s.item.come_from),1)]),g("tr",null,[g("th",null,y(i.$t("Control_result")),1),g("td",null,[v(d,null,{default:c((()=>[v(_,null,{default:c((()=>[v(u,{modelValue:k.control_result,"onUpdate:modelValue":r[0]||(r[0]=t=>k.control_result=t),value:"sterile",color:"primary",label:i.$t("Sterile")},null,8,["modelValue","label"]),v(u,{modelValue:k.control_result,"onUpdate:modelValue":r[1]||(r[1]=t=>k.control_result=t),value:"not_sterile",color:"primary",label:i.$t("Not_sterile")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,y(i.$t("Result_date")),1),g("td",null,[v(d,null,{default:c((()=>[v(_,null,{default:c((()=>[v(f,{modelValue:k.result_date,"onUpdate:modelValue":r[2]||(r[2]=t=>k.result_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:c((()=>[v(b,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-c97730d9"]]),J=t=>(Y("data-v-8a7713f3"),t=t(),$(),t),K={class:"page-content-inner"},Q={class:"columns mb-3"},X={class:"column"},Z={class:"columns"},A={class:"column is-12"},G={key:0,class:"flex-list-inner"},tt={key:1,class:"flex-list-inner"},et=J((()=>g("img",{class:"light-image",src:U,alt:""},null,-1))),at=J((()=>g("img",{class:"dark-image",src:q,alt:""},null,-1))),lt=["onClick"],ot=L.isEmpty,nt=w(s({__name:"index",setup(t){const e=i(),{t:a}=r(),l=N(),o=u(!1);P().setPageTitle(a("Buck-laboratory")),f({title:`${a("Buck-control-sterility")} - ${l.app.name}`});const n=_({data:[{donation_date:"05.06.2022",donation_code:"138800115200",dose:"0",quantity:"250",component_name:"Эритроцитная масса",come_from:"Из отдела переработки"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),s=b({get:()=>n.pagination.current_page,set:async t=>{$.page=t,await async function(t){var l,s;try{Object.assign($,t),o.value=!0;const l=await R(t);Object.assign(n,l.result),ot(l.result.data)?e.warning(a("Data_not_found")):e.success(`${a("Found")}: ${l.result.pagination.total} ${a("records")}`)}catch(i){Object.assign(Y,null==(s=null==(l=i.response)?void 0:l.data)?void 0:s.errors)}finally{o.value=!1}}($)}}),d={donation_date:{label:a("Donation_date")},donation_code:{label:a("Donation_code")},dose:{label:a("Dose")},quantity:{label:a("Quantity_ml")},component_name:{label:a("Component_name")},come_from:{label:a("Come_from")}},Y=_({visit_type_id:[],donation_type_id:[],donation_code:[]}),$=_({page:1}),M=_({}),w=u(!1);return(t,e)=>{const a=T,i=I,r=C,u=S,_=O,f=F,b=B,Y=H;return m(),h("div",K,[g("div",Q,[g("div",X,[v(a,{"with-icons":"",separator:"bullet",items:[{label:j(l).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Buck-laboratory")},{label:t.$t("Buck-control-sterility")}]},null,8,["items"])])]),g("div",Z,[g("div",A,[v(b,{columns:j(d),data:j(n).data,limit:j(n).pagination.per_page,total:j(n).pagination.total},{default:c((()=>[v(_,{rounded:"","no-header":!j(o)&&0===j(n).data.length},{"header-column":c((({column:t})=>[])),body:c((()=>[j(o)?(m(),h("div",G,[(m(!0),h(k,null,x(j(n).pagination.per_page,(t=>(m(),h("div",{key:t,class:"flex-table-item"},[v(r,null,{default:c((()=>[v(i,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):V("",!0),0===j(n).data.length?(m(),h("div",tt,[v(u,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:c((()=>[et,at])),_:1})])):V("",!0)])),"body-cell":c((({row:t,column:e})=>["donation_code"===e.key?(m(),h("a",{key:0,href:"javascript:;",class:"has-text-primary",onClick:e=>{return a=t,Object.assign(M,a),void(w.value=!0);var a}},y(t.donation_code),9,lt)):V("",!0)])),_:1},8,["no-header"]),j(n).data.length?(m(),p(f,{key:0,"current-page":j(s),"onUpdate:current-page":e[0]||(e[0]=t=>D(s)?s.value=t:null),class:"mt-5","item-per-page":j(n).pagination.per_page,"total-items":j(n).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):V("",!0)])),_:1},8,["columns","data","limit","total"])])]),v(Y,{"is-open":j(w),"onUpdate:is-open":e[1]||(e[1]=t=>D(w)?w.value=t:null),item:j(M)},null,8,["is-open","item"])])}}}),[["__scopeId","data-v-8a7713f3"]]);export{nt as default};
