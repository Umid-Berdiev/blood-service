import{_ as e}from"./VModal.vue_vue_type_style_index_0_lang-1ec5e12b.js";import{_ as l}from"./SubmitButton.vue_vue_type_script_setup_true_lang-ca217c20.js";import{_ as a}from"./VCheckbox.vue_vue_type_style_index_0_lang-1a73654b.js";import{_ as t}from"./VFlex.vue_vue_type_style_index_0_lang-8f30b873.js";import{_ as n}from"./VInput.vue_vue_type_script_setup_true_lang-dccc8f42.js";import{b as s,_ as o,a as i}from"./VControl-b713a764.js";import{q as u,H as r,C as d,x as c,r as p,A as _,y as m,j as b,o as f,a as y,w as v,k as h,i as g,t as V,K as $,_ as w,aj as x,d as k,e as U,F as j,l as C,g as I,L as M,M as S,m as O,p as z,ak as P,G as q,E as R,ag as D,J as W,c as E,S as B}from"./index-568ad137.js";import{_ as Y}from"./lodash-c54dbb06.js";import{_ as F}from"./VFlexItem.vue_vue_type_style_index_0_lang-ce376e13.js";import{e as L,s as N,c as T,g as H,h as A,p as G,i as J,u as K}from"./patient-33059bc9.js";import{_ as Q}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as X}from"./VTextarea.vue_vue_type_script_setup_true_lang-2a7f6a68.js";import{_ as Z}from"./VRadio.vue_vue_type_style_index_0_lang-96440a75.js";import{m as ee}from"./moment-78dc6435.js";import{_ as le}from"./VButtons.vue_vue_type_script_setup_true_lang-00840c6c.js";import{_ as ae}from"./VButton.vue_vue_type_style_index_0_lang-fc4409cd.js";import{_ as te}from"./VIMaskInput.vue_vue_type_script_lang-6492e1cb.js";import{_ as ne}from"./VTabs.vue_vue_type_script_setup_true_lang-32d08ca3.js";import{_ as se,a as oe,b as ie}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-bc74534f.js";import{u as ue}from"./viewWrapper-feca89b2.js";import"./VPlaceload-33f57994.js";import"./VIcon.vue_vue_type_script_setup_true_lang-ff209696.js";import"./additional-f4ff7b7d.js";const re=(e=>(M("data-v-ad97233c"),e=e(),S(),e))((()=>U("br",null,null,-1))),de={key:0,class:"table-container"},ce={class:"table is-bordered is-fullwidth"},pe={colspan:4,class:"has-text-centered"},_e=Y.flatten,me=Q(u({__name:"LaboratoryResearchModal",props:{visitcard:null,isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","update:status"],setup(u,{emit:M}){const S=u,O=r(),{t:z}=d(),P=c(!1),q=c(z("Direction_for_laboratory_research")),R=c([{id:1,name:z("Антигенами системы резус")},{id:2,name:z("Стафилококковым анатоксином")}]),D=c([{id:1,name:z("Whole_blood_donation")},{id:2,name:z("Plasmapheresis")},{id:3,name:z("Plateletpheresis")}]),W=c([]),E=p({donation_code:null,donation_type_id:null,immunization_id:null,laboratory_researches:[]}),B=p({});async function Y(){var e,l;try{P.value=!0,E.laboratory_researches=_e(W.value.map((e=>e.laboratory_researches.filter((e=>e.value)).map((e=>e.id))))),await N(S.visitcard.id,E),O.success(z("Data_saved_successfully")),T()}catch(a){O.error(a.message),Object.assign(B,null==(l=null==(e=a.response)?void 0:e.data)?void 0:l.errors)}finally{P.value=!1}}function T(){M("update:isOpen",!1)}return _((()=>{E.donation_code=S.visitcard.donation_code,E.donation_type_id=S.visitcard.donation_type_id,E.immunization_id=S.visitcard.immunization_id})),m((()=>E.donation_type_id),(async e=>{3===e&&await async function(){W.value=await L(S.visitcard.id).then((e=>e.result))}()})),(r,d)=>{const c=s,p=b("Multiselect"),_=o,m=i,M=n,S=t,O=a,z=l,B=e;return f(),y(B,{open:u.isOpen,size:"extra-big",title:$(q),actions:"right",onClose:T},{content:v((()=>[h(S,{"flex-wrap":"wrap","column-gap":"5rem"},{default:v((()=>[h(F,null,{default:v((()=>[h(m,{horizontal:""},{default:v((()=>[h(c,{class:"my-auto mr-5"},{default:v((()=>[g(V(r.$t("Donation_types_list")),1)])),_:1}),h(_,null,{default:v((()=>[h(p,{modelValue:$(E).donation_type_id,"onUpdate:modelValue":d[0]||(d[0]=e=>$(E).donation_type_id=e),style:{"min-width":"15rem"},options:$(D),placeholder:r.$t("Select_donation_type"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"])])),_:1})])),_:1})])),_:1}),h(F,null,{default:v((()=>[h(m,{horizontal:""},{default:v((()=>[h(c,{class:"my-auto mr-5"},{default:v((()=>[g(V(r.$t("Immunization")),1)])),_:1}),h(_,null,{default:v((()=>[h(p,{modelValue:$(E).immunization_id,"onUpdate:modelValue":d[1]||(d[1]=e=>$(E).immunization_id=e),style:{"min-width":"15rem"},options:$(R),placeholder:r.$t("Not_required"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"])])),_:1})])),_:1})])),_:1}),w(h(F,null,{default:v((()=>[h(m,{horizontal:""},{default:v((()=>[h(c,{class:"my-auto mr-5"},{default:v((()=>[g(V(r.$t("Donation_code")),1)])),_:1}),h(_,null,{default:v((()=>[h(M,{modelValue:$(E).donation_code,"onUpdate:modelValue":d[2]||(d[2]=e=>$(E).donation_code=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512),[[x,3===$(E).donation_type_id]])])),_:1}),re,3===$(E).donation_type_id&&$(W).length?(f(),k("div",de,[U("table",ce,[U("thead",null,[U("tr",null,[U("th",pe,V(r.$t("Laboratory_research_types")),1)]),U("tr",null,[(f(!0),k(j,null,C($(W),(e=>(f(),k("th",{key:e.id},V(e.name),1)))),128))])]),U("tbody",null,[U("tr",null,[U("td",null,[(f(!0),k(j,null,C($(W)[0].laboratory_researches,(e=>(f(),y(m,{key:e.id},{default:v((()=>[h(_,null,{default:v((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),U("td",null,[(f(!0),k(j,null,C($(W)[1].laboratory_researches,(e=>(f(),y(m,{key:e.id},{default:v((()=>[h(_,null,{default:v((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),U("td",null,[(f(!0),k(j,null,C($(W)[2].laboratory_researches,(e=>(f(),y(m,{key:e.id},{default:v((()=>[h(_,null,{default:v((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),U("td",null,[(f(!0),k(j,null,C($(W)[3].laboratory_researches,(e=>(f(),y(m,{key:e.id},{default:v((()=>[h(_,null,{default:v((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))])])])])])):I("",!0)])),action:v((()=>[h(z,{type:"button",loading:$(P),onClick:Y},{default:v((()=>[g(V(r.$t("Submit_for_research")),1)])),_:1},8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-ad97233c"]]),be=["onSubmit"],fe={class:"column is-12"},ye={class:"help has-text-danger"},ve={class:"help has-text-danger"},he={class:"help has-text-danger"},ge={class:"help has-text-danger"},Ve=ee.__esModule?ee.default:ee,$e=u({__name:"WithdrawalFormModal",props:{isOpen:{type:Boolean,default:!1},patientId:{default:null}},emits:["update:isOpen","update:list"],setup(a,{emit:t}){const s=a,u=r(),{t:_}=d(),m=c(_("Withdrawal")),g=c(!1),{locale:w}=d(),x=c({input:"YYYY-MM-DD"}),k=p({type:"string",mask:x.value.input}),j=c([{id:"brucellosis",name:_("Brucellosis")}]),C=p({type:"temporary",reason:"",start_date:Ve().format("YYYY-MM-DD"),end_date:"",source:""}),I=p({type:[],reason:[],start_date:[],end_date:[],source:[]});async function M(){var e,l,a,n;try{g.value=!0,await T(s.patientId,C),t("update:list"),S()}catch(o){(null==(e=o.response)?void 0:e.data.error)?u.error(null==(l=o.response)?void 0:l.data.error):Object.assign(I,null==(n=null==(a=o.response)?void 0:a.data)?void 0:n.errors)}finally{g.value=!1}}function S(){Object.assign(C,{type:"temporary",reason:"",start_date:Ve().format("YYYY-MM-DD"),end_date:"",source:""}),Object.assign(I,{type:[],reason:[],start_date:[],end_date:[],source:[]}),t("update:isOpen",!1)}function q(e){I[e]=""}return p({start:new Date,end:new Date}),(t,s)=>{const u=Z,r=o,d=i,c=b("Multiselect"),p=n,R=b("VDatePicker"),D=X,W=l,E=e;return f(),y(E,{open:a.isOpen,size:"large",title:m.value,actions:"right",onClose:S},{content:v((()=>[U("form",{id:"withdrawal-form",class:"modal-form",onSubmit:O(M,["prevent"])},[U("div",fe,[h(d,{label:t.$t("Withdrawal_type"),required:""},{default:v((()=>[h(r,null,{default:v((()=>[h(u,{modelValue:C.type,"onUpdate:modelValue":s[0]||(s[0]=e=>C.type=e),value:"permanent",label:t.$t("Permanent"),onChange:s[1]||(s[1]=e=>q("type"))},null,8,["modelValue","label"]),h(u,{modelValue:C.type,"onUpdate:modelValue":s[2]||(s[2]=e=>C.type=e),value:"temporary",label:t.$t("Temporary"),onChange:s[3]||(s[3]=e=>q("type"))},null,8,["modelValue","label"]),U("p",ye,V(I.type[0]),1)])),_:1})])),_:1},8,["label"]),h(d,{class:"is-curved-select"},{default:v((({id:e})=>[h(r,null,{default:v((()=>[h(c,{modelValue:C.reason,"onUpdate:modelValue":s[4]||(s[4]=e=>C.reason=e),attrs:{id:e},options:j.value,placeholder:t.$t("Select_reason"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1}),h(R,{modelValue:C.start_date,"onUpdate:modelValue":s[6]||(s[6]=e=>C.start_date=e),locale:$(w),mode:"date",masks:x.value,"model-config":k,color:"green","trim-weeks":"",popover:{visibility:"click"}},{default:v((({inputValue:e,inputEvents:l})=>[h(d,{label:t.$t("Start_date")},{default:v((()=>[h(r,{icon:"feather:calendar"},{default:v((()=>[h(p,z({value:e},P(l),{onChange:s[5]||(s[5]=e=>q("start_date"))}),null,16,["value"]),U("p",ve,V(I.start_date[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1},8,["modelValue","locale","masks","model-config"]),h(R,{modelValue:C.end_date,"onUpdate:modelValue":s[8]||(s[8]=e=>C.end_date=e),locale:$(w),mode:"date",masks:x.value,"model-config":k,color:"green","trim-weeks":"",popover:{visibility:"click"}},{default:v((({inputValue:e,inputEvents:l})=>[h(d,{label:t.$t("End_date")},{default:v((()=>[h(r,{icon:"feather:calendar"},{default:v((()=>[h(p,z({class:"is-primary-focus",value:e,disabled:"permanent"===C.type},P(l),{onChange:s[7]||(s[7]=e=>q("end_date"))}),null,16,["value","disabled"]),U("p",he,V(I.end_date[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1},8,["modelValue","locale","masks","model-config"]),h(d,{label:t.$t("Source"),required:""},{default:v((()=>[h(r,null,{default:v((()=>[h(D,{modelValue:C.source,"onUpdate:modelValue":s[9]||(s[9]=e=>C.source=e),placeholder:$(_)("Enter_source"),rows:3,onInput:s[10]||(s[10]=e=>q("source"))},null,8,["modelValue","placeholder"]),U("p",ge,V(I.source[0]),1)])),_:1})])),_:1},8,["label"])])],40,be)])),action:v((({close:e})=>[h(W,{loading:g.value,form:"withdrawal-form"},null,8,["loading"])])),_:1},8,["open","title"])}}}),we={class:"columns"},xe={class:"column"},ke={class:"table-container"},Ue={class:"table is-bordered is-fullwidth"},je={class:""},Ce={class:""},Ie={class:""},Me={class:""},Se={class:""},Oe={class:""},ze={class:""},Pe={class:"columns"},qe={class:"column"},Re={class:"column"},De={class:""},We={class:"columns"},Ee={class:"column"},Be={class:"column"},Ye={class:""},Fe={class:"columns"},Le={class:"column"},Ne={class:"column"},Te={class:""},He={class:"columns"},Ae={class:"column"},Ge={class:"column"},Je=Q(u({__name:"MedicalInspectionFormModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","donation","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1);c("");const s=p({weight:"",height:"",temperature:"",arterial_pressure:"",pulse:"",lymph_nodes:0,liver_spleen:0,skin_mucous_membranes:0,in_lungs:0,heart:0});function u(){a("update:isOpen",!1)}return(a,r)=>{const d=n,c=o,p=i,_=te,m=Z,b=ae,w=le,x=e;return f(),y(x,{open:l.isOpen,size:"big",title:a.$t("Medical_inspection"),actions:"right",onClose:u},{content:v((()=>[U("div",we,[U("div",xe,[U("div",ke,[U("table",Ue,[U("tbody",null,[U("tr",null,[U("td",null,[U("p",je,V(a.$t("Weight_kg")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[h(d,{modelValue:$(s).weight,"onUpdate:modelValue":r[0]||(r[0]=e=>$(s).weight=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:300},null,8,["modelValue"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Ce,V(a.$t("Height_sm")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[h(d,{modelValue:$(s).height,"onUpdate:modelValue":r[1]||(r[1]=e=>$(s).height=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:300},null,8,["modelValue"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Ie,V(a.$t("Temperature")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[h(d,{modelValue:$(s).temperature,"onUpdate:modelValue":r[2]||(r[2]=e=>$(s).temperature=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:50},null,8,["modelValue"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Me,V(a.$t("Arterial_pressure")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[h(_,{modelValue:$(s).arterial_pressure,"onUpdate:modelValue":r[3]||(r[3]=e=>$(s).arterial_pressure=e),modelModifiers:{trim:!0},class:"input",options:{mask:"000 / 000",pattern:/^$|^\d{3}$/},placeholder:"000 / 000"},null,8,["modelValue"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Se,V(a.$t("Pulse_beats_min")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[h(d,{modelValue:$(s).pulse,"onUpdate:modelValue":r[4]||(r[4]=e=>$(s).pulse=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:100},null,8,["modelValue"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Oe,V(a.$t("Lymph_nodes")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,{raw:""},{default:v((()=>[h(m,{modelValue:$(s).lymph_nodes,"onUpdate:modelValue":r[5]||(r[5]=e=>$(s).lymph_nodes=e),value:0,label:a.$t("Not_increased"),color:"primary"},null,8,["modelValue","label"]),h(m,{modelValue:$(s).lymph_nodes,"onUpdate:modelValue":r[6]||(r[6]=e=>$(s).lymph_nodes=e),value:1,label:a.$t("Increased"),color:"primary"},null,8,["modelValue","label"])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",ze,V(a.$t("Liver_spleen")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[U("div",Pe,[U("div",qe,[h(m,{modelValue:$(s).liver_spleen,"onUpdate:modelValue":r[7]||(r[7]=e=>$(s).liver_spleen=e),value:0,label:a.$t("Not_palpated"),color:"primary"},null,8,["modelValue","label"])]),U("div",Re,[h(m,{modelValue:$(s).liver_spleen,"onUpdate:modelValue":r[8]||(r[8]=e=>$(s).liver_spleen=e),value:1,label:a.$t("Increased"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",De,V(a.$t("Skin and visible mucous membranes")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[U("div",We,[U("div",Ee,[h(m,{modelValue:$(s).skin_mucous_membranes,"onUpdate:modelValue":r[9]||(r[9]=e=>$(s).skin_mucous_membranes=e),value:0,label:a.$t("Pure"),color:"primary"},null,8,["modelValue","label"])]),U("div",Be,[h(m,{modelValue:$(s).skin_mucous_membranes,"onUpdate:modelValue":r[10]||(r[10]=e=>$(s).skin_mucous_membranes=e),value:1,label:a.$t("With signs of damage"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Ye,V(a.$t("In_lungs")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[U("div",Fe,[U("div",Le,[h(m,{modelValue:$(s).in_lungs,"onUpdate:modelValue":r[11]||(r[11]=e=>$(s).in_lungs=e),value:0,label:a.$t("No_wheezing"),color:"primary"},null,8,["modelValue","label"])]),U("div",Ne,[h(m,{modelValue:$(s).in_lungs,"onUpdate:modelValue":r[12]||(r[12]=e=>$(s).in_lungs=e),value:1,label:a.$t("Wheezing"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),U("tr",null,[U("td",null,[U("p",Te,V(a.$t("Heart")),1)]),U("td",null,[h(p,null,{default:v((()=>[h(c,null,{default:v((()=>[U("div",He,[U("div",Ae,[h(m,{modelValue:$(s).heart,"onUpdate:modelValue":r[13]||(r[13]=e=>$(s).heart=e),value:0,label:a.$t("Fine"),color:"primary"},null,8,["modelValue","label"])]),U("div",Ge,[h(m,{modelValue:$(s).heart,"onUpdate:modelValue":r[14]||(r[14]=e=>$(s).heart=e),value:1,label:a.$t("Not_fine"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])])])])])])])])),action:v((({close:e})=>[h(w,null,{default:v((()=>[h(b,{type:"button",color:"primary",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("donation")}},{default:v((()=>[g(V(a.$t("For_donation")),1)])),_:2},1032,["disabled","onClick"]),h(b,{type:"button",color:"danger",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("withdrawal")}},{default:v((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-4b5154c7"]]),Ke=e=>(M("data-v-0ad59708"),e=e(),S(),e),Qe={class:"has-text-centered is-size-3"},Xe=Ke((()=>U("br",null,null,-1))),Ze={class:"columns"},el={class:"column"},ll={class:"table-container"},al={class:"table is-bordered"},tl={class:""},nl={class:"has-text-centered"},sl={class:"has-text-centered"},ol={class:"has-text-centered"},il={class:"has-text-centered"},ul={class:"has-text-centered"},rl={class:""},dl=Ke((()=>U("strong",null,"06.03.2013",-1))),cl={class:""},pl=Ke((()=>U("strong",null,"Specialist",-1))),_l={class:""},ml=Ke((()=>U("strong",null,"B(III)",-1))),bl={class:""},fl=Ke((()=>U("strong",{class:"has-text-primary"},"142",-1))),yl={class:""},vl=Ke((()=>U("strong",null,"06.03.2013",-1))),hl={class:""},gl=Ke((()=>U("strong",null,"Specialist",-1))),Vl={class:""},$l=Ke((()=>U("strong",null,"06.03.2013",-1))),wl={class:""},xl=Ke((()=>U("strong",null,"Specialist",-1))),kl={class:""},Ul=Ke((()=>U("strong",null,"06.03.2013",-1))),jl={class:""},Cl=Ke((()=>U("strong",null,"Specialist",-1))),Il={class:""},Ml=Ke((()=>U("strong",null,"06.03.2013",-1))),Sl={class:""},Ol=Ke((()=>U("strong",null,"Specialist",-1))),zl=Q(u({__name:"LaboratoryTestResultsModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","medicalExamination","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1),n=c("");function s(){a("update:isOpen",!1)}return(a,o)=>{const i=ae,u=le,r=e;return f(),y(r,{open:l.isOpen,size:"extra-big",title:$(n),actions:"right",onClose:s},{content:v((()=>[U("h1",Qe,V(a.$t("Laboratory_test_results")),1),Xe,U("div",Ze,[U("div",el,[U("div",ll,[U("table",al,[U("thead",tl,[U("tr",null,[U("th",nl,V(a.$t("Primary_screening_results")),1),U("th",sl,V(a.$t("Hemotransmission_research_results")),1),U("th",ol,V(a.$t("clinical_biochemical_research_results")),1),U("th",il,V(a.$t("Serological_research_results")),1),U("th",ul,V(a.$t("Immunological_research_results")),1)])]),U("tbody",null,[U("tr",null,[U("td",null,[U("p",rl,[g(V(a.$t("Researched_at"))+": ",1),dl]),U("p",cl,[g(V(a.$t("Researched_by"))+": ",1),pl]),U("p",_l,[g(V(a.$t("Preliminary_blood_type"))+": ",1),ml]),U("p",bl,[g(V(a.$t("Hemoglobin_gl"))+": ",1),fl])]),U("td",null,[U("p",yl,[g(V(a.$t("Researched_at"))+": ",1),vl]),U("p",hl,[g(V(a.$t("Researched_by"))+": ",1),gl])]),U("td",null,[U("p",Vl,[g(V(a.$t("Researched_at"))+": ",1),$l]),U("p",wl,[g(V(a.$t("Researched_by"))+": ",1),xl])]),U("td",null,[U("p",kl,[g(V(a.$t("Researched_at"))+": ",1),Ul]),U("p",jl,[g(V(a.$t("Researched_by"))+": ",1),Cl])]),U("td",null,[U("p",Il,[g(V(a.$t("Researched_at"))+": ",1),Ml]),U("p",Sl,[g(V(a.$t("Researched_by"))+": ",1),Ol])])])])])])])])])),action:v((({close:e})=>[h(u,null,{default:v((()=>[h(i,{type:"button",color:"primary",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("medicalExamination")}},{default:v((()=>[g(V(a.$t("For_medical_examination")),1)])),_:2},1032,["disabled","onClick"]),h(i,{type:"button",color:"danger",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("withdrawal")}},{default:v((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-0ad59708"]]),Pl={class:"has-text-centered is-size-3"},ql=U("br",null,null,-1),Rl={class:"columns"},Dl={class:"column"},Wl={class:"is-size-5"},El=U("strong",null,"06.03.2013",-1),Bl={class:"is-size-5"},Yl=U("strong",null,"Specialist",-1),Fl={class:"is-size-5"},Ll=U("strong",null,"B(III)",-1),Nl={class:"is-size-5"},Tl=U("strong",{class:"has-text-primary"},"142",-1),Hl=u({__name:"PrimaryScreeningResultsModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","medicalExamination","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1),n=c("");function s(){a("update:isOpen",!1)}return(a,o)=>{const i=ae,u=le,r=e;return f(),y(r,{open:l.isOpen,title:$(n),actions:"center",onClose:s},{content:v((()=>[U("h1",Pl,V(a.$t("Primary_screening_results")),1),ql,U("div",Rl,[U("div",Dl,[U("p",Wl,[g(V(a.$t("Researched_at"))+": ",1),El]),U("p",Bl,[g(V(a.$t("Researched_by"))+": ",1),Yl]),U("p",Fl,[g(V(a.$t("Preliminary_blood_type"))+": ",1),Ll]),U("p",Nl,[g(V(a.$t("Hemoglobin_gl"))+": ",1),Tl])])])])),action:v((({close:e})=>[h(u,null,{default:v((()=>[h(i,{type:"button",color:"primary",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("medicalExamination")}},{default:v((()=>[g(V(a.$t("For_medical_examination")),1)])),_:2},1032,["disabled","onClick"]),h(i,{type:"button",color:"danger",outlined:"",disabled:$(t),onClick:()=>{e(),a.$emit("withdrawal")}},{default:v((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),Al=["onSubmit"],Gl={class:"table is-bordered is-fullwidth"},Jl={class:"has-text-centered"},Kl={class:"has-text-centered"},Ql=Y.flatten,Xl=Q(u({__name:"MedicalQuestionnaireModal",props:{visitcardId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","laboratoryResearch","withdrawal"],async setup(t,{emit:n}){let s,u;const p=t;q(),R();const _=r(),{t:m}=d(),b=c(!1),w=m("Medical_questionnaire_before_donation"),x=c([]);async function M(){try{b.value=!0;const e=Ql(x.value.map((e=>e.questions.map((e=>({question_id:e.id,value:e.question_answer}))))));await A(p.visitcardId,{answers:e}),_.success(m("Success"))}catch(e){_.error(e.message)}finally{b.value=!1}}function S(){n("update:isOpen",!1)}return[s,u]=D((()=>async function(){const e=await H(p.visitcardId);x.value=e.result}())),await s,u(),(n,s)=>{const u=X,r=a,d=o,c=i,p=ae,_=l,m=le,z=e;return f(),y(z,{open:t.isOpen,size:"extra-big",title:$(w),actions:"right",onClose:S},{content:v((()=>[U("form",{id:"questionnaire-form",onSubmit:O(M,["prevent"])},[U("table",Gl,[(f(!0),k(j,null,C($(x),((e,l)=>(f(),k(j,{key:e.id},[U("thead",null,[U("tr",null,[U("th",Jl,V(e.name),1),U("th",Kl,V(n.$t("Answer")),1)])]),U("tbody",null,[(f(!0),k(j,null,C(e.questions,((e,a)=>(f(),k("tr",{key:e.id},[U("td",null,V(e.name),1),U("td",null,[h(c,null,{default:v((()=>[h(d,null,{default:v((()=>["text"===e.answer_type?(f(),y(u,{key:0,modelValue:$(x)[l].questions[a].question_answer,"onUpdate:modelValue":e=>$(x)[l].questions[a].question_answer=e,rows:1},null,8,["modelValue","onUpdate:modelValue"])):I("",!0),"boolean"===e.answer_type?(f(),y(r,{key:1,modelValue:$(x)[l].questions[a].question_answer,"onUpdate:modelValue":e=>$(x)[l].questions[a].question_answer=e,"true-value":"1","false-value":null,color:"primary",class:"p-0"},null,8,["modelValue","onUpdate:modelValue"])):I("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])],64)))),128))])],40,Al)])),action:v((({close:e})=>[h(m,null,{default:v((()=>[h(p,{type:"button",color:"warning",disabled:$(b),onClick:()=>{e(),n.$emit("laboratoryResearch")}},{default:v((()=>[g(V(n.$t("Send_for_examination")),1)])),_:2},1032,["disabled","onClick"]),h(p,{type:"button",color:"danger",disabled:$(b),onClick:()=>{e(),n.$emit("withdrawal")}},{default:v((()=>[g(V(n.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"]),h(_,{form:"questionnaire-form",loading:$(b)},null,8,["loading"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-de241a27"]]),Zl={class:"patient-detail-wrapper"},ea=["onSubmit"],la={class:"columns mt-5"},aa={class:"column"},ta={class:"is-size-5"},na=(e=>(M("data-v-2b6baaab"),e=e(),S(),e))((()=>U("br",null,null,-1))),sa={class:"help has-text-danger"},oa={class:"column"},ia={class:"is-size-5"},ua={class:"column"},ra={class:"is-size-5"},da={class:"navigation-buttons"},ca={class:"buttons is-right"},pa={key:1,class:"mt-5"},_a={class:"box"},ma={class:"is-size-5"},ba={class:"is-size-5"},fa={class:"is-size-5"},ya={class:"table is-bordered is-fullwidth"},va={href:"javascript:;",class:"has-text-primary is-uppercase"},ha={href:"javascript:;",class:"has-text-primary is-uppercase"},ga=Q(u({__name:"[id]",async setup(e){var l;let a,n;const s=q();R();const u=r(),{t:m}=d(),y=p({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",address:"",avatar:""}),w=p({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[],address:[],avatar:[]}),x=c(!1),j=(null==(l=s.params)?void 0:l.id)||null,C=c([{label:m("Patient_details"),value:"#details",icon:"feather:info"},{label:m("Medical_information"),value:"#medical_information",icon:"feather:file-text"}]),M=c([]),S=c(!1),z=c(!1),P=c(!1),Y=c(!1),L=c(!1),N=c(!1),T=c("#details");function H(e){w[e]=""}async function A(){var e,l;try{x.value=!0;await K(j,y);u.success(m("Updated_successfully"))}catch(a){(null==(e=a.response)?void 0:e.data.errors)?Object.assign(w,null==(l=a.response)?void 0:l.data.errors):u.error(m("Something_went_wrong"))}finally{x.value=!1}}function Q(){S.value=!0}function X(){z.value=!0}function Z(){P.value=!0}function ee(){Y.value=!0}function le(){L.value=!0}function te(){N.value=!0}function re(){}return ue().setPageTitle(m("Patient_info")),W({title:E((()=>m("Patient_info")))}),[a,n]=D((()=>async function(){try{const e=await J(j);Object.assign(y,e.result),y.pinfl=y.pinfl??""}catch(e){u.error(e.message)}}())),await a,n(),_((async()=>{const e=await G();M.value=e.result})),(e,l)=>{const a=se,n=b("Multiselect"),s=o,u=i,r=oe,d=ie,c=ae,p=F,_=t,m=ne,q=Xl,R=Hl,D=zl,W=Je,E=$e,G=me;return f(),k("div",Zl,[h(m,{selected:$(T),tabs:$(C)},{tab:v((({activeValue:t})=>["#details"===t?(f(),k("form",{key:0,onSubmit:O(A,["prevent"])},[U("div",la,[U("div",aa,[U("p",ta,V(e.$t("Personal_Info")),1),h(a,{patient:$(y),errors:$(w),onEditing:H},null,8,["patient","errors"]),na,h(u,{label:e.$t("Category"),required:""},{default:v((()=>[h(s,null,{default:v((()=>[h(n,{modelValue:$(y).patient_category_id,"onUpdate:modelValue":l[0]||(l[0]=e=>$(y).patient_category_id=e),options:$(M),placeholder:e.$t("Select_category"),label:"name","value-prop":"id",onChange:l[1]||(l[1]=e=>H("patient_category_id"))},null,8,["modelValue","options","placeholder"]),U("p",sa,V($(w).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"])]),U("div",oa,[U("p",ia,V(e.$t("Passport_info")),1),h(r,{patient:$(y),errors:$(w),onEditing:H},null,8,["patient","errors"])]),U("div",ua,[U("p",ra,V(e.$t("Address")),1),h(d,{patient:$(y),errors:$(w),onEditing:H},null,8,["patient","errors"])])]),U("div",da,[U("div",ca,[h(c,{type:"submit",color:"primary",bold:"",loading:$(x),disabled:$(x),tabindex:"0"},{default:v((()=>[g(V(e.$t("Save")),1)])),_:1},8,["loading","disabled"])])])],40,ea)):"#medical_information"===t?(f(),k("div",pa,[U("div",_a,[h(_,{class:"mb-3","justify-content":"space-between"},{default:v((()=>[h(p,null,{default:v((()=>[U("p",ma,V(e.$t("Directed_by"))+": Sombody",1)])),_:1}),h(p,null,{default:v((()=>[U("p",ba,V(e.$t("Personalized_donation"))+": Sombody",1)])),_:1}),h(p,null,{default:v((()=>[U("p",fa,V(e.$t("Blood_collect_condition"))+": Sombody",1)])),_:1})])),_:1}),U("table",ya,[U("tbody",null,[U("tr",null,[U("td",null,[U("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:Q},V(e.$t("Medical_questionnaire")),1)])]),U("tr",null,[U("td",null,[U("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:X},V(e.$t("Primary_screening_results")),1)])]),U("tr",null,[U("td",null,[U("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:Z},V(e.$t("Laboratory_test_results")),1)])]),U("tr",null,[U("td",null,[U("a",va,V(e.$t("Infectious_diseases")),1)])]),U("tr",null,[U("td",null,[U("a",ha,V(e.$t("Medical_clearance")),1)])])])])])])):I("",!0)])),_:1},8,["selected","tabs"]),h(q,{"is-open":$(S),"onUpdate:is-open":l[2]||(l[2]=e=>B(S)?S.value=e:null),"visitcard-id":$(y).last_visit.id,onWithdrawal:le,onLaboratoryResearch:te},null,8,["is-open","visitcard-id"]),h(R,{"is-open":$(z),"onUpdate:is-open":l[3]||(l[3]=e=>B(z)?z.value=e:null),"patient-id":Number($(j)),onWithdrawal:le,onMedicalExamination:ee},null,8,["is-open","patient-id"]),h(D,{"is-open":$(P),"onUpdate:is-open":l[4]||(l[4]=e=>B(P)?P.value=e:null),"patient-id":Number($(j)),onWithdrawal:le,onMedicalExamination:ee},null,8,["is-open","patient-id"]),h(W,{"is-open":$(Y),"onUpdate:is-open":l[5]||(l[5]=e=>B(Y)?Y.value=e:null),"patient-id":Number($(j)),onWithdrawal:le,onDonation:re},null,8,["is-open","patient-id"]),h(E,{"is-open":$(L),"onUpdate:is-open":l[6]||(l[6]=e=>B(L)?L.value=e:null),"patient-id":Number($(j))},null,8,["is-open","patient-id"]),h(G,{"is-open":$(N),"onUpdate:is-open":l[7]||(l[7]=e=>B(N)?N.value=e:null),visitcard:$(y).last_visit},null,8,["is-open","visitcard"])])}}}),[["__scopeId","data-v-2b6baaab"]]);export{ga as default};
