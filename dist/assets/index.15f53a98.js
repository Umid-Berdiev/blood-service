import{_ as a,a as e,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang.25ade395.js";import{_ as s,a as l,b as i,c as n,d as o}from"./search-7-dark.f359dc05.js";import{_ as r,a as d}from"./VControl.db99b51d.js";import{_ as u}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.b7e8a70f.js";import{q as c,E as p,H as m,C as _,x as v,J as g,r as b,c as f,a7 as y,A as h,y as x,j as k,o as j,d as w,e as V,k as $,K as D,w as C,g as P,F,l as M,a as Y,i as z,t as A,S as L,L as N,M as T}from"./index.4a029cdd.js";import{u as q}from"./main.31b19d1c.js";import{u as S}from"./viewWrapper.1a3e0821.js";import{b as U,d as B}from"./patient.664695df.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";import"./VFlex.vue_vue_type_style_index_0_lang.71b806ec.js";import"./VPlaceload.cc73600a.js";const H=a=>(N("data-v-747501e8"),a=a(),T(),a),I={class:"page-content-inner"},J={class:"columns mb-3"},K={class:"column"},O={class:"column is-3"},R={class:"columns"},W={class:"column is-12"},G={key:0,class:"is-flex-grow-0",textContent:"#"},Q={key:0,class:"flex-list-inner"},X={key:1,class:"flex-list-inner"},Z=H((()=>V("img",{class:"light-image",src:n,alt:""},null,-1))),aa=H((()=>V("img",{class:"dark-image",src:o,alt:""},null,-1))),ea=E(c({__name:"index",setup(n){p();const o=m(),{t:c}=_(),N=q(),T=v(!1);S().setPageTitle(c("Physician-therapist")),g({title:`${c("Donors-list-for-examination")} - ${N.app.name}`});const E=b({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),H=f({get:()=>E.pagination.current_page,set:async a=>{await la(a)}}),ea={orderNumber:{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:c("Fullname")},birth_date:{label:c("Date-of-birth")},visit_date:{label:c("Visit_date"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.created_at)&&y(new Date(null==(s=e.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:c("Visit_type"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.visit_type)&&c(null==(s=e.last_visit)?void 0:s.visit_type)}},directed_by:{label:c("Directed_by"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.directed_by)&&c(null==(s=e.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:c("Personalized_donation"),format:(a,e)=>{var t;return null==(t=e.last_visit)?void 0:t.personalized_donation}},visit_status:{label:c("Visit_status"),format:(a,e)=>{var t;return null==(t=e.status)?void 0:t.name}},actions:{label:c("Actions")}};v();const ta=v([{id:0,name:c("All")}]),sa=v("");async function la(a=1){var e,t;try{T.value=!0;const e=await B({page:a,status_id:sa.value});Object.assign(E,e.result)}catch(s){o.error(c(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors))}finally{T.value=!1}}return h((async()=>{const a=await U();ta.value=a.result})),x((()=>sa.value),(async a=>{await la()})),(n,o)=>{const c=u,p=k("Multiselect"),m=r,_=d,v=s,g=a,b=l,f=k("RouterLink"),y=e,h=i,x=t;return j(),w("div",I,[V("div",J,[V("div",K,[$(c,{"with-icons":"",separator:"bullet",items:[{label:D(N).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:n.$t("Physician-therapist")},{label:n.$t("Donors-list-for-examination")}]},null,8,["items"])]),V("div",O,[$(_,{class:"is-curved-select"},{default:C((({id:a})=>[$(m,null,{default:C((()=>[$(p,{modelValue:sa.value,"onUpdate:modelValue":o[0]||(o[0]=a=>sa.value=a),attrs:{id:a},options:ta.value,placeholder:n.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),V("div",R,[V("div",W,[$(x,{columns:D(ea),data:E.data,limit:E.pagination.per_page,total:E.pagination.total},{default:C((()=>[$(y,{rounded:"","no-header":!T.value&&0===E.data.length},{"header-column":C((({column:a})=>["orderNumber"===a.key?(j(),w("span",G)):P("",!0)])),body:C((()=>[T.value?(j(),w("div",Q,[(j(!0),w(F,null,M(E.pagination.per_page,(a=>(j(),w("div",{key:a,class:"flex-table-item"},[$(g,null,{default:C((()=>[$(v,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):P("",!0),0===E.data.length?(j(),w("div",X,[$(b,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:C((()=>[Z,aa])),_:1})])):P("",!0)])),"body-cell":C((({row:a,column:e})=>["name"===e.key?(j(),Y(f,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}`},{default:C((()=>[z(A(a.first_name)+" "+A(a.last_name)+" "+A(a.father_name),1)])),_:2},1032,["to"])):P("",!0),"actions"===e.key?(j(),Y(f,{key:1,class:"has-text-warning",to:"/app/physician-therapist/donors-for-examination"},{default:C((()=>[z(A(n.$t("Complete")),1)])),_:1})):P("",!0)])),_:1},8,["no-header"]),E.data.length?(j(),Y(h,{key:0,"current-page":D(H),"onUpdate:current-page":o[1]||(o[1]=a=>L(H)?H.value=a:null),class:"mt-5","item-per-page":E.pagination.per_page,"total-items":E.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):P("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-747501e8"]]);export{ea as default};
