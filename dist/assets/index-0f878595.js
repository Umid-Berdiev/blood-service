import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-27d6885c.js";import{_ as t,a as n,b as i}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-ebd47023.js";import{_ as o,a as s}from"./VControl-fc151345.js";import{u as a}from"./chunk-DRAQDPQ2-4514f14e.js";import{_ as r,a as l,b as u,r as c,o as d,s as p,l as f,m,Q as v,u as h,V as y,Z as _,X as g,p as b,q as w,y as k,T as S,v as x,U as j,n as C}from"./chunk-BGPNDDXN-dcda8805.js";import{u as T}from"./@vueuse_head-0d019878.js";import{u as P}from"./chunk-3UEUFEGV-d557e6b1.js";import{u as V}from"./useNotyf-1536ae84.js";import{u as A}from"./viewWrapper-c60f0ce7.js";import{s as $}from"./sleep-fd7a5d8b.js";import{p as E,j as L}from"./patient-3eef0e53.js";import"./VPlaceload-2a65ae53.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-06d40a07.js";import"./VInput.vue_vue_type_script_setup_true_lang-29181b77.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-a017671a.js";import"./additional-e5508e19.js";import"./userSession-0c0e9684.js";import"./pinia-3af6ce52.js";import"./@vueuse_core-098eb702.js";import"./VRadio.vue_vue_type_style_index_0_lang-03da69fa.js";const O=r({"node_modules/.pnpm/vue-scrollto@2.20.0/node_modules/vue-scrollto/vue-scrollto.js"(e,t){var n,i;n=e,i=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=.1,i="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function r(e,t,n){return((o(t,n)*e+s(t,n))*e+a(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+a(t)}function u(e){return e}var c=function(e,t,o,s){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&o===s)return u;for(var a=i?new Float32Array(11):new Array(11),c=0;c<11;++c)a[c]=r(c*n,e,o);function d(t){for(var i=0,s=1;10!==s&&a[s]<=t;++s)i+=n;--s;var u=i+(t-a[s])/(a[s+1]-a[s])*n,c=l(u,e,o);return c>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var s=l(t,n,i);if(0===s)return t;t-=(r(t,n,i)-e)/s}return t}(t,u,e,o):0===c?u:function(e,t,n,i,o){var s,a,l=0;do{(s=r(a=t+(n-t)/2,i,o)-e)>0?n=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}(t,i,i+n,e,o)}return function(e){return 0===e?0:1===e?1:r(d(e),t,s)}},d={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=!1;try{var f=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,f)}catch(V){}var m=function(e){return"string"!=typeof e?e:document.querySelector(e)},v=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var o=0;o<t.length;o++)e.addEventListener(t[o],n,!!p&&i)},h=function(e,t,n){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],n)},y=function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},_=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],g={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function b(e){g=t({},g,e)}var w=function(){var t,n,i,o,s,a,r,l,u,p,f,b,w,k,S,x,j,C,T,P,V,A,$,E,L,O,D,K=function(e){l&&($=e,P=!0)};function N(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function Q(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function q(){V=y(n),A=y(t),b&&(S=A.left-V.left+a,C=S-k),w&&(j=A.top-V.top+a,T=j-x)}function M(e){if(P)return F();L||(L=e),s||q(),O=e-L,D=Math.min(O/i,1),D=E(D),I(n,x+T*D,k+C*D),O<i?window.requestAnimationFrame(M):F()}function F(){P||I(n,j,S),L=!1,h(n,_,K),P&&f&&f($,t),!P&&p&&p(t)}function I(e,t,n){w&&(e.scrollTop=t),b&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(w&&(document.documentElement.scrollTop=t),b&&(document.documentElement.scrollLeft=n))}return function(h,y){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(y)?S=y:"number"==typeof y&&(S.duration=y),!(t=m(h)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+h);if(n=m(S.container||g.container),i=S.hasOwnProperty("duration")?S.duration:g.duration,s=S.hasOwnProperty("lazy")?S.lazy:g.lazy,o=S.easing||g.easing,a=S.hasOwnProperty("offset")?S.offset:g.offset,r=S.hasOwnProperty("force")?!1!==S.force:g.force,l=S.hasOwnProperty("cancelable")?!1!==S.cancelable:g.cancelable,u=S.onStart||g.onStart,p=S.onDone||g.onDone,f=S.onCancel||g.onCancel,b=void 0===S.x?g.x:S.x,w=void 0===S.y?g.y:S.y,"function"==typeof a&&(a=a(t,n)),k=Q(n),x=N(n),q(),P=!1,!r){var V="body"===n.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:n.offsetHeight,A=x,L=A+V,O=j-a,D=O+t.offsetHeight;if(O>=A&&D<=L)return void(p&&p(t))}if(u&&u(t),T||C)return"string"==typeof o&&(o=d[o]||d.ease),E=c.apply(c,o),v(n,_,K,{passive:!0}),window.requestAnimationFrame(M),function(){$=null,P=!0};p&&p(t)}},k=w(),S=[];function x(e){var t=function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S[t]}(e);return t||(S.push(t={el:e,binding:{}}),t)}function j(e){var t=x(this).binding;if(t.value){if(e.preventDefault(),"string"==typeof t.value)return k(t.value);k(t.value.el||t.value.element,t.value)}}var C={bind:function(e,t){x(e).binding=t,v(e,"click",j)},unbind:function(e){!function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S.splice(t,1),!0}(e),h(e,"click",j)},update:function(e,t){x(e).binding=t}},T={bind:C.bind,unbind:C.unbind,update:C.update,beforeMount:C.bind,unmounted:C.unbind,updated:C.update,scrollTo:k,bindings:S},P=function(e,t){t&&b(t),e.directive("scroll-to",T),(e.config.globalProperties||e.prototype).$scrollTo=T.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=T,window.VueScrollTo.setDefaults=b,window.VueScrollTo.scroller=w,window.Vue.use&&window.Vue.use(P)),T.install=P,T},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self)["vue-scrollto"]=i()}})(),D=["onSubmit"],K={class:"stepper-form is-justify-content-center"},N={class:"form-sections"},Q={key:0,id:"form-step-0",class:"form-section is-active"},q={class:"form-section-title"},M=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],F={class:"form-section-inner"},I={class:"help has-text-danger"},z={key:0,id:"form-step-1",class:"form-section is-active"},H={class:"form-section-title"},R=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],U={class:"form-section-inner"},B={key:0,id:"form-step-2",class:"form-section is-active"},G={class:"form-section-title"},X=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],J={class:"form-section-inner"},W={class:"navigation-buttons"},Z={class:"buttons is-right"},Y={class:"form-stepper"},ee={key:0,class:"steps is-vertical is-thin is-short"},te=v("a",{href:"#",class:"steps-marker"},null,-1),ne={class:"steps-content"},ie={class:"step-number"},oe={class:"step-info"},se=v("a",{href:"#",class:"steps-marker"},null,-1),ae={class:"steps-content"},re={class:"step-number"},le={class:"step-info"},ue=v("a",{href:"#",class:"steps-marker"},null,-1),ce={class:"steps-content"},de={class:"step-number"},pe={class:"step-info"},fe={key:1,class:"form-help"},me={key:0,id:"help-section-0",class:"form-help-inner is-active"},ve=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],he=v("h3",null,"General Information",-1),ye=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),_e=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),ge={key:1,id:"help-section-1",class:"form-help-inner is-active"},be=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],we=v("h3",null,"Shipment Owner",-1),ke=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),Se=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),xe={key:2,id:"help-section-2",class:"form-help-inner is-active"},je=[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Ce=v("h3",null,"Shipment Taxes",-1),Te=v("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Pe=v("div",{class:"list-wrap"},[v("ul",null,[v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")]),v("li",null,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),v("span",null,"Some nice list item")])])],-1),Ve=O.__esModule?O.default:O,Ae=l({__name:"index",setup(r){const l=a(),O=V(),{scrollTo:Ae}=Ve,{t:$e}=P(),Ee=u(0),Le=u(!1),Oe=u(-1),De=A(),Ke=c({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),Ne=c({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Qe=u([]);d((async()=>{const e=await E();Qe.value=e.result})),De.setPageTitle($e("Registration")),T({title:$e("Register-donors")});const qe=async()=>{var e;if(2===Ee.value){if(Object.getOwnPropertyNames(Ne).forEach((e=>{e in Ne&&(Ne[e]=[])})),Le.value)return;try{Le.value=!0;const e=await L(Ke);O.success("New patient data is successfully stored!"),l.push(`/app/registration/unified-donor-register/${e.result.id}`)}catch(t){if(Object.assign(Ne,null==(e=t.response)?void 0:e.data.errors),Ne.last_name.length||Ne.first_name.length||Ne.father_name.length||Ne.birth_date.length||Ne.gender.length)return Ae("#form-step-0",1e3);if(Ne.passport_series.length||Ne.passport_number.length||Ne.issued_by.length||Ne.when_issued.length)return Ae("#form-step-1",1e3)}finally{Le.value=!1}}Le.value=!0,await $(1e3),Ee.value+=1,C((()=>{Ae(`#form-step-${Ee.value}`,1e3),Le.value=!1}))};function Me(e){Ne[e]=""}return(a,r)=>{const l=p("Multiselect"),u=o,c=s,d=t,C=n,T=i,P=e;return f(),m("form",{onSubmit:g(qe,["prevent"])},[v("div",K,[v("div",N,[h(Ee)>=0?(f(),m("div",Q,[v("h3",q,[v("span",null,y(a.$t("Personal_Info")),1),v("button",{type:"button",class:"help-button",tabindex:"0",onKeydown:r[0]||(r[0]=_(g((e=>0===h(Oe)?Oe.value=-1:Oe.value=0),["prevent"]),["space"])),onClick:r[1]||(r[1]=e=>0===h(Oe)?Oe.value=-1:Oe.value=0)},M,32)]),v("div",F,[b(c,{label:a.$t("Category"),required:""},{default:w((()=>[b(u,null,{default:w((()=>[b(l,{modelValue:h(Ke).patient_category_id,"onUpdate:modelValue":r[2]||(r[2]=e=>h(Ke).patient_category_id=e),options:h(Qe),placeholder:a.$t("Select_category"),label:"name","value-prop":"id",onChange:r[3]||(r[3]=e=>Me("patient_category_id"))},null,8,["modelValue","options","placeholder"]),v("p",I,y(h(Ne).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"]),b(d,{patient:h(Ke),errors:h(Ne),onEditing:Me},null,8,["patient","errors"])])])):k("",!0),b(S,{name:"fade-slow"},{default:w((()=>[h(Ee)>=1?(f(),m("div",z,[v("h3",H,[v("span",null,y(a.$t("Certifying_document")),1),v("button",{type:"button",class:"help-button",onKeydown:r[4]||(r[4]=_(g((e=>1===h(Oe)?Oe.value=-1:Oe.value=1),["prevent"]),["space"])),onClick:r[5]||(r[5]=e=>1===h(Oe)?Oe.value=-1:Oe.value=1)},R,32)]),v("div",U,[b(C,{patient:h(Ke),errors:h(Ne),onEditing:Me},null,8,["patient","errors"])])])):k("",!0)])),_:1}),b(S,{name:"fade-slow"},{default:w((()=>[h(Ee)>=2?(f(),m("div",B,[v("h3",G,[v("span",null,y(a.$t("Address")),1),v("button",{type:"button",class:"help-button",onKeydown:r[6]||(r[6]=_(g((e=>2===h(Oe)?Oe.value=-1:Oe.value=2),["prevent"]),["space"])),onClick:r[7]||(r[7]=e=>2===h(Oe)?Oe.value=-1:Oe.value=2)},X,32)]),v("div",J,[b(T,{patient:h(Ke),errors:h(Ne),onEditing:Me},null,8,["patient","errors"])])])):k("",!0)])),_:1}),v("div",W,[v("div",Z,[b(P,{type:"submit",color:"primary",bold:"",loading:h(Le),disabled:h(Le),tabindex:"0"},{default:w((()=>[x(y(2==h(Ee)?a.$t("Save"):a.$t("Continue")),1)])),_:1},8,["loading","disabled"])])])]),v("div",Y,[-1===h(Oe)?(f(),m("ul",ee,[v("li",{id:"step-segment-0",class:j([[0===h(Ee)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[8]||(r[8]=_(g((e=>h(Ee)>=0&&h(Ae)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:r[9]||(r[9]=g((e=>h(Ee)>=0&&h(Ae)("#form-step-0",800,{offset:-20})),["prevent"]))},[te,v("div",ne,[v("p",ie,y(a.$t("Step"))+" 1",1),v("p",oe,y(a.$t("Personal_Info")),1)])],34),v("li",{id:"step-segment-1",class:j([[1===h(Ee)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[10]||(r[10]=_(g((e=>h(Ee)>=1&&h(Ae)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:r[11]||(r[11]=g((e=>h(Ee)>=1&&h(Ae)("#form-step-1",800,{offset:-20})),["prevent"]))},[se,v("div",ae,[v("p",re,y(a.$t("Step"))+" 2",1),v("p",le,y(a.$t("Certifying_document")),1)])],34),v("li",{id:"step-segment-2",class:j([[2===h(Ee)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[12]||(r[12]=_(g((e=>h(Ee)>=2&&h(Ae)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:r[13]||(r[13]=g((e=>h(Ee)>=2&&h(Ae)("#form-step-2",800,{offset:-20})),["prevent"]))},[ue,v("div",ce,[v("p",de,y(a.$t("Step"))+" 3",1),v("p",pe,y(a.$t("Address")),1)])],34)])):(f(),m("div",fe,[0===h(Oe)?(f(),m("div",me,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:r[14]||(r[14]=_(g((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[15]||(r[15]=e=>Oe.value=-1)},ve,32),he,ye,_e])):k("",!0),1===h(Oe)?(f(),m("div",ge,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:r[16]||(r[16]=_(g((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[17]||(r[17]=e=>Oe.value=-1)},be,32),we,ke,Se])):k("",!0),2===h(Oe)?(f(),m("div",xe,[v("button",{class:"close-help-button",tabindex:"0",onKeydown:r[18]||(r[18]=_(g((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[19]||(r[19]=e=>Oe.value=-1)},je,32),Ce,Te,Pe])):k("",!0)]))])])],40,D)}}});export{Ae as default};
