import{_ as e}from"./VFlex.vue_vue_type_style_index_0_lang.872f6df6.js";import{q as a,G as l,c as t,h as r,R as n,x as o,a9 as s,y as i,W as u,r as c,Q as d,C as p,j as v,o as m,a as f,w as g,e as y,b,k as h,f as k,K as w,s as x,m as P,i as _,d as C,g as $,F as V,l as j,t as K,P as S,aa as T,ab as R,O as B}from"./index.0abd75ed.js";import{C as M,_ as H}from"./VPlaceload.5ce3c270.js";const L=a({props:{id:{type:String,required:!0},label:{type:String,default:void 0},modelValue:{type:String,default:void 0},noRouter:{type:Boolean,default:void 0},routerQueryKey:{type:String,default:"sort"}},emits:["update:modelValue"],setup(e,a){const o=l(),s=t((()=>{var a,l;return null!=(l=null!=(a=e.modelValue)?a:o.query[e.routerQueryKey])?l:""})),i=t((()=>s.value===`${e.id}:asc`)),u=t((()=>s.value===`${e.id}:desc`)),c=t((()=>i.value?`${e.id}:desc`:u.value?void 0:`${e.id}:asc`)),d=t((()=>{if(e.noRouter)return{};const a={...o.query};return e.routerQueryKey&&(a[e.routerQueryKey]=c.value),{name:o.name,params:o.params,query:a}})),p=l=>{if(a.emit("update:modelValue",c.value),e.noRouter)return l.preventDefault(),l.stopPropagation(),!1};return()=>{var l,t;const o=null==(t=null==(l=a.slots)?void 0:l.default)?void 0:t.call(l,{isDesc:u.value,isAsc:i.value,nextSort:c.value,value:s.value}),v=r(n,{to:d.value,onClick:p,onKeydown(e){"Space"===e.code&&(e.preventDefault(),e.stopPropagation(),e.target instanceof HTMLAnchorElement&&e.target.dispatchEvent(new MouseEvent("click")))}},{default(){const a=r("span",{key:`${s.value}`,class:"is-inline"},r("span",{class:"ml-3 iconify is-inline","data-icon":i.value?"fa:sort-asc":u.value?"fa:sort-desc":"fa:sort"}));return[null!=o?o:e.label,a]}});return r("span",{},v)}}}),O=Symbol(),D=e=>e,Q=({key:e,order:a,a:l,b:t})=>{const r=l[e],n=t[e];return"string"==typeof r?"asc"===a?r.localeCompare(n):n.localeCompare(r):r>n?"asc"===a?1:-1:r<n?"asc"===a?-1:1:0},q=a({props:{data:{type:[Array,Function],default:void 0},columns:{type:Object,default:void 0},sort:{type:String,default:void 0},searchTerm:{type:String,default:void 0},limit:{type:Number,default:void 0},page:{type:Number,default:void 0},total:{type:Number,default:void 0},debounceSearch:{type:Number,default:300}},emits:["update:sort","update:page","update:limit","update:searchTerm"],setup(e,a){const l=o(),n=o(!1),p=o(""),v=t({get:()=>{var a;return null!=(a=e.sort)?a:p.value},set(l){void 0===e.sort?p.value=l:a.emit("update:sort",l)}}),m=o(""),f=t({get:()=>{var a;return null!=(a=e.searchTerm)?a:m.value},set(l){void 0===e.searchTerm?m.value=l:a.emit("update:searchTerm",l)}}),g=o(1),y=t({get:()=>{var a;return null!=(a=e.page)?a:g.value},set(l){void 0===e.page?g.value=l:a.emit("update:page",l)}}),b=o(10),h=t({get:()=>{var a;return Math.max(1,null!=(a=e.limit)?a:b.value)},set(l){void 0===e.limit?b.value=l:a.emit("update:limit",l)}}),k=t((()=>{const a=e.columns;if(!a)return a;const l={};return Object.keys(a).reduce(((e,l)=>{const t=a[l];return"string"==typeof t?e[l]={format:D,label:t,key:l}:"object"==typeof t&&(e[l]={format:D,label:l,key:l,...t},!0===t.sortable&&(t.renderHeader?e[l].renderHeader=()=>r(L,{id:l,noRouter:!0,modelValue:v.value,"onUpdate:modelValue":e=>v.value=e},{default:t.renderHeader}):e[l].renderHeader=()=>{var e;return r(L,{id:l,label:null!=(e=t.label)?e:l,noRouter:!0,modelValue:v.value,"onUpdate:modelValue":e=>v.value=e})}),!0!==t.searchable||t.sort||(e[l].sort=Q)),e}),l),l})),w=t((()=>{let a=l.value;if(!a)return a;if("function"==typeof e.data)return a;if(_.value){const e=k.value?Object.values(k.value).filter((e=>!(!e||"string"==typeof e)&&!0===e.searchable)):[];if(e.length){const l=new RegExp(_.value,"i");a=a.filter(((a,t)=>e.some((e=>{if(!e.key)return!1;const r=a[e.key];return e.filter?e.filter({searchTerm:_.value,value:r,row:a,column:e,index:t}):"string"==typeof r&&r.match(l)}))))}}return a})),x=t((()=>{let a=w.value;if(!a)return a;if("function"==typeof e.data)return a;if(v.value&&v.value.includes(":")){const[e,l]=v.value.split(":"),t=k.value?Object.values(k.value).find((a=>!(!a||"string"==typeof a)&&(!0===a.sortable&&a.key===e))):null;if(t){const e=[...a];e.sort(((e,a)=>t.key&&t.sort?t.sort({order:l,column:t,key:t.key,a:e,b:a}):0)),a=e}}return a})),P=t((()=>{if("function"==typeof e.data)return l.value;if(!l.value)return l.value;let a=x.value;return null==a?void 0:a.slice($.value,$.value+h.value)})),_=s(f,e.debounceSearch),C=t((()=>{var a,l,t;return null!=(t=null!=(l=e.total)?l:null==(a=x.value)?void 0:a.length)?t:0})),$=t((()=>(y.value-1)*h.value)),V=t((()=>C.value?Math.ceil(C.value/h.value):0));async function j(a){if("function"==typeof e.data){n.value=!0;try{l.value=await e.data({searchTerm:_.value,start:$.value,limit:h.value,sort:v.value,controller:a})}finally{n.value=!1}}}i([_,h],(()=>{1!==y.value&&(y.value=1)})),u((async a=>{let t;"function"==typeof e.data?(t=new AbortController,await j(t)):l.value=e.data,a((()=>{null==t||t.abort()}))}));const K=c({data:P,columns:k,loading:n,searchInput:f,searchTerm:_,start:$,page:y,limit:h,sort:v,total:C,totalPages:V,fetchData:j});return d(O,K),a.expose(K),()=>{var e,l;const t=null==(l=(e=a.slots).default)?void 0:l.call(e,K);return r("div",{class:"flex-table-wrapper"},t)}}}),F={class:"pagination-list"},W={key:0},A=[y("span",{class:"pagination-ellipsis"},"…",-1)],E={key:1},N=[y("span",{class:"pagination-ellipsis"},"…",-1)],I={key:2},X=y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1),Y=y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-right"},null,-1),U=a({__name:"VFlexPagination",props:{itemPerPage:null,totalItems:null,currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(a,{emit:r}){const n=a,{t:o}=p(),s=l(),i=t((()=>Math.ceil(n.totalItems/n.itemPerPage)||1)),u=t((()=>i.value>n.maxLinksDisplayed+2?n.maxLinksDisplayed+2:i.value)),c=t((()=>{const e=[];let a=n.currentPage-Math.floor(u.value/2),l=a+(u.value-Math.ceil(u.value%2));a<1&&(a=1,l=a+(u.value-1)),l>i.value&&(l=i.value,a=l-(u.value-1));for(let t=a;t<=l;t+=1)t!==a&&t!==l&&e.push(t);return e})),d=t((()=>i.value>1)),S=(e=1)=>{if(n.noRouter)return{};const a=Math.max(1,Math.min(e,i.value)),l={...s.query};return n.routerQueryKey&&(l[n.routerQueryKey]=a<=1?void 0:a),{name:s.name,params:s.params,query:l}},T=(e,a=1)=>{const l=Math.max(1,Math.min(a,i.value));if(r("update:currentPage",l),n.noRouter)return e.preventDefault(),e.stopPropagation(),!1};return(l,t)=>{const r=v("RouterLink"),n=e;return m(),f(n,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:g((()=>[y("ul",F,[b(l.$slots,"before-pagination"),y("li",null,[h(r,{to:S(1),tabindex:"0",class:k(["pagination-link",[1===a.currentPage&&"is-current"]]),"aria-label":w(o)("goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=x(P((e=>e.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>T(e,1))},{default:g((()=>[_(" 1 ")])),_:1},8,["to","aria-label","class"])]),w(d)&&(0===w(c).length||w(c)[0]>2)?(m(),C("li",W,A)):$("",!0),(m(!0),C(V,null,j(w(c),(e=>(m(),C("li",{key:e},[h(r,{to:S(e),tabindex:"0",class:k(["pagination-link",[a.currentPage===e&&"is-current"]]),"aria-label":w(o)("goto-page-title",{page:e}),"aria-current":a.currentPage===e?"page":void 0,onKeydown:t[2]||(t[2]=x(P((e=>e.target.click()),["prevent"]),["space"])),onClick:a=>T(a,e)},{default:g((()=>[_(K(e),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),w(d)&&w(c)[w(c).length-1]<w(i)-1?(m(),C("li",E,N)):$("",!0),w(d)?(m(),C("li",I,[h(r,{to:S(w(i)),tabindex:"0",class:k(["pagination-link",[a.currentPage===w(i)&&"is-current"]]),"aria-label":w(o)("goto-page-title",{page:w(i)}),onKeydown:t[3]||(t[3]=x(P((e=>e.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=e=>T(e,w(i)))},{default:g((()=>[_(K(w(i)),1)])),_:1},8,["to","aria-label","class"])])):$("",!0),b(l.$slots,"after-pagination")]),b(l.$slots,"before-navigation"),h(r,{to:S(a.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=x(P((e=>e.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=e=>T(e,a.currentPage-1))},{default:g((()=>[X])),_:1},8,["to"]),h(r,{to:S(a.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=x(P((e=>e.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=e=>T(e,a.currentPage+1))},{default:g((()=>[Y])),_:1},8,["to"]),b(l.$slots,"after-navigation")])),_:3})}}}),G=["data-th"],z=a({__name:"VFlexTableCell",props:{column:{default:()=>({})}},setup(e){const a=e;return(e,l)=>(m(),C("div",{class:k(["flex-table-cell is-relative",[a.column.bold&&"is-bold",a.column.media&&"is-media",!0===a.column.grow&&"is-grow","lg"===a.column.grow&&"is-grow-lg","xl"===a.column.grow&&"is-grow-xl",a.column.scrollX&&!a.column.scrollY&&"has-slimscroll-x",!a.column.scrollX&&a.column.scrollY&&"has-slimscroll",a.column.scrollX&&a.column.scrollY&&"has-slimscroll-all","end"===a.column.align&&"cell-end","center"===a.column.align&&"cell-center",a.column.cellClass]]),"data-th":a.column.label||void 0},[b(e.$slots,"default")],10,G))}}),J={key:0,class:"flex-table-header"},Z=["tabindex","onKeydown","onClick"],ee={key:0},ae={class:"language-json py-4"},le=a({__name:"VFlexTable",props:{data:{default:()=>[]},columns:{default:void 0},printObjects:{type:Boolean},reactive:{type:Boolean},compact:{type:Boolean},rounded:{type:Boolean},separators:{type:Boolean},clickable:{type:Boolean},subtable:{type:Boolean},noHeader:{type:Boolean}},emits:["rowClick"],setup(e,{emit:a}){const l=e,r=S(O,null),n=t((()=>(null==r?void 0:r.data)?r.data:l.reactive?T(l.data)?l.data:c(l.data):R(l.data))),o=e=>e,s=t((()=>{var e;const a=null!=(e=null==r?void 0:r.columns)?e:l.columns;let t=[];if(a)for(const[l,r]of Object.entries(a))"string"==typeof r?t.push({format:o,label:r,key:l}):t.push({format:o,label:l,key:l,...r});else if(n.value.length>0)for(const[l]of Object.entries(n.value[0]))t.push({format:o,label:l,key:l});return t}));return(t,r)=>{const o=z;return m(),C("div",{class:k(["flex-table",[l.compact&&"is-compact",l.rounded&&"is-rounded",l.separators&&"with-separators",l.noHeader&&"no-header",l.clickable&&"is-table-clickable",l.subtable&&"sub-table"]])},[b(t.$slots,"header",{},(()=>[l.noHeader?$("",!0):(m(),C("div",J,[(m(!0),C(V,null,j(w(s),(e=>b(t.$slots,"header-column",{key:"col"+e.key,column:e},(()=>[e.renderHeader?(m(),f(B({render:e.renderHeader}),{key:0,class:k([!0===e.grow&&"is-grow","lg"===e.grow&&"is-grow-lg","xl"===e.grow&&"is-grow-xl","end"===e.align&&"cell-end","center"===e.align&&"cell-center"])},null,8,["class"])):(m(),C("span",{key:1,class:k([!0===e.grow&&"is-grow","lg"===e.grow&&"is-grow-lg","xl"===e.grow&&"is-grow-xl","end"===e.align&&"cell-end","center"===e.align&&"cell-center"])},K(e.label),3))])))),128))]))])),b(t.$slots,"body",{},(()=>[(m(!0),C(V,null,j(w(n),((r,n)=>(m(),C(V,{key:n},[b(t.$slots,"body-row-pre",{row:r,columns:w(s),index:n}),y("div",{class:k(["flex-table-item",[l.clickable&&"is-clickable"]]),tabindex:l.clickable?0:void 0,onKeydown:x(P((()=>{l.clickable&&a("rowClick",r,n)}),["prevent"]),["space"]),onClick:()=>{l.clickable&&a("rowClick",r,n)}},[b(t.$slots,"body-row",{row:r,columns:w(s),index:n},(()=>[(m(!0),C(V,null,j(w(s),(a=>(m(),f(o,{key:"row"+a.key,column:a},{default:g((()=>[b(t.$slots,"body-cell",{row:r,column:a,index:n,value:a.format(r[a.key],r,n)},(()=>[a.renderRow?(m(),f(B({render:()=>{var e;return null==(e=a.renderRow)?void 0:e.call(a,r,a,n)}}),{key:0})):"object"==typeof a.format(r[a.key],r,n)?(m(),C("span",{key:1,class:k([a.cellClass,a.inverted&&"dark-inverted",!a.inverted&&(a.bold?"dark-text":"light-text")])},[e.printObjects?(m(),C("details",ee,[y("div",ae,[y("pre",null,[y("code",null,K(a.format(r[a.key],r,n)),1)])])])):$("",!0)],2)):(m(),C("span",{key:2,class:k([a.cellClass,a.inverted&&"dark-inverted",!a.inverted&&(a.bold?"dark-text":"light-text")])},K(a.format(r[a.key],r,n)),3))]))])),_:2},1032,["column"])))),128))]))],42,Z),b(t.$slots,"body-row-post",{row:r,columns:w(s),index:n})],64)))),128))]))],2)}}}),te={class:"section-placeholder"},re={class:"placeholder-content"},ne={class:"dark-inverted"},oe={key:0},se=a({__name:"VPlaceholderSection",props:{title:null,subtitle:{default:void 0}},setup(e){const a=e;return(e,l)=>(m(),C("div",te,[y("div",re,[b(e.$slots,"image"),y("h3",ne,K(a.title),1),a.subtitle?(m(),C("p",oe,K(a.subtitle),1)):$("",!0),b(e.$slots,"action")])]))}}),ie={class:"content-shape-group"},ue=a({__name:"VPlaceloadText",props:{width:{default:"100%"},lastLineWidth:{default:"100%"},lines:{default:2},disabled:{type:Boolean},centered:{type:Boolean}},setup(e){const a=e;return null===a.width.match(M)&&console.warn(`VPlaceloadText: invalid "${a.width}" width. Should be a valid css unit value.`),null===a.lastLineWidth.match(M)&&console.warn(`VPlaceloadText: invalid "${a.lastLineWidth}" lastLineWidth. Should be a valid css unit value.`),(e,l)=>{const t=H;return m(),C("div",ie,[(m(!0),C(V,null,j(a.lines-1,(e=>(m(),f(t,{key:e,width:a.width,centered:a.centered},null,8,["width","centered"])))),128)),h(t,{width:a.lastLineWidth,centered:a.centered},null,8,["width","centered"])])}}}),ce="/assets/search-7.b454a7bd.svg",de="/assets/search-7-dark.7dd7288e.svg";export{ue as _,z as a,se as b,le as c,U as d,q as e,ce as f,de as g};
