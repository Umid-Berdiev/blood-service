import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-52241399.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-9075dd9c.js";import{_ as n}from"./DatePicker.vue_vue_type_script_setup_true_lang-30441cda.js";import{_ as a,a as l}from"./VControl-c4bfd6d4.js";import{_ as o}from"./VInput.vue_vue_type_script_setup_true_lang-fcf9b43c.js";import{q as s,H as u,C as i,x as r,a7 as _,r as p,o as d,a as c,w as m,e as g,t as b,k as y,E as v,J as h,y as f,d as j,K as $,F as V,l as x,g as k,U as D}from"./index-c5546e3f.js";import{_ as C}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as w}from"./VCard.vue_vue_type_script_setup_true_lang-9ddefd9d.js";import{_ as O,a as S}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-1679fcf5.js";import{_ as U}from"./NoDataPlaceholder-02547c33.js";import{_ as q}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d20f193a.js";import{u as B}from"./main-94385ff1.js";import{u as M}from"./viewWrapper-911093a6.js";import"./VButton.vue_vue_type_style_index_0_lang-6deaaf11.js";import"./ClientOnly.vue_vue_type_script_lang-fed4a332.js";import"./VFlex.vue_vue_type_style_index_0_lang-84415715.js";const P={class:"table-container"},Y={class:"table is-fullwidth"},F=C(s({__name:"ScrappingFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:v}){u();const{t:h}=i(),f=r(h("Scrapping_component")),j=r(!1),$=_(new Date,"YYYY-MM-DD"),V=p({batch_number:"",destruction_date:$}),x=p({batch_number:[],destruction_date:[]});function k(){Object.assign(V,{batch_number:"",destruction_date:$}),Object.assign(x,{batch_number:[],destruction_date:[]}),v("update:isOpen",!1)}return(u,i)=>{const r=o,_=a,p=l,v=n,h=e,$=t;return d(),c($,{open:s.isOpen,size:"large",title:f.value,actions:"right",onClose:k},{content:m((()=>[g("div",P,[g("table",Y,[g("tbody",null,[g("tr",null,[g("th",null,b(u.$t("Donation_date")),1),g("td",null,b(s.component.donation_date),1)]),g("tr",null,[g("th",null,b(u.$t("Donation_code")),1),g("td",null,b(s.component.donation_code),1)]),g("tr",null,[g("th",null,b(u.$t("Dose")),1),g("td",null,b(s.component.dose),1)]),g("tr",null,[g("th",null,b(u.$t("Component_name")),1),g("td",null,b(s.component.component_name),1)]),g("tr",null,[g("th",null,b(u.$t("Quantity_ml")),1),g("td",null,b(s.component.quantity),1)]),g("tr",null,[g("th",null,b(u.$t("Batch number")),1),g("td",null,[y(p,null,{default:m((()=>[y(_,null,{default:m((()=>[y(r,{modelValue:V.batch_number,"onUpdate:modelValue":i[0]||(i[0]=t=>V.batch_number=t),value:"satisfactory",color:"primary",label:u.$t("Satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,b(u.$t("Destruction_date")),1),g("td",null,[y(v,{modelValue:V.destruction_date,"onUpdate:modelValue":i[1]||(i[1]=t=>V.destruction_date=t)},null,8,["modelValue"])])])])])])])),action:m((()=>[y(h,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-10203d0f"]]),I={class:"page-content-inner"},Q={class:"columns mb-5"},T={class:"column is-narrow"},z={class:"columns"},E={class:"column"},H={class:"table-container"},J={key:1,class:"table is-hoverable is-fullwidth"},K={colspan:"6"},L=["onClick"],N=C(s({__name:"index",setup(t){v();const e=u(),{t:n}=i(),a=B(),l=r(!1),o=M();r(null),o.setPageTitle(n("Scrapping")),h({title:`${n("Components_to_be_scrapped")} - ${a.app.name}`});const s=p({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",component_name:"Эритроцитная масса",dose:"0",quantity:"300",unsuitability_reasons:"Расхождение группы крови"},{id:11,donation_date:"10.12.2022",donation_code:"130100213000",component_name:"Свежезамороженная плазма",dose:"0",quantity:"270",unsuitability_reasons:"Бруцеллез"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),_=p({}),C=r(!1);async function P(){try{l.value=!0}catch(t){e.error(n("Something_went_wrong"))}finally{l.value=!1}}return f(C,(function(t){!1===t&&Object.assign(_,{})})),(t,e)=>{const n=q,o=U,u=O,i=S,r=w,p=F;return d(),j("div",I,[g("div",Q,[g("div",T,[y(n,{"with-icons":"",separator:"bullet",items:[{label:$(a).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Scrapping")},{label:t.$t("Components_to_be_scrapped")}]},null,8,["items"])])]),g("div",z,[g("div",E,[y(r,null,{default:m((()=>[g("div",H,[0===$(s).data.length?(d(),c(o,{key:0})):(d(),j("table",J,[g("thead",null,[g("tr",null,[g("th",null,b(t.$t("Donation_date")),1),g("th",null,b(t.$t("Donation_code")),1),g("th",null,b(t.$t("Component_name")),1),g("th",null,b(t.$t("Dose")),1),g("th",null,b(t.$t("Quantity_ml")),1),g("th",null,b(t.$t("Unsuitability_reasons")),1)])]),g("tbody",null,[$(l)?(d(!0),j(V,{key:0},x($(s).pagination.per_page,(t=>(d(),j("tr",{key:t},[g("td",K,[y(u,{lines:2,"last-line-width":"70%"})])])))),128)):(d(!0),j(V,{key:1},x($(s).data,((t,e)=>(d(),j("tr",{key:e},[g("td",null,b(t.donation_date),1),g("td",null,[g("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(_,t),C.value=!0}(t)},b(t.donation_code),9,L)]),g("td",null,b(t.component_name),1),g("td",null,b(t.dose),1),g("td",null,b(t.quantity),1),g("td",null,b(t.unsuitability_reasons),1)])))),128))])]))]),$(s).data.length?(d(),c(i,{key:0,"current-page":$(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>$(s).pagination.current_page=t),class:"mt-5","item-per-page":$(s).pagination.per_page,"total-items":$(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):k("",!0)])),_:1})])]),y(p,{"is-open":$(C),"onUpdate:is-open":e[1]||(e[1]=t=>D(C)?C.value=t:null),component:$(_),"onUpdate:list":P},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-c0901c26"]]);export{N as default};
