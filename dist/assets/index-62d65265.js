import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-b0507e96.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-e5001c63.js";import{_ as a}from"./IMaskDateInput.vue_vue_type_script_setup_true_lang-5ce26ef4.js";import{_ as n,a as l}from"./VControl-fc151345.js";import{_ as o}from"./VInput.vue_vue_type_script_setup_true_lang-29181b77.js";import{a as s,b as u,r as i,l as r,t as p,q as _,Q as d,V as c,p as m,w as g,m as h,u as b,M as y,W as v,y as f,i as j,$,a0 as D}from"./chunk-BGPNDDXN-dcda8805.js";import{f as k}from"./@vueuse_core-098eb702.js";import{u as V}from"./chunk-3UEUFEGV-d557e6b1.js";import{u as w}from"./useNotyf-1536ae84.js";import{_ as x}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as C}from"./VCard.vue_vue_type_script_setup_true_lang-a9232da9.js";import{a as M,_ as O,b as U,c as Y,d as I}from"./search-7-dark-f0facebe.js";import{_ as S}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-d3c7c667.js";import{u as q}from"./chunk-DRAQDPQ2-4514f14e.js";import{u as B}from"./@vueuse_head-0d019878.js";import{u as Q}from"./main-a3a6220c.js";import{u as N}from"./viewWrapper-c60f0ce7.js";import"./VButton.vue_vue_type_style_index_0_lang-27d6885c.js";import"./VPlaceload-2a65ae53.js";import"./VIMaskInput.vue_vue_type_script_lang-06d40a07.js";import"./moment-e00bdeae.js";import"./VFlex.vue_vue_type_style_index_0_lang-0938e556.js";import"./pinia-3af6ce52.js";const P={class:"table-container"},F={class:"table is-fullwidth"},E=x(s({__name:"ScrappingFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:g}){w();const{t:h}=V(),b=u(h("Scrapping_component")),y=u(!1),v=i({batch_number:"",destruction_date:k(new Date,"YYYY-MM-DD")}),f=i({batch_number:[],destruction_date:[]});function j(){Object.assign(v,{batch_number:"",destruction_date:k(new Date,"YYYY-MM-DD")}),Object.assign(f,{batch_number:[],destruction_date:[]}),g("update:isOpen",!1)}return(u,i)=>{const g=o,h=n,f=l,$=a,D=e,k=t;return r(),p(k,{open:s.isOpen,size:"large",title:b.value,actions:"right",onClose:j},{content:_((()=>[d("div",P,[d("table",F,[d("tbody",null,[d("tr",null,[d("th",null,c(u.$t("Donation_date")),1),d("td",null,c(s.component.donation_date),1)]),d("tr",null,[d("th",null,c(u.$t("Donation_code")),1),d("td",null,c(s.component.donation_code),1)]),d("tr",null,[d("th",null,c(u.$t("Dose")),1),d("td",null,c(s.component.dose),1)]),d("tr",null,[d("th",null,c(u.$t("Component_name")),1),d("td",null,c(s.component.component_name),1)]),d("tr",null,[d("th",null,c(u.$t("Quantity_ml")),1),d("td",null,c(s.component.quantity),1)]),d("tr",null,[d("th",null,c(u.$t("Batch number")),1),d("td",null,[m(f,null,{default:_((()=>[m(h,null,{default:_((()=>[m(g,{modelValue:v.batch_number,"onUpdate:modelValue":i[0]||(i[0]=t=>v.batch_number=t),value:"satisfactory",color:"primary",label:u.$t("Satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),d("tr",null,[d("th",null,c(u.$t("Destruction_date")),1),d("td",null,[m(f,null,{default:_((()=>[m(h,null,{default:_((()=>[m($,{modelValue:v.destruction_date,"onUpdate:modelValue":i[1]||(i[1]=t=>v.destruction_date=t),style:{width:"50%"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])])])),action:_((()=>[m(D,{loading:y.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-9daf7067"]]),G=t=>($("data-v-7ca42818"),t=t(),D(),t),T={class:"page-content-inner"},W={class:"columns mb-5"},z={class:"column is-narrow"},A={class:"columns"},L={class:"column"},R={class:"table-container"},X={key:0,class:"flex-list-inner"},H=G((()=>d("img",{class:"light-image",src:Y,alt:""},null,-1))),J=G((()=>d("img",{class:"dark-image",src:I,alt:""},null,-1))),K={key:1,class:"table is-hoverable is-fullwidth"},Z={colspan:"6"},tt=["onClick"],et=x(s({__name:"index",setup(t){q();const e=w(),{t:a}=V(),n=Q(),l=u(!1),o=N();u(null),o.setPageTitle(a("Scrapping")),B({title:`${a("Components_to_be_scrapped")} - ${n.app.name}`});const s=i({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",component_name:"Эритроцитная масса",dose:"0",quantity:"300",unsuitability_reasons:"Расхождение группы крови"},{id:11,donation_date:"10.12.2022",donation_code:"130100213000",component_name:"Свежезамороженная плазма",dose:"0",quantity:"270",unsuitability_reasons:"Бруцеллез"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),$=i({}),D=u(!1);async function k(){try{l.value=!0}catch(t){e.error(a("Something_went_wrong"))}finally{l.value=!1}}return g(D,(function(t){!1===t&&Object.assign($,{})})),(t,e)=>{const a=S,o=M,u=O,i=U,g=C,V=E;return r(),h("div",T,[d("div",W,[d("div",z,[m(a,{"with-icons":"",separator:"bullet",items:[{label:b(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Scrapping")},{label:t.$t("Components_to_be_scrapped")}]},null,8,["items"])])]),d("div",A,[d("div",L,[m(g,null,{default:_((()=>[d("div",R,[0===b(s).data.length?(r(),h("div",X,[m(o,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:_((()=>[H,J])),_:1})])):(r(),h("table",K,[d("thead",null,[d("tr",null,[d("th",null,c(t.$t("Donation_date")),1),d("th",null,c(t.$t("Donation_code")),1),d("th",null,c(t.$t("Component_name")),1),d("th",null,c(t.$t("Dose")),1),d("th",null,c(t.$t("Quantity_ml")),1),d("th",null,c(t.$t("Unsuitability_reasons")),1)])]),d("tbody",null,[b(l)?(r(!0),h(y,{key:0},v(b(s).pagination.per_page,(t=>(r(),h("tr",{key:t},[d("td",Z,[m(u,{lines:2,"last-line-width":"70%"})])])))),128)):(r(!0),h(y,{key:1},v(b(s).data,((t,e)=>(r(),h("tr",{key:e},[d("td",null,c(t.donation_date),1),d("td",null,[d("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign($,t),D.value=!0}(t)},c(t.donation_code),9,tt)]),d("td",null,c(t.component_name),1),d("td",null,c(t.dose),1),d("td",null,c(t.quantity),1),d("td",null,c(t.unsuitability_reasons),1)])))),128))])]))]),b(s).data.length?(r(),p(i,{key:0,"current-page":b(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>b(s).pagination.current_page=t),class:"mt-5","item-per-page":b(s).pagination.per_page,"total-items":b(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):f("",!0)])),_:1})])]),m(V,{"is-open":b(D),"onUpdate:is-open":e[1]||(e[1]=t=>j(D)?D.value=t:null),component:b($),"onUpdate:list":k},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-7ca42818"]]);export{et as default};
