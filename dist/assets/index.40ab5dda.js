import{_ as a,a as e,b as t,c as s,d as l,e as i,f as n,g as r,h as o}from"./search-7-dark.2060a6ab.js";import{_ as u,a as d}from"./VControl.5631d0ee.js";import{_ as c}from"./VBreadcrumb.vue_vue_type_style_index_0_lang.4a253439.js";import{q as p,E as m,H as _,C as v,x as f,J as g,r as b,c as y,aC as h,A as x,y as k,j as w,o as j,d as V,e as D,k as $,K as C,w as P,g as z,F as L,l as M,a as Y,i as F,t as N,P as U,L as q,M as A}from"./index.ce4ddab7.js";import{u as T}from"./main.ee4a9c05.js";import{u as B}from"./viewWrapper.5a2b502f.js";import{f as E,p as H}from"./patient.bdfc40c2.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import"./VFlex.vue_vue_type_style_index_0_lang.33b5caf8.js";import"./VPlaceload.a3525941.js";const J=a=>(q("data-v-6f62e598"),a=a(),A(),a),K={class:"page-content-inner"},O={class:"columns mb-3"},R={class:"column"},S={class:"column is-3"},W={class:"columns"},G={class:"column is-12"},Q={key:0,class:"is-flex-grow-0",textContent:"#"},X={key:0,class:"flex-list-inner"},Z={key:1,class:"flex-list-inner"},aa=J((()=>D("img",{class:"light-image",src:r,alt:""},null,-1))),ea=J((()=>D("img",{class:"dark-image",src:o,alt:""},null,-1))),ta=I(p({__name:"index",setup(r){m();const o=_(),{t:p}=v(),q=T(),A=f(!1);B().setPageTitle(p("Users_List")),g({title:`${p("Donors-list-for-examination")} - ${q.app.name}`});const I=b({result:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),J=y({get:()=>I.pagination.current_page,set:async a=>{await na(a)}}),ta={orderNumber:{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:p("Fullname")},birth_date:{label:p("Date-of-birth")},visit_date:{label:p("Visit_date"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.created_at)&&h(new Date(null==(s=e.last_visit)?void 0:s.created_at),"YYYY-MM-DD")}},visit_type:{label:p("Visit_type"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.visit_type)&&p(null==(s=e.last_visit)?void 0:s.visit_type)}},directed_by:{label:p("Directed_by"),format:(a,e)=>{var t,s;return(null==(t=e.last_visit)?void 0:t.directed_by)&&p(null==(s=e.last_visit)?void 0:s.directed_by)}},personalized_donation:{label:p("Personalized_donation"),format:(a,e)=>{var t;return null==(t=e.last_visit)?void 0:t.personalized_donation}},visit_status:{label:p("Visit_status"),format:(a,e)=>{var t;return null==(t=e.status)?void 0:t.name}}},sa=f(),la=f([{id:0,name:p("All")}]),ia=f("");async function na(a=1){var e,t;try{A.value=!0;const e=await H({page:a,status_id:ia.value});Object.assign(I,e.result)}catch(s){o.error(p(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.errors))}finally{A.value=!1}}return x((async()=>{const a=await E();la.value.push(...a.result)})),k((()=>ia.value),(async a=>{await na()})),(r,o)=>{const p=c,m=w("Multiselect"),_=u,v=d,f=a,g=e,b=t,y=s,h=w("RouterLink"),x=l,k=i,T=n;return j(),V("div",K,[D("div",O,[D("div",R,[$(p,{"with-icons":"",separator:"bullet",items:[{label:C(q).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:r.$t("Physician-therapist")},{label:r.$t("Donors-list-for-examination"),to:{name:"/app/physician-therapist/donors-for-examination/"}}]},null,8,["items"])]),D("div",S,[$(v,{class:"is-curved-select"},{default:P((({id:a})=>[$(_,null,{default:P((()=>[$(m,{modelValue:ia.value,"onUpdate:modelValue":o[0]||(o[0]=a=>ia.value=a),attrs:{id:a},options:la.value,placeholder:r.$t("Select_donor_status"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1})])]),D("div",W,[D("div",G,[$(T,{columns:C(ta),data:I.result,limit:I.pagination.per_page,total:I.pagination.total},{default:P((()=>[$(x,{rounded:"","no-header":!A.value&&0===I.result.length},{"header-column":P((({column:a})=>["orderNumber"===a.key?(j(),V("span",Q)):z("",!0)])),body:P((()=>[A.value?(j(),V("div",X,[(j(!0),V(L,null,M(I.pagination.per_page,(a=>(j(),V("div",{key:a,class:"flex-table-item"},[$(g,null,{default:P((()=>[$(f,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):z("",!0),0===I.result.length?(j(),V("div",Z,[$(b,{title:"No matches",subtitle:"There is no data that match your query.",class:"my-6"},{image:P((()=>[aa,ea])),_:1})])):z("",!0)])),"body-row-pre":P((({row:a})=>[a.id===sa.value?(j(),Y(y,{key:0,size:"tiny",class:"m-0 mb-1"})):z("",!0)])),"body-cell":P((({row:a,column:e})=>["name"===e.key?(j(),Y(h,{key:0,class:"table_link",to:`/app/physician-therapist/donors-for-examination/${a.id}#`},{default:P((()=>[F(N(a.first_name)+" "+N(a.last_name)+" "+N(a.father_name),1)])),_:2},1032,["to"])):z("",!0)])),_:1},8,["no-header"]),I.result.length?(j(),Y(k,{key:0,"current-page":C(J),"onUpdate:current-page":o[1]||(o[1]=a=>U(J)?J.value=a:null),class:"mt-5","item-per-page":I.pagination.per_page,"total-items":I.pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):z("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}}),[["__scopeId","data-v-6f62e598"]]);export{ta as default};
