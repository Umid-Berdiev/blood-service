import{_ as t}from"./ComponentDistributionProcessingCardModal-f9067f18.js";import{_ as e}from"./VCard.vue_vue_type_script_setup_true_lang-34c1a38f.js";import{a,_ as o,b as n,c as l,d as s}from"./search-7-dark-c4e05ee5.js";import{_ as i}from"./VCheckbox.vue_vue_type_style_index_0_lang-22f1f43a.js";import{_ as r}from"./VButtons.vue_vue_type_script_setup_true_lang-3c82b197.js";import{_}from"./VButton.vue_vue_type_style_index_0_lang-2943ff29.js";import{_ as d}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-8b18b9a3.js";import{q as u,E as p,H as c,C as m,x as g,J as y,r as v,c as h,y as b,o as f,d as j,e as x,k as $,K as V,w as k,i as w,t as P,U as q,F as C,l as F,a as U,g as B,L as I,M as O}from"./index-f93ac3f8.js";import{u as z}from"./main-ee2e6726.js";import{u as D}from"./viewWrapper-1e6038f3.js";import{_ as R}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VModal.vue_vue_type_style_index_0_lang-bd9f4090.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-cc65dbea.js";import"./VControl-6db07387.js";import"./VInput.vue_vue_type_script_setup_true_lang-264b74aa.js";import"./additional-bd476d98.js";import"./VFlex.vue_vue_type_style_index_0_lang-89cd9c2c.js";const M=t=>(I("data-v-fb5d26b2"),t=t(),O(),t),T={class:"page-content-inner"},L={class:"columns mb-5"},S={class:"column is-narrow"},A={class:"columns"},E={class:"column"},G={class:"columns"},H={class:"column"},J={class:"table-container"},K={key:0,class:"flex-list-inner"},N=M((()=>x("img",{class:"light-image",src:l,alt:""},null,-1))),W=M((()=>x("img",{class:"dark-image",src:s,alt:""},null,-1))),Y={key:1,class:"table is-hoverable is-fullwidth"},Z={colspan:"3"},Q=R(u({__name:"index",setup(l){p(),c();const{t:s}=m(),u=z(),I=g(!1),O=D();g(null),O.setPageTitle(s("Processing")),y({title:`${s("FFPs-in-storage")} - ${u.app.name}`});const R=v({data:[{id:11,donation_code:"130100123400",donation_date:"10.12.2022",blood_type:"O(I)",visit_type:"Безвозмезные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Донация цельной крови",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:17,donation_code:"130100456500",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Тромбоцитаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:21,donation_code:"130100987300",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Плазмаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),M=v({}),Q=g([]),X=g(!1),tt=v({donation_code:[],donation_type_id:[]}),et=h({get:()=>Q.value.length>0&&Q.value.length===R.data.length,set(t){Q.value=t?R.data.map((t=>t.id)):[]}});async function at(t){var e,a;try{I.value=!0;R.pagination.current_page}catch(o){Object.assign(tt,null==(a=null==(e=o.response)?void 0:e.data)?void 0:a.errors)}finally{I.value=!1}}return b(X,(function(t){!1===t&&Object.assign(M,{})})),(l,s)=>{const p=d,c=_,m=r,g=a,y=i,v=o,h=n,b=e,O=t;return f(),j("div",T,[x("div",L,[x("div",S,[$(p,{"with-icons":"",separator:"bullet",items:[{label:V(u).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Processing")},{label:l.$t("FFPs-in-storage")}]},null,8,["items"])])]),x("div",A,[x("div",E,[$(m,null,{default:k((()=>[$(c,{type:"button",color:"primary",disabled:0===V(Q).length},{default:k((()=>[w(P(l.$t("Generate_cryoprecipitate_series")),1)])),_:1},8,["disabled"]),$(c,{type:"button",color:"primary",disabled:0===V(Q).length},{default:k((()=>[w(P(l.$t("Submit_series_for_processing")),1)])),_:1},8,["disabled"])])),_:1})])]),x("div",G,[x("div",H,[$(b,null,{default:k((()=>[x("div",J,[0===V(R).data.length?(f(),j("div",K,[$(g,{title:l.$t("No_data"),subtitle:l.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:k((()=>[N,W])),_:1},8,["title","subtitle"])])):(f(),j("table",Y,[x("thead",null,[x("tr",null,[x("th",null,[$(y,{modelValue:V(et),"onUpdate:modelValue":s[0]||(s[0]=t=>q(et)?et.value=t:null),color:"primary"},null,8,["modelValue"])]),x("th",null,P(l.$t("Donation_date")),1),x("th",null,P(l.$t("Donation_code")),1),x("th",null,P(l.$t("Dose")),1),x("th",null,P(l.$t("Plasma_amount_ml")),1),x("th",null,P(l.$t("Blood_type"))+" && "+P(l.$t("Rh_factor")),1),x("th",null,P(l.$t("Actions")),1)])]),x("tbody",null,[V(I)?(f(!0),j(C,{key:0},F(V(R).pagination.per_page,(t=>(f(),j("tr",{key:t},[x("td",Z,[$(v,{lines:2,"last-line-width":"70%"})])])))),128)):(f(!0),j(C,{key:1},F(V(R).data,((t,e)=>(f(),j("tr",{key:e},[x("td",null,[$(y,{modelValue:V(Q),"onUpdate:modelValue":s[1]||(s[1]=t=>q(Q)?Q.value=t:null),value:t.id,color:"primary"},null,8,["modelValue","value"])]),x("td",null,P(t.donation_date),1),x("td",null,P(t.donation_code),1),x("td",null,P(t.dose),1),x("td",null,P(t.quantity),1),x("td",null,P(t.blood_type)+" "+P(t.rh_factor),1),x("td",null,[$(c,{type:"button",color:"primary"},{default:k((()=>[w(P(l.$t("To_forwarding")),1)])),_:1})])])))),128))])]))]),V(R).data.length?(f(),U(h,{key:0,"current-page":V(R).pagination.current_page,"onUpdate:current-page":s[2]||(s[2]=t=>V(R).pagination.current_page=t),class:"mt-5","item-per-page":V(R).pagination.per_page,"total-items":V(R).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):B("",!0)])),_:1})])]),$(O,{"is-open":V(X),"onUpdate:is-open":s[3]||(s[3]=t=>q(X)?X.value=t:null),product:V(M),"onUpdate:list":at},null,8,["is-open","product"])])}}}),[["__scopeId","data-v-fb5d26b2"]]);export{Q as default};
