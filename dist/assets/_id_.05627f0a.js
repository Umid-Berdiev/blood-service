import{_ as e}from"./VModal.vue_vue_type_style_index_0_lang.a5b27fe6.js";import{_ as l}from"./SubmitButton.vue_vue_type_script_setup_true_lang.3f02b6bd.js";import{_ as a}from"./VCheckbox.vue_vue_type_style_index_0_lang.c1c46a23.js";import{_ as t}from"./VFlex.vue_vue_type_style_index_0_lang.5029357e.js";import{_ as n}from"./VInput.vue_vue_type_script_setup_true_lang.052c7129.js";import{b as s,_ as o,a as i}from"./VControl.ca63cac0.js";import{q as u,H as r,C as d,x as c,r as p,A as _,y as m,j as v,o as b,a as f,w as y,k as h,i as g,t as V,$,aj as w,d as x,e as k,F as U,l as j,g as C,L as I,M,m as O,K as z,p as S,ak as P,G as q,E as R,a8 as D,J as W,c as E}from"./index.5a18e8c8.js";import{_ as B}from"./lodash.b14eab3e.js";import{_ as Y}from"./VFlexItem.vue_vue_type_style_index_0_lang.3f326650.js";import{b as F,s as L,c as N,d as H,e as T,g as A,h as G,u as J}from"./patient.cb19f429.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as Q}from"./VTextarea.vue_vue_type_script_setup_true_lang.c368ce6f.js";import{_ as X}from"./VRadio.vue_vue_type_style_index_0_lang.175ab214.js";import{m as Z}from"./moment.b8ea7098.js";import{_ as ee}from"./VButtons.vue_vue_type_script_setup_true_lang.495a9e3e.js";import{_ as le}from"./VButton.vue_vue_type_style_index_0_lang.c06d75b0.js";import{_ as ae}from"./VIMaskInput.vue_vue_type_script_lang.32d4852d.js";import{_ as te}from"./VTabs.vue_vue_type_script_setup_true_lang.1e0edf93.js";import{_ as ne,a as se,b as oe}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang.1fe53a9d.js";import{u as ie}from"./viewWrapper.fed031e8.js";import"./VPlaceload.df43afcf.js";import"./VIcon.vue_vue_type_script_setup_true_lang.0c07e904.js";const ue=(e=>(I("data-v-ad97233c"),e=e(),M(),e))((()=>k("br",null,null,-1))),re={key:0,class:"table-container"},de={class:"table is-bordered is-fullwidth"},ce={colspan:4,class:"has-text-centered"},pe=B.flatten,_e=K(u({__name:"LaboratoryResearchModal",props:{visitcard:null,isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","update:status"],setup(u,{emit:I}){const M=u,O=r(),{t:z}=d(),S=c(!1),P=c(z("Direction_for_laboratory_research")),q=c([{id:1,name:z("Антигенами системы резус")},{id:2,name:z("Стафилококковым анатоксином")}]),R=c([{id:1,name:z("Whole_blood_donation")},{id:2,name:z("Plasmapheresis")},{id:3,name:z("Plateletpheresis")}]),D=c([]),W=p({donation_code:null,donation_type_id:null,immunization_id:null,laboratory_researches:[]}),E=p({});async function B(){var e,l;try{S.value=!0,W.laboratory_researches=pe(D.value.map((e=>e.laboratory_researches.filter((e=>e.value)).map((e=>e.id))))),await L(M.visitcard.id,W),O.success(z("Data_saved_successfully")),N()}catch(a){O.error(a.message),Object.assign(E,null==(l=null==(e=a.response)?void 0:e.data)?void 0:l.errors)}finally{S.value=!1}}function N(){I("update:isOpen",!1)}return _((()=>{W.donation_code=M.visitcard.donation_code,W.donation_type_id=M.visitcard.donation_type_id,W.immunization_id=M.visitcard.immunization_id})),m((()=>W.donation_type_id),(async e=>{3===e&&await async function(){D.value=await F(M.visitcard.id).then((e=>e.result))}()})),(r,d)=>{const c=s,p=v("Multiselect"),_=o,m=i,I=n,M=t,O=a,z=l,E=e;return b(),f(E,{open:u.isOpen,size:"extra-big",title:P.value,actions:"right",onClose:N},{content:y((()=>[h(M,{"flex-wrap":"wrap","column-gap":"5rem"},{default:y((()=>[h(Y,null,{default:y((()=>[h(m,{horizontal:""},{default:y((()=>[h(c,{class:"my-auto mr-5"},{default:y((()=>[g(V(r.$t("Donation_types_list")),1)])),_:1}),h(_,null,{default:y((()=>[h(p,{modelValue:W.donation_type_id,"onUpdate:modelValue":d[0]||(d[0]=e=>W.donation_type_id=e),style:{"min-width":"15rem"},options:R.value,placeholder:r.$t("Select_donation_type"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"])])),_:1})])),_:1})])),_:1}),h(Y,null,{default:y((()=>[h(m,{horizontal:""},{default:y((()=>[h(c,{class:"my-auto mr-5"},{default:y((()=>[g(V(r.$t("Immunization")),1)])),_:1}),h(_,null,{default:y((()=>[h(p,{modelValue:W.immunization_id,"onUpdate:modelValue":d[1]||(d[1]=e=>W.immunization_id=e),style:{"min-width":"15rem"},options:q.value,placeholder:r.$t("Not_required"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"])])),_:1})])),_:1})])),_:1}),$(h(Y,null,{default:y((()=>[h(m,{horizontal:""},{default:y((()=>[h(c,{class:"my-auto mr-5"},{default:y((()=>[g(V(r.$t("Donation_code")),1)])),_:1}),h(_,null,{default:y((()=>[h(I,{modelValue:W.donation_code,"onUpdate:modelValue":d[2]||(d[2]=e=>W.donation_code=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512),[[w,3===W.donation_type_id]])])),_:1}),ue,3===W.donation_type_id&&D.value.length?(b(),x("div",re,[k("table",de,[k("thead",null,[k("tr",null,[k("th",ce,V(r.$t("Laboratory_research_types")),1)]),k("tr",null,[(b(!0),x(U,null,j(D.value,(e=>(b(),x("th",{key:e.id},V(e.name),1)))),128))])]),k("tbody",null,[k("tr",null,[k("td",null,[(b(!0),x(U,null,j(D.value[0].laboratory_researches,(e=>(b(),f(m,{key:e.id},{default:y((()=>[h(_,null,{default:y((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),k("td",null,[(b(!0),x(U,null,j(D.value[1].laboratory_researches,(e=>(b(),f(m,{key:e.id},{default:y((()=>[h(_,null,{default:y((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),k("td",null,[(b(!0),x(U,null,j(D.value[2].laboratory_researches,(e=>(b(),f(m,{key:e.id},{default:y((()=>[h(_,null,{default:y((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))]),k("td",null,[(b(!0),x(U,null,j(D.value[3].laboratory_researches,(e=>(b(),f(m,{key:e.id},{default:y((()=>[h(_,null,{default:y((()=>[h(O,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:"p-0",color:"primary",label:e.name},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)])),_:2},1024)))),128))])])])])])):C("",!0)])),action:y((()=>[h(z,{type:"button",loading:S.value,onClick:B},{default:y((()=>[g(V(r.$t("Submit_for_research")),1)])),_:1},8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-ad97233c"]]),me=["onSubmit"],ve={class:"column is-12"},be={class:"help has-text-danger"},fe={class:"help has-text-danger"},ye={class:"help has-text-danger"},he={class:"help has-text-danger"},ge=Z.__esModule?Z.default:Z,Ve=u({__name:"WithdrawalFormModal",props:{isOpen:{type:Boolean,default:!1},patientId:{default:null}},emits:["update:isOpen","update:list"],setup(a,{emit:t}){const s=a,u=r(),{t:_}=d(),m=c(_("Withdrawal")),g=c(!1),{locale:$}=d(),w=c({input:"YYYY-MM-DD"}),x=p({type:"string",mask:w.value.input}),U=c([{id:"brucellosis",name:_("Brucellosis")}]),j=p({type:"temporary",reason:"",start_date:ge().format("YYYY-MM-DD"),end_date:"",source:""}),C=p({type:[],reason:[],start_date:[],end_date:[],source:[]});async function I(){var e,l,a,n;try{g.value=!0,await N(s.patientId,j),t("update:list"),M()}catch(o){(null==(e=o.response)?void 0:e.data.error)?u.error(null==(l=o.response)?void 0:l.data.error):Object.assign(C,null==(n=null==(a=o.response)?void 0:a.data)?void 0:n.errors)}finally{g.value=!1}}function M(){Object.assign(j,{type:"temporary",reason:"",start_date:ge().format("YYYY-MM-DD"),end_date:"",source:""}),Object.assign(C,{type:[],reason:[],start_date:[],end_date:[],source:[]}),t("update:isOpen",!1)}function q(e){C[e]=""}return p({start:new Date,end:new Date}),(t,s)=>{const u=X,r=o,d=i,c=v("Multiselect"),p=n,R=v("VDatePicker"),D=Q,W=l,E=e;return b(),f(E,{open:a.isOpen,size:"large",title:m.value,actions:"right",onClose:M},{content:y((()=>[k("form",{id:"withdrawal-form",class:"modal-form",onSubmit:O(I,["prevent"])},[k("div",ve,[h(d,{label:t.$t("Withdrawal_type"),required:""},{default:y((()=>[h(r,null,{default:y((()=>[h(u,{modelValue:j.type,"onUpdate:modelValue":s[0]||(s[0]=e=>j.type=e),value:"permanent",label:t.$t("Permanent"),onChange:s[1]||(s[1]=e=>q("type"))},null,8,["modelValue","label"]),h(u,{modelValue:j.type,"onUpdate:modelValue":s[2]||(s[2]=e=>j.type=e),value:"temporary",label:t.$t("Temporary"),onChange:s[3]||(s[3]=e=>q("type"))},null,8,["modelValue","label"]),k("p",be,V(C.type[0]),1)])),_:1})])),_:1},8,["label"]),h(d,{class:"is-curved-select"},{default:y((({id:e})=>[h(r,null,{default:y((()=>[h(c,{modelValue:j.reason,"onUpdate:modelValue":s[4]||(s[4]=e=>j.reason=e),attrs:{id:e},options:U.value,placeholder:t.$t("Select_reason"),label:"name","value-prop":"id"},null,8,["modelValue","attrs","options","placeholder"])])),_:2},1024)])),_:1}),h(R,{modelValue:j.start_date,"onUpdate:modelValue":s[6]||(s[6]=e=>j.start_date=e),locale:z($),mode:"date",masks:w.value,"model-config":x,color:"green","trim-weeks":"",popover:{visibility:"click"}},{default:y((({inputValue:e,inputEvents:l})=>[h(d,{label:t.$t("Start_date")},{default:y((()=>[h(r,{icon:"feather:calendar"},{default:y((()=>[h(p,S({value:e},P(l),{onChange:s[5]||(s[5]=e=>q("start_date"))}),null,16,["value"]),k("p",fe,V(C.start_date[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1},8,["modelValue","locale","masks","model-config"]),h(R,{modelValue:j.end_date,"onUpdate:modelValue":s[8]||(s[8]=e=>j.end_date=e),locale:z($),mode:"date",masks:w.value,"model-config":x,color:"green","trim-weeks":"",popover:{visibility:"click"}},{default:y((({inputValue:e,inputEvents:l})=>[h(d,{label:t.$t("End_date")},{default:y((()=>[h(r,{icon:"feather:calendar"},{default:y((()=>[h(p,S({class:"is-primary-focus",value:e,disabled:"permanent"===j.type},P(l),{onChange:s[7]||(s[7]=e=>q("end_date"))}),null,16,["value","disabled"]),k("p",ye,V(C.end_date[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1},8,["modelValue","locale","masks","model-config"]),h(d,{label:t.$t("Source"),required:""},{default:y((()=>[h(r,null,{default:y((()=>[h(D,{modelValue:j.source,"onUpdate:modelValue":s[9]||(s[9]=e=>j.source=e),placeholder:z(_)("Enter_source"),rows:3,onInput:s[10]||(s[10]=e=>q("source"))},null,8,["modelValue","placeholder"]),k("p",he,V(C.source[0]),1)])),_:1})])),_:1},8,["label"])])],40,me)])),action:y((({close:e})=>[h(W,{loading:g.value,form:"withdrawal-form"},null,8,["loading"])])),_:1},8,["open","title"])}}}),$e={class:"columns"},we={class:"column"},xe={class:"table-container"},ke={class:"table is-bordered is-fullwidth"},Ue={class:""},je={class:""},Ce={class:""},Ie={class:""},Me={class:""},Oe={class:""},ze={class:""},Se={class:"columns"},Pe={class:"column"},qe={class:"column"},Re={class:""},De={class:"columns"},We={class:"column"},Ee={class:"column"},Be={class:""},Ye={class:"columns"},Fe={class:"column"},Le={class:"column"},Ne={class:""},He={class:"columns"},Te={class:"column"},Ae={class:"column"},Ge=K(u({__name:"MedicalInspectionFormModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","donation","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1);c("");const s=p({weight:"",height:"",temperature:"",arterial_pressure:"",pulse:"",lymph_nodes:0,liver_spleen:0,skin_mucous_membranes:0,in_lungs:0,heart:0});function u(){a("update:isOpen",!1)}return(a,r)=>{const d=n,c=o,p=i,_=ae,m=X,v=le,$=ee,w=e;return b(),f(w,{open:l.isOpen,size:"big",title:a.$t("Medical_inspection"),actions:"right",onClose:u},{content:y((()=>[k("div",$e,[k("div",we,[k("div",xe,[k("table",ke,[k("tbody",null,[k("tr",null,[k("td",null,[k("p",Ue,V(a.$t("Weight_kg")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[h(d,{modelValue:s.weight,"onUpdate:modelValue":r[0]||(r[0]=e=>s.weight=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:300},null,8,["modelValue"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",je,V(a.$t("Height_sm")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[h(d,{modelValue:s.height,"onUpdate:modelValue":r[1]||(r[1]=e=>s.height=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:300},null,8,["modelValue"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Ce,V(a.$t("Temperature")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[h(d,{modelValue:s.temperature,"onUpdate:modelValue":r[2]||(r[2]=e=>s.temperature=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:50},null,8,["modelValue"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Ie,V(a.$t("Arterial_pressure")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[h(_,{modelValue:s.arterial_pressure,"onUpdate:modelValue":r[3]||(r[3]=e=>s.arterial_pressure=e),modelModifiers:{trim:!0},class:"input",options:{mask:"000 / 000",pattern:/^$|^\d{3}$/},placeholder:"000 / 000"},null,8,["modelValue"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Me,V(a.$t("Pulse_beats_min")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[h(d,{modelValue:s.pulse,"onUpdate:modelValue":r[4]||(r[4]=e=>s.pulse=e),modelModifiers:{trim:!0},class:"text-hover-primary",type:"number",min:10,step:".1",max:100},null,8,["modelValue"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Oe,V(a.$t("Lymph_nodes")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,{raw:""},{default:y((()=>[h(m,{modelValue:s.lymph_nodes,"onUpdate:modelValue":r[5]||(r[5]=e=>s.lymph_nodes=e),value:0,label:a.$t("Not_increased"),color:"primary"},null,8,["modelValue","label"]),h(m,{modelValue:s.lymph_nodes,"onUpdate:modelValue":r[6]||(r[6]=e=>s.lymph_nodes=e),value:1,label:a.$t("Increased"),color:"primary"},null,8,["modelValue","label"])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",ze,V(a.$t("Liver_spleen")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[k("div",Se,[k("div",Pe,[h(m,{modelValue:s.liver_spleen,"onUpdate:modelValue":r[7]||(r[7]=e=>s.liver_spleen=e),value:0,label:a.$t("Not_palpated"),color:"primary"},null,8,["modelValue","label"])]),k("div",qe,[h(m,{modelValue:s.liver_spleen,"onUpdate:modelValue":r[8]||(r[8]=e=>s.liver_spleen=e),value:1,label:a.$t("Increased"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Re,V(a.$t("Skin and visible mucous membranes")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[k("div",De,[k("div",We,[h(m,{modelValue:s.skin_mucous_membranes,"onUpdate:modelValue":r[9]||(r[9]=e=>s.skin_mucous_membranes=e),value:0,label:a.$t("Pure"),color:"primary"},null,8,["modelValue","label"])]),k("div",Ee,[h(m,{modelValue:s.skin_mucous_membranes,"onUpdate:modelValue":r[10]||(r[10]=e=>s.skin_mucous_membranes=e),value:1,label:a.$t("With signs of damage"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Be,V(a.$t("In_lungs")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[k("div",Ye,[k("div",Fe,[h(m,{modelValue:s.in_lungs,"onUpdate:modelValue":r[11]||(r[11]=e=>s.in_lungs=e),value:0,label:a.$t("No_wheezing"),color:"primary"},null,8,["modelValue","label"])]),k("div",Le,[h(m,{modelValue:s.in_lungs,"onUpdate:modelValue":r[12]||(r[12]=e=>s.in_lungs=e),value:1,label:a.$t("Wheezing"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])]),k("tr",null,[k("td",null,[k("p",Ne,V(a.$t("Heart")),1)]),k("td",null,[h(p,null,{default:y((()=>[h(c,null,{default:y((()=>[k("div",He,[k("div",Te,[h(m,{modelValue:s.heart,"onUpdate:modelValue":r[13]||(r[13]=e=>s.heart=e),value:0,label:a.$t("Fine"),color:"primary"},null,8,["modelValue","label"])]),k("div",Ae,[h(m,{modelValue:s.heart,"onUpdate:modelValue":r[14]||(r[14]=e=>s.heart=e),value:1,label:a.$t("Not_fine"),color:"primary"},null,8,["modelValue","label"])])])])),_:1})])),_:1})])])])])])])])])),action:y((({close:e})=>[h($,null,{default:y((()=>[h(v,{type:"button",color:"primary",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("donation")}},{default:y((()=>[g(V(a.$t("For_donation")),1)])),_:2},1032,["disabled","onClick"]),h(v,{type:"button",color:"danger",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("withdrawal")}},{default:y((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-4b5154c7"]]),Je=e=>(I("data-v-0ad59708"),e=e(),M(),e),Ke={class:"has-text-centered is-size-3"},Qe=Je((()=>k("br",null,null,-1))),Xe={class:"columns"},Ze={class:"column"},el={class:"table-container"},ll={class:"table is-bordered"},al={class:""},tl={class:"has-text-centered"},nl={class:"has-text-centered"},sl={class:"has-text-centered"},ol={class:"has-text-centered"},il={class:"has-text-centered"},ul={class:""},rl=Je((()=>k("strong",null,"06.03.2013",-1))),dl={class:""},cl=Je((()=>k("strong",null,"Specialist",-1))),pl={class:""},_l=Je((()=>k("strong",null,"B(III)",-1))),ml={class:""},vl=Je((()=>k("strong",{class:"has-text-primary"},"142",-1))),bl={class:""},fl=Je((()=>k("strong",null,"06.03.2013",-1))),yl={class:""},hl=Je((()=>k("strong",null,"Specialist",-1))),gl={class:""},Vl=Je((()=>k("strong",null,"06.03.2013",-1))),$l={class:""},wl=Je((()=>k("strong",null,"Specialist",-1))),xl={class:""},kl=Je((()=>k("strong",null,"06.03.2013",-1))),Ul={class:""},jl=Je((()=>k("strong",null,"Specialist",-1))),Cl={class:""},Il=Je((()=>k("strong",null,"06.03.2013",-1))),Ml={class:""},Ol=Je((()=>k("strong",null,"Specialist",-1))),zl=K(u({__name:"LaboratoryTestResultsModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","medicalExamination","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1),n=c("");function s(){a("update:isOpen",!1)}return(a,o)=>{const i=le,u=ee,r=e;return b(),f(r,{open:l.isOpen,size:"extra-big",title:n.value,actions:"right",onClose:s},{content:y((()=>[k("h1",Ke,V(a.$t("Laboratory_test_results")),1),Qe,k("div",Xe,[k("div",Ze,[k("div",el,[k("table",ll,[k("thead",al,[k("tr",null,[k("th",tl,V(a.$t("Primary_screening_results")),1),k("th",nl,V(a.$t("Hemotransmission_research_results")),1),k("th",sl,V(a.$t("clinical_biochemical_research_results")),1),k("th",ol,V(a.$t("Serological_research_results")),1),k("th",il,V(a.$t("Immunological_research_results")),1)])]),k("tbody",null,[k("tr",null,[k("td",null,[k("p",ul,[g(V(a.$t("Researched_at"))+": ",1),rl]),k("p",dl,[g(V(a.$t("Researched_by"))+": ",1),cl]),k("p",pl,[g(V(a.$t("Preliminary_blood_type"))+": ",1),_l]),k("p",ml,[g(V(a.$t("Hemoglobin_gl"))+": ",1),vl])]),k("td",null,[k("p",bl,[g(V(a.$t("Researched_at"))+": ",1),fl]),k("p",yl,[g(V(a.$t("Researched_by"))+": ",1),hl])]),k("td",null,[k("p",gl,[g(V(a.$t("Researched_at"))+": ",1),Vl]),k("p",$l,[g(V(a.$t("Researched_by"))+": ",1),wl])]),k("td",null,[k("p",xl,[g(V(a.$t("Researched_at"))+": ",1),kl]),k("p",Ul,[g(V(a.$t("Researched_by"))+": ",1),jl])]),k("td",null,[k("p",Cl,[g(V(a.$t("Researched_at"))+": ",1),Il]),k("p",Ml,[g(V(a.$t("Researched_by"))+": ",1),Ol])])])])])])])])])),action:y((({close:e})=>[h(u,null,{default:y((()=>[h(i,{type:"button",color:"primary",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("medicalExamination")}},{default:y((()=>[g(V(a.$t("For_medical_examination")),1)])),_:2},1032,["disabled","onClick"]),h(i,{type:"button",color:"danger",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("withdrawal")}},{default:y((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-0ad59708"]]),Sl={class:"has-text-centered is-size-3"},Pl=k("br",null,null,-1),ql={class:"columns"},Rl={class:"column"},Dl={class:"is-size-5"},Wl=k("strong",null,"06.03.2013",-1),El={class:"is-size-5"},Bl=k("strong",null,"Specialist",-1),Yl={class:"is-size-5"},Fl=k("strong",null,"B(III)",-1),Ll={class:"is-size-5"},Nl=k("strong",{class:"has-text-primary"},"142",-1),Hl=u({__name:"PrimaryScreeningResultsModal",props:{patientId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","medicalExamination","withdrawal"],setup(l,{emit:a}){q(),R(),r(),d();const t=c(!1),n=c("");function s(){a("update:isOpen",!1)}return(a,o)=>{const i=le,u=ee,r=e;return b(),f(r,{open:l.isOpen,title:n.value,actions:"center",onClose:s},{content:y((()=>[k("h1",Sl,V(a.$t("Primary_screening_results")),1),Pl,k("div",ql,[k("div",Rl,[k("p",Dl,[g(V(a.$t("Researched_at"))+": ",1),Wl]),k("p",El,[g(V(a.$t("Researched_by"))+": ",1),Bl]),k("p",Yl,[g(V(a.$t("Preliminary_blood_type"))+": ",1),Fl]),k("p",Ll,[g(V(a.$t("Hemoglobin_gl"))+": ",1),Nl])])])])),action:y((({close:e})=>[h(u,null,{default:y((()=>[h(i,{type:"button",color:"primary",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("medicalExamination")}},{default:y((()=>[g(V(a.$t("For_medical_examination")),1)])),_:2},1032,["disabled","onClick"]),h(i,{type:"button",color:"danger",outlined:"",disabled:t.value,onClick:()=>{e(),a.$emit("withdrawal")}},{default:y((()=>[g(V(a.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["open","title"])}}}),Tl=["onSubmit"],Al={class:"table is-bordered is-fullwidth"},Gl={class:"has-text-centered"},Jl={class:"has-text-centered"},Kl=B.flatten,Ql=K(u({__name:"MedicalQuestionnaireModal",props:{visitcardId:{default:null},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen","laboratoryResearch","withdrawal"],async setup(t,{emit:n}){let s,u;const p=t;q(),R();const _=r(),{t:m}=d(),v=c(!1),$=m("Medical_questionnaire_before_donation"),w=c([]);async function I(){try{v.value=!0;const e=Kl(w.value.map((e=>e.questions.map((e=>({question_id:e.id,value:e.question_answer}))))));await T(p.visitcardId,{answers:e}),_.success(m("Success"))}catch(e){_.error(e.message)}finally{v.value=!1}}function M(){n("update:isOpen",!1)}return[s,u]=D((()=>async function(){const e=await H(p.visitcardId);w.value=e.result}())),await s,u(),(n,s)=>{const u=Q,r=a,d=o,c=i,p=le,_=l,m=ee,S=e;return b(),f(S,{open:t.isOpen,size:"extra-big",title:z($),actions:"right",onClose:M},{content:y((()=>[k("form",{id:"questionnaire-form",onSubmit:O(I,["prevent"])},[k("table",Al,[(b(!0),x(U,null,j(w.value,((e,l)=>(b(),x(U,{key:e.id},[k("thead",null,[k("tr",null,[k("th",Gl,V(e.name),1),k("th",Jl,V(n.$t("Answer")),1)])]),k("tbody",null,[(b(!0),x(U,null,j(e.questions,((e,a)=>(b(),x("tr",{key:e.id},[k("td",null,V(e.name),1),k("td",null,[h(c,null,{default:y((()=>[h(d,null,{default:y((()=>["text"===e.answer_type?(b(),f(u,{key:0,modelValue:w.value[l].questions[a].question_answer,"onUpdate:modelValue":e=>w.value[l].questions[a].question_answer=e,rows:1},null,8,["modelValue","onUpdate:modelValue"])):C("",!0),"boolean"===e.answer_type?(b(),f(r,{key:1,modelValue:w.value[l].questions[a].question_answer,"onUpdate:modelValue":e=>w.value[l].questions[a].question_answer=e,"true-value":"1","false-value":null,color:"primary",class:"p-0"},null,8,["modelValue","onUpdate:modelValue"])):C("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])],64)))),128))])],40,Tl)])),action:y((({close:e})=>[h(m,null,{default:y((()=>[h(p,{type:"button",color:"warning",disabled:v.value,onClick:()=>{e(),n.$emit("laboratoryResearch")}},{default:y((()=>[g(V(n.$t("Send_for_examination")),1)])),_:2},1032,["disabled","onClick"]),h(p,{type:"button",color:"danger",disabled:v.value,onClick:()=>{e(),n.$emit("withdrawal")}},{default:y((()=>[g(V(n.$t("Withdrawal")),1)])),_:2},1032,["disabled","onClick"]),h(_,{form:"questionnaire-form",loading:v.value},null,8,["loading"])])),_:2},1024)])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-de241a27"]]),Xl={class:"patient-detail-wrapper"},Zl=["onSubmit"],ea={class:"columns mt-5"},la={class:"column"},aa={class:"is-size-5"},ta=(e=>(I("data-v-2b6baaab"),e=e(),M(),e))((()=>k("br",null,null,-1))),na={class:"help has-text-danger"},sa={class:"column"},oa={class:"is-size-5"},ia={class:"column"},ua={class:"is-size-5"},ra={class:"navigation-buttons"},da={class:"buttons is-right"},ca={key:1,class:"mt-5"},pa={class:"box"},_a={class:"is-size-5"},ma={class:"is-size-5"},va={class:"is-size-5"},ba={class:"table is-bordered is-fullwidth"},fa={href:"javascript:;",class:"has-text-primary is-uppercase"},ya={href:"javascript:;",class:"has-text-primary is-uppercase"},ha=K(u({__name:"[id]",async setup(e){var l;let a,n;const s=q();R();const u=r(),{t:m}=d(),f=p({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:"",passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",address:"",avatar:""}),$=p({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[],address:[],avatar:[]}),w=c(!1),U=(null==(l=s.params)?void 0:l.id)||null,j=c([{label:m("Patient_details"),value:"#details",icon:"feather:info"},{label:m("Medical_information"),value:"#medical_information",icon:"feather:file-text"}]),I=c([]),M=c(!1),S=c(!1),P=c(!1),B=c(!1),F=c(!1),L=c(!1),N=c("#details");function H(e){$[e]=""}async function T(){var e,l;try{w.value=!0;await J(U,f);u.success(m("Updated_successfully"))}catch(a){(null==(e=a.response)?void 0:e.data.errors)?Object.assign($,null==(l=a.response)?void 0:l.data.errors):u.error(m("Something_went_wrong"))}finally{w.value=!1}}function K(){M.value=!0}function Q(){S.value=!0}function X(){P.value=!0}function Z(){B.value=!0}function ee(){F.value=!0}function ae(){L.value=!0}function ue(){}return ie().setPageTitle(m("Patient_info")),W({title:E((()=>m("Patient_info")))}),[a,n]=D((()=>async function(){var e;try{const l=await G(U);Object.assign(f,l.result),f.pinfl=null!=(e=f.pinfl)?e:""}catch(l){u.error(l.message)}}())),await a,n(),_((async()=>{const e=await A();I.value=e.result})),(e,l)=>{const a=ne,n=v("Multiselect"),s=o,u=i,r=se,d=oe,c=le,p=Y,_=t,m=te,q=Ql,R=Hl,D=zl,W=Ge,E=Ve,A=_e;return b(),x("div",Xl,[h(m,{selected:N.value,tabs:j.value},{tab:y((({activeValue:t})=>["#details"===t?(b(),x("form",{key:0,onSubmit:O(T,["prevent"])},[k("div",ea,[k("div",la,[k("p",aa,V(e.$t("Personal_Info")),1),h(a,{patient:f,errors:$,onEditing:H},null,8,["patient","errors"]),ta,h(u,{label:e.$t("Category"),required:""},{default:y((()=>[h(s,null,{default:y((()=>[h(n,{modelValue:f.patient_category_id,"onUpdate:modelValue":l[0]||(l[0]=e=>f.patient_category_id=e),options:I.value,placeholder:e.$t("Select_category"),label:"name","value-prop":"id",onChange:l[1]||(l[1]=e=>H("patient_category_id"))},null,8,["modelValue","options","placeholder"]),k("p",na,V($.patient_category_id[0]),1)])),_:1})])),_:1},8,["label"])]),k("div",sa,[k("p",oa,V(e.$t("Passport_info")),1),h(r,{patient:f,errors:$,onEditing:H},null,8,["patient","errors"])]),k("div",ia,[k("p",ua,V(e.$t("Address")),1),h(d,{patient:f,errors:$,onEditing:H},null,8,["patient","errors"])])]),k("div",ra,[k("div",da,[h(c,{type:"submit",color:"primary",bold:"",loading:w.value,disabled:w.value,tabindex:"0"},{default:y((()=>[g(V(e.$t("Save")),1)])),_:1},8,["loading","disabled"])])])],40,Zl)):"#medical_information"===t?(b(),x("div",ca,[k("div",pa,[h(_,{class:"mb-3","justify-content":"space-between"},{default:y((()=>[h(p,null,{default:y((()=>[k("p",_a,V(e.$t("Directed_by"))+": Sombody",1)])),_:1}),h(p,null,{default:y((()=>[k("p",ma,V(e.$t("Personalized_donation"))+": Sombody",1)])),_:1}),h(p,null,{default:y((()=>[k("p",va,V(e.$t("Blood_collect_condition"))+": Sombody",1)])),_:1})])),_:1}),k("table",ba,[k("tbody",null,[k("tr",null,[k("td",null,[k("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:K},V(e.$t("Medical_questionnaire")),1)])]),k("tr",null,[k("td",null,[k("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:Q},V(e.$t("Primary_screening_results")),1)])]),k("tr",null,[k("td",null,[k("a",{href:"javascript:;",class:"has-text-primary is-uppercase",onClick:X},V(e.$t("Laboratory_test_results")),1)])]),k("tr",null,[k("td",null,[k("a",fa,V(e.$t("Infectious_diseases")),1)])]),k("tr",null,[k("td",null,[k("a",ya,V(e.$t("Medical_clearance")),1)])])])])])])):C("",!0)])),_:1},8,["selected","tabs"]),h(q,{"is-open":M.value,"onUpdate:is-open":l[2]||(l[2]=e=>M.value=e),"visitcard-id":f.last_visit.id,onWithdrawal:ee,onLaboratoryResearch:ae},null,8,["is-open","visitcard-id"]),h(R,{"is-open":S.value,"onUpdate:is-open":l[3]||(l[3]=e=>S.value=e),"patient-id":Number(z(U)),onWithdrawal:ee,onMedicalExamination:Z},null,8,["is-open","patient-id"]),h(D,{"is-open":P.value,"onUpdate:is-open":l[4]||(l[4]=e=>P.value=e),"patient-id":Number(z(U)),onWithdrawal:ee,onMedicalExamination:Z},null,8,["is-open","patient-id"]),h(W,{"is-open":B.value,"onUpdate:is-open":l[5]||(l[5]=e=>B.value=e),"patient-id":Number(z(U)),onWithdrawal:ee,onDonation:ue},null,8,["is-open","patient-id"]),h(E,{"is-open":F.value,"onUpdate:is-open":l[6]||(l[6]=e=>F.value=e),"patient-id":Number(z(U))},null,8,["is-open","patient-id"]),h(A,{"is-open":L.value,"onUpdate:is-open":l[7]||(l[7]=e=>L.value=e),visitcard:f.last_visit},null,8,["is-open","visitcard"])])}}}),[["__scopeId","data-v-2b6baaab"]]);export{ha as default};
