import{_ as a,a as e,b as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-03a54f1c.js";import{c as r,d as s,_ as l,a as n,b as i}from"./search-7-dark-81286176.js";import{_ as o}from"./VFlex.vue_vue_type_style_index_0_lang-57370b27.js";import{_}from"./VButtons.vue_vue_type_script_setup_true_lang-fd69cbe3.js";import{_ as u}from"./VButton.vue_vue_type_style_index_0_lang-b78df6f3.js";import{_ as p}from"./VFlexItem.vue_vue_type_style_index_0_lang-a32e2ae4.js";import{_ as d}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-69f615bd.js";import{q as m,E as c,H as g,C as v,x as f,r as y,J as b,af as h,o as j,d as w,k as x,w as k,K as $,m as C,i as V,t as F,e as B,g as I,F as D,l as W,a as O}from"./index-21286bdb.js";import{u as P}from"./viewWrapper-6ae5f61c.js";import{_ as R}from"./RegistrationFilterForm.vue_vue_type_script_setup_true_lang-8cf3c3a8.js";import{u as T}from"./main-16751c88.js";import{j as q}from"./patient-26cab0f6.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VCard.vue_vue_type_script_setup_true_lang-1043f916.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-96021f2c.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-7aff0300.js";import"./VInput.vue_vue_type_script_setup_true_lang-9c010bca.js";import"./VControl-e7b2630d.js";import"./VIMaskInput.vue_vue_type_script_lang-50284b9a.js";import"./lodash-724857a3.js";const E={class:"page-content-inner"},S={class:"columns mt-1"},G={class:"column"},H={class:"columns"},J={class:"column is-12"},K={key:0,class:"is-flex-grow-0",textContent:"#"},L={key:0,class:"flex-list-inner"},M={key:1,class:"flex-list-inner"},N=B("img",{class:"light-image",src:r,alt:""},null,-1),U=B("img",{class:"dark-image",src:s,alt:""},null,-1),Z=m({__name:"index",async setup(r){let s,m;c(),g();const{t:Z}=v(),z=T(),A=f(!1),Q=y({lastname:"",firstname:"",middlename:"",passpordId:""});P().setPageTitle(Z("Registration")),b({title:`${Z("Donation-diverted-register")} - ${z.app.name}`});const X=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),Y=y({page:1}),aa={"#":{format:(a,e,t)=>`${t+1}`,cellClass:"is-flex-grow-0"},name:{label:Z("Fullname"),format:(a,e)=>`${e.first_name} ${e.last_name}`},birth_date:{label:Z("Date-of-birth")},gender:{label:Z("Gender"),format:a=>Z(a)},passport:{label:Z("Passport_series_number"),format:(a,e)=>`${e.passport_series}${e.passport_number}`},withdrawal_end_date:{label:Z("Withdrawal_end_date"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.end_date}},withdrawal_reason:{label:Z("Withdrawal_reason"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.reason}},withdrawal_created_by:{label:Z("Withdrawal_created_by"),format:(a,e)=>{var t;return null==(t=e.withdrawal)?void 0:t.created_by}}};async function ea(a){var e,t;try{Object.assign(Y,a),A.value=!0;const e=await q(a);Object.assign(X,e.result)}catch(r){Object.assign(Q,null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.errors)}finally{A.value=!1}}function ta(a){Q[a]=""}async function ra(){X.data=[]}function sa(){}return f(),[s,m]=h((()=>ea(Y))),await s,m(),(r,s)=>{const m=d,c=p,g=u,v=_,f=o,y=l,b=a,h=n,P=e,T=i,q=t;return j(),w("div",E,[x(f,{"justify-content":"space-between","flex-wrap":"wrap"},{default:k((()=>[x(c,null,{default:k((()=>[x(m,{"with-icons":"",separator:"bullet",items:[{label:$(z).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:r.$t("Registration")},{label:r.$t("Donation-diverted-register"),to:{name:"/app/registration/donation-diverted-register/"}}]},null,8,["items"])])),_:1}),x(c,null,{default:k((()=>[x(v,null,{default:k((()=>[x(g,{outlined:"",rounded:"",color:"info",icon:"feather:printer",onClick:C(sa,["prevent"])},{default:k((()=>[V(F(r.$t("Print")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),B("div",S,[B("div",G,[x(R,{"is-loading":$(A),errors:$(Q),onSearch:ea,onClearForm:ra,onClearError:ta},null,8,["is-loading","errors"])])]),B("div",H,[B("div",J,[x(q,{columns:$(aa),data:$(X).data,limit:$(X).pagination.per_page,total:$(X).pagination.total},{default:k((()=>[x(P,{rounded:"","no-header":!$(A)&&0===$(X).data.length},{"header-column":k((({column:a})=>["#"===a.key?(j(),w("span",K)):I("",!0)])),body:k((()=>[$(A)?(j(),w("div",L,[(j(!0),w(D,null,W($(X).pagination.per_page,(a=>(j(),w("div",{key:a,class:"flex-table-item"},[x(b,null,{default:k((()=>[x(y,{lines:2,"last-line-width":"70%",class:"mx-2"})])),_:1})])))),128))])):I("",!0),0===$(X).data.length?(j(),w("div",M,[x(h,{title:r.$t("No_data"),subtitle:r.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:k((()=>[N,U])),_:1},8,["title","subtitle"])])):I("",!0)])),_:1},8,["no-header"]),$(X).data.length?(j(),O(T,{key:0,"current-page":$(X).pagination.current_page,"onUpdate:current-page":s[0]||(s[0]=a=>$(X).pagination.current_page=a),class:"mt-5","item-per-page":$(X).pagination.per_page,"total-items":$(X).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):I("",!0)])),_:1},8,["columns","data","limit","total"])])])])}}});export{Z as default};
