import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-ac88dda5.js";import{_ as e}from"./SubmitButton.vue_vue_type_script_setup_true_lang-96021f2c.js";import{_ as a}from"./DatePicker.vue_vue_type_script_setup_true_lang-8beaf1b4.js";import{_ as n,a as l}from"./VControl-e7b2630d.js";import{_ as o}from"./VInput.vue_vue_type_script_setup_true_lang-9c010bca.js";import{q as s,H as i,C as u,x as r,a7 as _,r as p,o as d,a as c,w as m,e as g,t as b,k as y,E as h,J as v,y as f,d as j,K as $,F as k,l as V,g as x,U as C,L as D,M as w}from"./index-21286bdb.js";import{_ as O}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as S}from"./VCard.vue_vue_type_script_setup_true_lang-1043f916.js";import{a as U,_ as q,b as B,c as M,d as Y}from"./search-7-dark-81286176.js";import{_ as F}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-69f615bd.js";import{u as I}from"./main-16751c88.js";import{u as L}from"./viewWrapper-6ae5f61c.js";import"./VButton.vue_vue_type_style_index_0_lang-b78df6f3.js";import"./ClientOnly.vue_vue_type_script_lang-52200b90.js";import"./VFlex.vue_vue_type_style_index_0_lang-57370b27.js";const P={class:"table-container"},Q={class:"table is-fullwidth"},T=O(s({__name:"ScrappingFormModal",props:{isOpen:{type:Boolean,default:!1},component:null},emits:["update:isOpen","update:list"],setup(s,{emit:h}){i();const{t:v}=u(),f=r(v("Scrapping_component")),j=r(!1),$=_(new Date,"YYYY-MM-DD"),k=p({batch_number:"",destruction_date:$}),V=p({batch_number:[],destruction_date:[]});function x(){Object.assign(k,{batch_number:"",destruction_date:$}),Object.assign(V,{batch_number:[],destruction_date:[]}),h("update:isOpen",!1)}return(i,u)=>{const r=o,_=n,p=l,h=a,v=e,$=t;return d(),c($,{open:s.isOpen,size:"large",title:f.value,actions:"right",onClose:x},{content:m((()=>[g("div",P,[g("table",Q,[g("tbody",null,[g("tr",null,[g("th",null,b(i.$t("Donation_date")),1),g("td",null,b(s.component.donation_date),1)]),g("tr",null,[g("th",null,b(i.$t("Donation_code")),1),g("td",null,b(s.component.donation_code),1)]),g("tr",null,[g("th",null,b(i.$t("Dose")),1),g("td",null,b(s.component.dose),1)]),g("tr",null,[g("th",null,b(i.$t("Component_name")),1),g("td",null,b(s.component.component_name),1)]),g("tr",null,[g("th",null,b(i.$t("Quantity_ml")),1),g("td",null,b(s.component.quantity),1)]),g("tr",null,[g("th",null,b(i.$t("Batch number")),1),g("td",null,[y(p,null,{default:m((()=>[y(_,null,{default:m((()=>[y(r,{modelValue:k.batch_number,"onUpdate:modelValue":u[0]||(u[0]=t=>k.batch_number=t),value:"satisfactory",color:"primary",label:i.$t("Satisfactory")},null,8,["modelValue","label"])])),_:1})])),_:1})])]),g("tr",null,[g("th",null,b(i.$t("Destruction_date")),1),g("td",null,[y(h,{modelValue:k.destruction_date,"onUpdate:modelValue":u[1]||(u[1]=t=>k.destruction_date=t)},null,8,["modelValue"])])])])])])])),action:m((()=>[y(v,{loading:j.value,type:"button"},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-10203d0f"]]),z=t=>(D("data-v-03ef25e1"),t=t(),w(),t),E={class:"page-content-inner"},H={class:"columns mb-5"},J={class:"column is-narrow"},K={class:"columns"},N={class:"column"},W={class:"table-container"},Z={key:0,class:"flex-list-inner"},A=z((()=>g("img",{class:"light-image",src:M,alt:""},null,-1))),G=z((()=>g("img",{class:"dark-image",src:Y,alt:""},null,-1))),R={key:1,class:"table is-hoverable is-fullwidth"},X={colspan:"6"},tt=["onClick"],et=O(s({__name:"index",setup(t){h();const e=i(),{t:a}=u(),n=I(),l=r(!1),o=L();r(null),o.setPageTitle(a("Scrapping")),v({title:`${a("Components_to_be_scrapped")} - ${n.app.name}`});const s=p({data:[{id:11,donation_date:"10.12.2022",donation_code:"130100123400",component_name:"Эритроцитная масса",dose:"0",quantity:"300",unsuitability_reasons:"Расхождение группы крови"},{id:11,donation_date:"10.12.2022",donation_code:"130100213000",component_name:"Свежезамороженная плазма",dose:"0",quantity:"270",unsuitability_reasons:"Бруцеллез"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),_=p({}),D=r(!1);async function w(){try{l.value=!0}catch(t){e.error(a("Something_went_wrong"))}finally{l.value=!1}}return f(D,(function(t){!1===t&&Object.assign(_,{})})),(t,e)=>{const a=F,o=U,i=q,u=B,r=S,p=T;return d(),j("div",E,[g("div",H,[g("div",J,[y(a,{"with-icons":"",separator:"bullet",items:[{label:$(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:t.$t("Scrapping")},{label:t.$t("Components_to_be_scrapped")}]},null,8,["items"])])]),g("div",K,[g("div",N,[y(r,null,{default:m((()=>[g("div",W,[0===$(s).data.length?(d(),j("div",Z,[y(o,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:m((()=>[A,G])),_:1},8,["title","subtitle"])])):(d(),j("table",R,[g("thead",null,[g("tr",null,[g("th",null,b(t.$t("Donation_date")),1),g("th",null,b(t.$t("Donation_code")),1),g("th",null,b(t.$t("Component_name")),1),g("th",null,b(t.$t("Dose")),1),g("th",null,b(t.$t("Quantity_ml")),1),g("th",null,b(t.$t("Unsuitability_reasons")),1)])]),g("tbody",null,[$(l)?(d(!0),j(k,{key:0},V($(s).pagination.per_page,(t=>(d(),j("tr",{key:t},[g("td",X,[y(i,{lines:2,"last-line-width":"70%"})])])))),128)):(d(!0),j(k,{key:1},V($(s).data,((t,e)=>(d(),j("tr",{key:e},[g("td",null,b(t.donation_date),1),g("td",null,[g("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(_,t),D.value=!0}(t)},b(t.donation_code),9,tt)]),g("td",null,b(t.component_name),1),g("td",null,b(t.dose),1),g("td",null,b(t.quantity),1),g("td",null,b(t.unsuitability_reasons),1)])))),128))])]))]),$(s).data.length?(d(),c(u,{key:0,"current-page":$(s).pagination.current_page,"onUpdate:current-page":e[0]||(e[0]=t=>$(s).pagination.current_page=t),class:"mt-5","item-per-page":$(s).pagination.per_page,"total-items":$(s).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):x("",!0)])),_:1})])]),y(p,{"is-open":$(D),"onUpdate:is-open":e[1]||(e[1]=t=>C(D)?D.value=t:null),component:$(_),"onUpdate:list":w},null,8,["is-open","component"])])}}}),[["__scopeId","data-v-03ef25e1"]]);export{et as default};
