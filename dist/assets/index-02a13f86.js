import{h as a,i as l,a as e,_ as t,b as s}from"./FilterForm.vue_vue_type_script_setup_true_lang-e92ad149.js";import{_ as o}from"./VModal.vue_vue_type_style_index_0_lang-ac88dda5.js";import{_ as i}from"./SubmitButton.vue_vue_type_script_setup_true_lang-96021f2c.js";import{_ as n}from"./VCheckbox.vue_vue_type_style_index_0_lang-d46d394c.js";import{_ as d}from"./VFlex.vue_vue_type_style_index_0_lang-57370b27.js";import{_ as u}from"./DatePicker.vue_vue_type_script_setup_true_lang-8beaf1b4.js";import{_ as r}from"./VFlexItem.vue_vue_type_style_index_0_lang-a32e2ae4.js";import{b as p,_,a as c}from"./VControl-e7b2630d.js";import{_ as m}from"./VInput.vue_vue_type_script_setup_true_lang-9c010bca.js";import{q as v,H as b,C as g,x as f,r as y,y as h,j as V,o as x,a as j,w as U,e as I,t as $,k as z,i as w,$ as O,ag as B,a0 as C,L as F,M as R,J as A,af as k,d as D,K as M,U as P}from"./index-21286bdb.js";import{_ as T}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as q}from"./TableForLaboratories.vue_vue_type_script_setup_true_lang-1b255aa3.js";import{_ as H}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-69f615bd.js";import{u as L}from"./main-16751c88.js";import{u as E}from"./viewWrapper-6ae5f61c.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-736b6c44.js";import"./VRadio.vue_vue_type_style_index_0_lang-136dcf40.js";import"./moment-b3d9eb32.js";import"./VCard.vue_vue_type_script_setup_true_lang-1043f916.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-7aff0300.js";import"./VButton.vue_vue_type_style_index_0_lang-b78df6f3.js";import"./additional-f442439b.js";import"./ClientOnly.vue_vue_type_script_lang-52200b90.js";import"./VFlexTable.vue_vue_type_style_index_0_lang-03a54f1c.js";import"./search-7-dark-81286176.js";const N=a=>(F("data-v-742fe09a"),a=a(),R(),a),S={class:"columns"},J={class:"column"},K={class:"is-size-5 has-text-weight-medium"},W={class:"box"},Z={class:"my-auto mr-3 is-size-6"},G={class:"has-text-weight-bold mr-3"},Q={class:"has-text-weight-bold mr-3"},X=N((()=>I("br",null,null,-1))),Y={class:"is-size-5 has-text-weight-medium"},aa={class:"box mt-5"},la={class:"columns is-multiline"},ea={class:"column is-6"},ta={class:"is-flex"},sa={class:"has-text-danger mr-5"},oa={class:"field"},ia={class:"control"},na=N((()=>I("label",{for:"oab1",class:"radio p-2"},[w("O"),I("sub",null,"αβ"),w("(I)")],-1))),da={class:"control"},ua=N((()=>I("label",{for:"ab2",class:"radio p-2"},[w("A"),I("sub",null,"β"),w("(II)")],-1))),ra={class:"control"},pa=N((()=>I("label",{for:"a2b2",class:"radio p-2"},[w("A"),I("sub",null,"2β"),w("(II)")],-1))),_a={class:"control"},ca=N((()=>I("label",{for:"a2a1b2",class:"radio p-2"},[w("A"),I("sub",null,"2α1β"),w("(II)")],-1))),ma={class:"control"},va=N((()=>I("label",{for:"ba3",class:"radio p-2"},[w("B"),I("sub",null,"α"),w("(III)")],-1))),ba={class:"control"},ga=N((()=>I("label",{for:"ab04",class:"radio p-2"},[w("AB"),I("sub",null,"0"),w("(IV)")],-1))),fa={class:"control"},ya=N((()=>I("label",{for:"a2b04",class:"radio p-2"},[w("A"),I("sub",null,"2"),w("B"),I("sub",null,"0"),w("(IV)")],-1))),ha={class:"control"},Va=N((()=>I("label",{for:"a2ba14",class:"radio p-2"},[w("A"),I("sub",null,"2"),w("B"),I("sub",null,"α1"),w("(IV)")],-1))),xa={class:"control"},ja={for:"not_recognized",class:"radio p-2"},Ua={class:"control"},Ia={for:"panagglutination",class:"radio p-2"},$a={class:"column is-6"},za={class:"is-flex"},wa={class:"has-text-danger mr-5"},Oa={class:"field"},Ba={class:"control"},Ca=N((()=>I("label",{for:"rh+",class:"radio p-2"},"Rh+",-1))),Fa={class:"control"},Ra=N((()=>I("label",{for:"rh-",class:"radio p-2"},"Rh-",-1))),Aa={class:"control"},ka=N((()=>I("label",{for:"du",class:"radio p-2"},[w("D"),I("sup",{class:"is-underlined"},"u")],-1))),Da={class:"control"},Ma=N((()=>I("label",{for:"rh1",class:"radio p-2"},"Rh'",-1))),Pa={class:"control"},Ta=N((()=>I("label",{for:"rh2",class:"radio p-2"},'Rh"',-1))),qa={class:"field"},Ha={for:"note"},La={class:"control"},Ea={class:"column is-6"},Na={class:"has-text-danger mr-5"},Sa={class:"is-flex"},Ja={class:"is-flex is-horizontal is-align-items-center"},Ka=N((()=>I("div",{class:"field-label is-normal"},[I("label",{class:"has-text-danger"},"α 1:")],-1))),Wa={class:"field-body"},Za={class:"field"},Ga={class:"control"},Qa={class:"is-flex is-horizontal is-align-items-center"},Xa=N((()=>I("div",{class:"field-label is-normal"},[I("label",{class:"has-text-danger"},"β 1:")],-1))),Ya={class:"field-body"},al={class:"field"},ll={class:"control"},el={class:"column is-6"},tl={class:"has-text-danger mr-5"},sl=N((()=>I("h5",{class:"ml-3 has-text-danger",for:""},"1:",-1))),ol={class:"control"},il=T(v({__name:"ImmunologicalResearchFormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list","emergency-noticing"],setup(e,{emit:t}){const s=e,v=b(),{t:F}=g(),R=f(F("Immunological_research_results")),A=f(!1),k=y({date_analysis:[]}),D=[{value:1,label:"detected"},{value:2,label:"not_detected"}],M=[{value:1,label:"detected"},{value:2,label:"not_detected"}],P=y({data:{date_analysis:"",blood_group:"",rh_factor:"",note:"",titer_body:"",titer_body_alpha:"",titer_body_beta:"",immune:"",immune_result:"",hemolysis:!1,chilez:!1},required_fields:[]}),T=f(!1);async function q(){var a,e,o,i,n,d;try{A.value=!0,await l(null==(e=null==(a=s.patient)?void 0:a.last_visit)?void 0:e.id,P.data),v.success(F("Data_saved_successfully")),t("update:list"),H()}catch(u){(null==(o=u.response)?void 0:o.data.error)?v.error(null==(i=u.response)?void 0:i.data.error):Object.assign(k,null==(d=null==(n=u.response)?void 0:n.data)?void 0:d.errors)}finally{A.value=!1}}function H(){P.data.date_analysis="",Object.assign(k,{date_analysis:[]}),t("update:isOpen",!1)}return h((()=>{var a,l;return null==(l=null==(a=s.patient)?void 0:a.last_visit)?void 0:l.id}),(async l=>{if(l){const e=await a(l);Object.assign(P,e.result)}})),h([()=>P.data.hemolysis,()=>P.data.chilez],(async a=>{a.includes(!0)?T.value=!0:T.value=!1})),(a,l)=>{const t=p,s=m,v=_,b=c,g=r,f=u,y=d,h=V("Multiselect"),F=n,k=i,T=o;return x(),j(T,{open:e.isOpen,size:"big",title:R.value,actions:"right",onClose:H},{content:U((()=>{var o,i;return[I("div",S,[I("div",J,[I("h5",K,$(a.$t("Donation_code"))+": "+$(null==(i=null==(o=e.patient)?void 0:o.last_visit)?void 0:i.donation_code),1)])]),I("div",W,[z(y,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:U((()=>[z(g,{"flex-basis":"45%"},{default:U((()=>[z(b,{horizontal:""},{default:U((()=>[z(t,{class:"my-auto mr-3 is-size-6"},{default:U((()=>[w($(a.$t("Blood_sampling_date")),1)])),_:1}),z(v,null,{default:U((()=>{var a,l,t;return[z(s,{value:null==(t=null==(l=null==(a=e.patient)?void 0:a.last_visit)?void 0:l.blood_sample)?void 0:t.date,disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),z(g,{"flex-basis":"45%"},{default:U((()=>[z(b,{horizontal:""},{default:U((()=>{var l,o,i;return[z(t,{class:"my-auto mr-3 is-size-6"},{default:U((()=>[w($(a.$t("Blood_samples_taken_date")),1)])),_:1}),z(s,{value:null==(i=null==(o=null==(l=e.patient)?void 0:l.last_visit)?void 0:o.blood_sample)?void 0:i.chemical_date,disabled:""},null,8,["value"])]})),_:1})])),_:1}),z(g,{"flex-basis":"45%"},{default:U((()=>[I("span",Z,$(a.$t("Analysis_date")),1),z(f,{modelValue:P.data.date_analysis,"onUpdate:modelValue":l[0]||(l[0]=a=>P.data.date_analysis=a)},null,8,["modelValue"])])),_:1}),z(g,{"flex-basis":"45%"},{default:U((()=>{var l,t;return[I("h5",null,[I("span",G,$(a.$t("Visit_stage"))+":",1),I("span",null,$(null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.stage),1)])]})),_:1}),z(g,{"flex-basis":"45%"},{default:U((()=>{var l,t,s,o;return[I("h5",null,[I("span",Q,$(a.$t("Preliminary_blood_type"))+":",1),I("span",null,$(null==(o=null==(s=null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.primary_screening_result)?void 0:s.blood_type)?void 0:o.label),1)])]})),_:1})])),_:1})]),X,I("h5",Y,$(a.$t("Analysis_results")),1),I("div",aa,[I("div",la,[I("div",ea,[I("div",ta,[I("h5",sa,$(a.$t("Final_blood_type")),1),I("div",oa,[I("div",ia,[O(I("input",{id:"oab1","onUpdate:modelValue":l[1]||(l[1]=a=>P.data.blood_group=a),type:"radio",value:"oab1"},null,512),[[B,P.data.blood_group]]),na]),I("div",da,[O(I("input",{id:"ab2","onUpdate:modelValue":l[2]||(l[2]=a=>P.data.blood_group=a),type:"radio",value:"ab2"},null,512),[[B,P.data.blood_group]]),ua]),I("div",ra,[O(I("input",{id:"a2b2","onUpdate:modelValue":l[3]||(l[3]=a=>P.data.blood_group=a),type:"radio",value:"a2b2"},null,512),[[B,P.data.blood_group]]),pa]),I("div",_a,[O(I("input",{id:"a2a1b2","onUpdate:modelValue":l[4]||(l[4]=a=>P.data.blood_group=a),type:"radio",value:"a2a1b2"},null,512),[[B,P.data.blood_group]]),ca]),I("div",ma,[O(I("input",{id:"ba3","onUpdate:modelValue":l[5]||(l[5]=a=>P.data.blood_group=a),type:"radio",value:"ba3"},null,512),[[B,P.data.blood_group]]),va]),I("div",ba,[O(I("input",{id:"ab04","onUpdate:modelValue":l[6]||(l[6]=a=>P.data.blood_group=a),type:"radio",value:"ab04"},null,512),[[B,P.data.blood_group]]),ga]),I("div",fa,[O(I("input",{id:"a2b04","onUpdate:modelValue":l[7]||(l[7]=a=>P.data.blood_group=a),type:"radio",value:"a2b04"},null,512),[[B,P.data.blood_group]]),ya]),I("div",ha,[O(I("input",{id:"a2ba14","onUpdate:modelValue":l[8]||(l[8]=a=>P.data.blood_group=a),type:"radio",value:"a2ba14"},null,512),[[B,P.data.blood_group]]),Va]),I("div",xa,[O(I("input",{id:"not_recognized","onUpdate:modelValue":l[9]||(l[9]=a=>P.data.blood_group=a),type:"radio",value:"not_recognized"},null,512),[[B,P.data.blood_group]]),I("label",ja,$(a.$t("Blood_type_is_not_determined")),1)]),I("div",Ua,[O(I("input",{id:"panagglutination","onUpdate:modelValue":l[10]||(l[10]=a=>P.data.blood_group=a),type:"radio",value:"panagglutination"},null,512),[[B,P.data.blood_group]]),I("label",Ia,$(a.$t("Panagglutination")),1)])])])]),I("div",$a,[I("div",za,[I("h5",wa,$(a.$t("Rhesus_affiliation")),1),I("div",Oa,[I("div",Ba,[O(I("input",{id:"rh+","onUpdate:modelValue":l[11]||(l[11]=a=>P.data.rh_factor=a),type:"radio",value:"rh+"},null,512),[[B,P.data.rh_factor]]),Ca]),I("div",Fa,[O(I("input",{id:"rh-","onUpdate:modelValue":l[12]||(l[12]=a=>P.data.rh_factor=a),type:"radio",value:"rh-"},null,512),[[B,P.data.rh_factor]]),Ra]),I("div",Aa,[O(I("input",{id:"du","onUpdate:modelValue":l[13]||(l[13]=a=>P.data.rh_factor=a),type:"radio",value:"du"},null,512),[[B,P.data.rh_factor]]),ka]),I("div",Da,[O(I("input",{id:"rh1","onUpdate:modelValue":l[14]||(l[14]=a=>P.data.rh_factor=a),type:"radio",value:"rh1"},null,512),[[B,P.data.rh_factor]]),Ma]),I("div",Pa,[O(I("input",{id:"rh2","onUpdate:modelValue":l[15]||(l[15]=a=>P.data.rh_factor=a),type:"radio",value:"rh2"},null,512),[[B,P.data.rh_factor]]),Ta])])]),I("div",null,[I("div",qa,[I("label",Ha,$(a.$t("Comment")),1),I("div",La,[O(I("textarea",{id:"note","onUpdate:modelValue":l[16]||(l[16]=a=>P.data.note=a),class:"textarea",rows:3},null,512),[[C,P.data.note]])])])])]),I("div",Ea,[z(b,{horizontal:"",class:"is-align-items-center is-justify-content-end"},{default:U((()=>[I("h5",Na,$(a.$t("Natural_antibodies_titer")),1),z(v,null,{default:U((()=>[z(h,{modelValue:P.data.titer_body,"onUpdate:modelValue":l[17]||(l[17]=a=>P.data.titer_body=a),options:D,label:"label","value-prop":"value",style:{width:"15rem"}},null,8,["modelValue"])])),_:1})])),_:1}),I("div",Sa,[I("div",Ja,[Ka,I("div",Wa,[I("div",Za,[I("p",Ga,[O(I("input",{"onUpdate:modelValue":l[18]||(l[18]=a=>P.data.titer_body_alpha=a),class:"input",type:"text"},null,512),[[C,P.data.titer_body_alpha]])])])])]),I("div",Qa,[Xa,I("div",Ya,[I("div",al,[I("p",ll,[O(I("input",{"onUpdate:modelValue":l[19]||(l[19]=a=>P.data.titer_body_beta=a),class:"input",type:"text"},null,512),[[C,P.data.titer_body_beta]])])])])])])]),I("div",el,[z(b,{horizontal:"",class:"is-align-items-center"},{default:U((()=>[I("h5",tl,$(a.$t("Incomplete_immune_antibodies")),1),z(v,{class:"is-flex"},{default:U((()=>[z(h,{modelValue:P.data.immune,"onUpdate:modelValue":l[20]||(l[20]=a=>P.data.immune=a),options:M,label:"label","value-prop":"value",style:{"min-width":"15rem"}},null,8,["modelValue"])])),_:1}),sl,I("p",ol,[O(I("input",{"onUpdate:modelValue":l[21]||(l[21]=a=>P.data.immune_result=a),class:"input",type:"text",style:{width:"3rem"}},null,512),[[C,P.data.immune_result]])])])),_:1}),z(b,{horizontal:"",class:""},{default:U((()=>[z(v,null,{default:U((()=>[z(F,{modelValue:P.data.chilez,"onUpdate:modelValue":l[22]||(l[22]=a=>P.data.chilez=a),color:"primary",label:a.$t("Hemolysis")},null,8,["modelValue","label"])])),_:1})])),_:1}),z(b,{horizontal:"",class:""},{default:U((()=>[z(v,null,{default:U((()=>[z(F,{modelValue:P.data.hemolysis,"onUpdate:modelValue":l[23]||(l[23]=a=>P.data.hemolysis=a),color:"primary",label:a.$t("Hiles")},null,8,["modelValue","label"])])),_:1})])),_:1})])])])]})),action:U((()=>[z(k,{loading:A.value,onClick:q},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-742fe09a"]]),nl={class:"page-content-inner"},dl={class:"columns mb-3"},ul={class:"column"},rl={class:"columns mt-1"},pl={class:"column"},_l=T(v({__name:"index",async setup(a){let l,o;const{t:i}=g(),n=L(),d=f(!1);E().setPageTitle(i("Immunological-Research-Department")),A({title:`${i("Immunological_research_specimens_list")} - ${n.app.name}`});const u=y({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),r=f(1),p=y({visit_type_id:[],donation_type_id:[],donation_code:[]}),_=y({visit_type_id:"",donation_type_id:null,donation_code:""}),c=f(null),m=f(!1),v=f(!1);async function b(a){var l,t;try{d.value=!0,Object.assign(_,a);const l={...a,page:u.pagination.current_page},t=await e(l);Object.assign(u,t.result)}catch(s){Object.assign(p,null==(t=null==(l=s.response)?void 0:l.data)?void 0:t.errors)}finally{d.value=!1}}function V(a){p[a]=""}async function j(){u.data=[]}function U(a){c.value=a,m.value=!0}return[l,o]=k((()=>b(_))),await l,o(),h(r,(async a=>{a&&await b(_)})),(a,l)=>{const e=H,o=q,i=il,_=s;return x(),D("div",nl,[I("div",dl,[I("div",ul,[z(e,{"with-icons":"",separator:"bullet",items:[{label:M(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:a.$t("Immunological-Research-Department")},{label:a.$t("Immunological_research_specimens_list")}]},null,8,["items"])])]),I("div",rl,[I("div",pl,[z(t,{"is-loading":M(d),errors:M(p),onSearch:b,onClearForm:j,onClearError:V},null,8,["is-loading","errors"])])]),z(o,{"current-page":M(r),"onUpdate:current-page":l[0]||(l[0]=a=>P(r)?r.value=a:null),data:M(u),"is-loading":M(d),onOpenFormModal:U},null,8,["current-page","data","is-loading"]),z(i,{"is-open":M(m),"onUpdate:is-open":l[1]||(l[1]=a=>P(m)?m.value=a:null),patient:M(c),onEmergencyNoticing:l[2]||(l[2]=a=>v.value=!M(v))},null,8,["is-open","patient"]),z(_,{"is-open":M(v),"onUpdate:is-open":l[3]||(l[3]=a=>P(v)?v.value=a:null),patient:M(c)},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-dda47ac9"]]);export{_l as default};
