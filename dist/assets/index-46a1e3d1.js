import{h as a,i as l,a as e,_ as t,b as s}from"./FilterForm.vue_vue_type_script_setup_true_lang-db3067ec.js";import{_ as o}from"./VModal.vue_vue_type_style_index_0_lang-98b95306.js";import{_ as i}from"./SubmitButton.vue_vue_type_script_setup_true_lang-dc9d0236.js";import{_ as n}from"./VCheckbox.vue_vue_type_style_index_0_lang-b85a5492.js";import{_ as d}from"./VFlex.vue_vue_type_style_index_0_lang-5c9a78f5.js";import{_ as u}from"./DatePicker.vue_vue_type_script_setup_true_lang-181de8a9.js";import{_ as r}from"./VFlexItem.vue_vue_type_style_index_0_lang-cfd608a5.js";import{b as p,_,a as c}from"./VControl-90e6c9df.js";import{_ as m}from"./VInput.vue_vue_type_script_setup_true_lang-6aad6843.js";import{q as v,H as b,C as g,x as y,r as f,y as h,j as V,o as x,a as j,w as U,e as I,t as $,k as w,i as z,$ as O,af as B,a0 as C,L as F,M as R,J as A,ag as D,d as k,K as P,U as M}from"./index-202d6ef0.js";import{_ as T}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as H}from"./TableForLaboratories.vue_vue_type_script_setup_true_lang-b8bf7dc9.js";import{_ as L}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-e8162493.js";import{u as N}from"./main-1fdef032.js";import{u as q}from"./viewWrapper-93d6f948.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-e4eeb86d.js";import"./VRadio.vue_vue_type_style_index_0_lang-24615d3d.js";import"./VCard.vue_vue_type_script_setup_true_lang-8d45bf90.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-422ea292.js";import"./VButton.vue_vue_type_style_index_0_lang-8a17f68b.js";import"./additional-b8f03a9c.js";import"./ClientOnly.vue_vue_type_script_lang-3cf31693.js";import"./VFlexTable.vue_vue_type_style_index_0_lang-6eeebdac.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-8916ac45.js";import"./NoDataPlaceholder-50105cc5.js";const E=a=>(F("data-v-14c76ce9"),a=a(),R(),a),S={class:"columns"},J={class:"column"},K={class:"is-size-5 has-text-weight-medium"},W={class:"box"},Z={class:"my-auto mr-3 is-size-6"},G={class:"has-text-weight-bold mr-3"},Q={class:"has-text-weight-bold mr-3"},X=E((()=>I("br",null,null,-1))),Y={class:"is-size-5 has-text-weight-medium"},aa={class:"box mt-5"},la={class:"columns is-multiline"},ea={class:"column is-6"},ta={class:"is-flex"},sa={class:"has-text-danger mr-5"},oa={class:"field"},ia={class:"control"},na=E((()=>I("label",{for:"oab1",class:"radio p-2"},[z("O"),I("sub",null,"αβ"),z("(I)")],-1))),da={class:"control"},ua=E((()=>I("label",{for:"ab2",class:"radio p-2"},[z("A"),I("sub",null,"β"),z("(II)")],-1))),ra={class:"control"},pa=E((()=>I("label",{for:"a2b2",class:"radio p-2"},[z("A"),I("sub",null,"2β"),z("(II)")],-1))),_a={class:"control"},ca=E((()=>I("label",{for:"a2a1b2",class:"radio p-2"},[z("A"),I("sub",null,"2α1β"),z("(II)")],-1))),ma={class:"control"},va=E((()=>I("label",{for:"ba3",class:"radio p-2"},[z("B"),I("sub",null,"α"),z("(III)")],-1))),ba={class:"control"},ga=E((()=>I("label",{for:"ab04",class:"radio p-2"},[z("AB"),I("sub",null,"0"),z("(IV)")],-1))),ya={class:"control"},fa=E((()=>I("label",{for:"a2b04",class:"radio p-2"},[z("A"),I("sub",null,"2"),z("B"),I("sub",null,"0"),z("(IV)")],-1))),ha={class:"control"},Va=E((()=>I("label",{for:"a2ba14",class:"radio p-2"},[z("A"),I("sub",null,"2"),z("B"),I("sub",null,"α1"),z("(IV)")],-1))),xa={class:"control"},ja={for:"not_recognized",class:"radio p-2"},Ua={class:"control"},Ia={for:"panagglutination",class:"radio p-2"},$a={class:"column is-6"},wa={class:"is-flex"},za={class:"has-text-danger mr-5"},Oa={class:"field"},Ba={class:"control"},Ca=E((()=>I("label",{for:"rh+",class:"radio p-2"},"Rh+",-1))),Fa={class:"control"},Ra=E((()=>I("label",{for:"rh-",class:"radio p-2"},"Rh-",-1))),Aa={class:"control"},Da=E((()=>I("label",{for:"du",class:"radio p-2"},[z("D"),I("sup",{class:"is-underlined"},"u")],-1))),ka={class:"control"},Pa=E((()=>I("label",{for:"rh1",class:"radio p-2"},"Rh'",-1))),Ma={class:"control"},Ta=E((()=>I("label",{for:"rh2",class:"radio p-2"},'Rh"',-1))),Ha={class:"field"},La={for:"note"},Na={class:"control"},qa={class:"column is-6"},Ea={class:"has-text-danger mr-5"},Sa={class:"is-flex"},Ja={class:"is-flex is-horizontal is-align-items-center"},Ka=E((()=>I("div",{class:"field-label is-normal"},[I("label",{class:"has-text-danger"},"α 1:")],-1))),Wa={class:"field-body"},Za={class:"field"},Ga={class:"control"},Qa={class:"is-flex is-horizontal is-align-items-center"},Xa=E((()=>I("div",{class:"field-label is-normal"},[I("label",{class:"has-text-danger"},"β 1:")],-1))),Ya={class:"field-body"},al={class:"field"},ll={class:"control"},el={class:"column is-6"},tl={class:"has-text-danger mr-5"},sl=E((()=>I("h5",{class:"ml-3 has-text-danger",for:""},"1:",-1))),ol={class:"control"},il=T(v({__name:"ImmunologicalResearchFormModal",props:{isOpen:{type:Boolean,default:!1},patient:null},emits:["update:isOpen","update:list","emergency-noticing"],setup(e,{emit:t}){const s=e,v=b(),{t:F}=g(),R=y(F("Immunological_research_results")),A=y(!1),D=f({date_analysis:[]}),k=[{value:1,label:"detected"},{value:2,label:"not_detected"}],P=[{value:1,label:"detected"},{value:2,label:"not_detected"}],M=f({data:{date_analysis:"",blood_group:"",rh_factor:"",note:"",titer_body:"",titer_body_alpha:"",titer_body_beta:"",immune:"",immune_result:"",hemolysis:!1,chilez:!1},required_fields:[]}),T=y(!1);async function H(){var a,e,o,i,n,d;try{A.value=!0,await l(null==(e=null==(a=s.patient)?void 0:a.last_visit)?void 0:e.id,M.data),v.success(F("Data_saved_successfully")),t("update:list"),L()}catch(u){(null==(o=u.response)?void 0:o.data.error)?v.error(null==(i=u.response)?void 0:i.data.error):Object.assign(D,null==(d=null==(n=u.response)?void 0:n.data)?void 0:d.errors)}finally{A.value=!1}}function L(){M.data.date_analysis="",Object.assign(D,{date_analysis:[]}),t("update:isOpen",!1)}return h((()=>{var a,l;return null==(l=null==(a=s.patient)?void 0:a.last_visit)?void 0:l.id}),(async l=>{if(l){const e=await a(l);Object.assign(M,e.result)}})),h([()=>M.data.hemolysis,()=>M.data.chilez],(async a=>{a.includes(!0)?T.value=!0:T.value=!1})),(a,l)=>{const t=p,s=m,v=_,b=c,g=r,y=u,f=d,h=V("Multiselect"),F=n,D=i,T=o;return x(),j(T,{open:e.isOpen,size:"big",title:R.value,actions:"right",onClose:L},{content:U((()=>{var o,i;return[I("div",S,[I("div",J,[I("h5",K,$(a.$t("Donation_code"))+": "+$(null==(i=null==(o=e.patient)?void 0:o.last_visit)?void 0:i.donation_code),1)])]),I("div",W,[w(f,{"flex-wrap":"wrap","row-gap":"2rem","justify-content":"space-between"},{default:U((()=>[w(g,{"flex-basis":"45%"},{default:U((()=>[w(b,{horizontal:""},{default:U((()=>[w(t,{class:"my-auto mr-3 is-size-6"},{default:U((()=>[z($(a.$t("Blood_sampling_date")),1)])),_:1}),w(v,null,{default:U((()=>{var a,l,t;return[w(s,{value:null==(t=null==(l=null==(a=e.patient)?void 0:a.last_visit)?void 0:l.blood_sample)?void 0:t.date,disabled:""},null,8,["value"])]})),_:1})])),_:1})])),_:1}),w(g,{"flex-basis":"45%"},{default:U((()=>[w(b,{horizontal:""},{default:U((()=>{var l,o,i;return[w(t,{class:"my-auto mr-3 is-size-6"},{default:U((()=>[z($(a.$t("Blood_samples_taken_date")),1)])),_:1}),w(s,{value:null==(i=null==(o=null==(l=e.patient)?void 0:l.last_visit)?void 0:o.blood_sample)?void 0:i.chemical_date,disabled:""},null,8,["value"])]})),_:1})])),_:1}),w(g,{"flex-basis":"45%"},{default:U((()=>[I("span",Z,$(a.$t("Analysis_date")),1),w(y,{modelValue:M.data.date_analysis,"onUpdate:modelValue":l[0]||(l[0]=a=>M.data.date_analysis=a)},null,8,["modelValue"])])),_:1}),w(g,{"flex-basis":"45%"},{default:U((()=>{var l,t;return[I("h5",null,[I("span",G,$(a.$t("Visit_stage"))+":",1),I("span",null,$(null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.stage),1)])]})),_:1}),w(g,{"flex-basis":"45%"},{default:U((()=>{var l,t,s,o;return[I("h5",null,[I("span",Q,$(a.$t("Preliminary_blood_type"))+":",1),I("span",null,$(null==(o=null==(s=null==(t=null==(l=e.patient)?void 0:l.last_visit)?void 0:t.primary_screening_result)?void 0:s.blood_type)?void 0:o.label),1)])]})),_:1})])),_:1})]),X,I("h5",Y,$(a.$t("Analysis_results")),1),I("div",aa,[I("div",la,[I("div",ea,[I("div",ta,[I("h5",sa,$(a.$t("Final_blood_type")),1),I("div",oa,[I("div",ia,[O(I("input",{id:"oab1","onUpdate:modelValue":l[1]||(l[1]=a=>M.data.blood_group=a),type:"radio",value:"oab1"},null,512),[[B,M.data.blood_group]]),na]),I("div",da,[O(I("input",{id:"ab2","onUpdate:modelValue":l[2]||(l[2]=a=>M.data.blood_group=a),type:"radio",value:"ab2"},null,512),[[B,M.data.blood_group]]),ua]),I("div",ra,[O(I("input",{id:"a2b2","onUpdate:modelValue":l[3]||(l[3]=a=>M.data.blood_group=a),type:"radio",value:"a2b2"},null,512),[[B,M.data.blood_group]]),pa]),I("div",_a,[O(I("input",{id:"a2a1b2","onUpdate:modelValue":l[4]||(l[4]=a=>M.data.blood_group=a),type:"radio",value:"a2a1b2"},null,512),[[B,M.data.blood_group]]),ca]),I("div",ma,[O(I("input",{id:"ba3","onUpdate:modelValue":l[5]||(l[5]=a=>M.data.blood_group=a),type:"radio",value:"ba3"},null,512),[[B,M.data.blood_group]]),va]),I("div",ba,[O(I("input",{id:"ab04","onUpdate:modelValue":l[6]||(l[6]=a=>M.data.blood_group=a),type:"radio",value:"ab04"},null,512),[[B,M.data.blood_group]]),ga]),I("div",ya,[O(I("input",{id:"a2b04","onUpdate:modelValue":l[7]||(l[7]=a=>M.data.blood_group=a),type:"radio",value:"a2b04"},null,512),[[B,M.data.blood_group]]),fa]),I("div",ha,[O(I("input",{id:"a2ba14","onUpdate:modelValue":l[8]||(l[8]=a=>M.data.blood_group=a),type:"radio",value:"a2ba14"},null,512),[[B,M.data.blood_group]]),Va]),I("div",xa,[O(I("input",{id:"not_recognized","onUpdate:modelValue":l[9]||(l[9]=a=>M.data.blood_group=a),type:"radio",value:"not_recognized"},null,512),[[B,M.data.blood_group]]),I("label",ja,$(a.$t("Blood_type_is_not_determined")),1)]),I("div",Ua,[O(I("input",{id:"panagglutination","onUpdate:modelValue":l[10]||(l[10]=a=>M.data.blood_group=a),type:"radio",value:"panagglutination"},null,512),[[B,M.data.blood_group]]),I("label",Ia,$(a.$t("Panagglutination")),1)])])])]),I("div",$a,[I("div",wa,[I("h5",za,$(a.$t("Rhesus_affiliation")),1),I("div",Oa,[I("div",Ba,[O(I("input",{id:"rh+","onUpdate:modelValue":l[11]||(l[11]=a=>M.data.rh_factor=a),type:"radio",value:"rh+"},null,512),[[B,M.data.rh_factor]]),Ca]),I("div",Fa,[O(I("input",{id:"rh-","onUpdate:modelValue":l[12]||(l[12]=a=>M.data.rh_factor=a),type:"radio",value:"rh-"},null,512),[[B,M.data.rh_factor]]),Ra]),I("div",Aa,[O(I("input",{id:"du","onUpdate:modelValue":l[13]||(l[13]=a=>M.data.rh_factor=a),type:"radio",value:"du"},null,512),[[B,M.data.rh_factor]]),Da]),I("div",ka,[O(I("input",{id:"rh1","onUpdate:modelValue":l[14]||(l[14]=a=>M.data.rh_factor=a),type:"radio",value:"rh1"},null,512),[[B,M.data.rh_factor]]),Pa]),I("div",Ma,[O(I("input",{id:"rh2","onUpdate:modelValue":l[15]||(l[15]=a=>M.data.rh_factor=a),type:"radio",value:"rh2"},null,512),[[B,M.data.rh_factor]]),Ta])])]),I("div",null,[I("div",Ha,[I("label",La,$(a.$t("Comment")),1),I("div",Na,[O(I("textarea",{id:"note","onUpdate:modelValue":l[16]||(l[16]=a=>M.data.note=a),class:"textarea",rows:3},null,512),[[C,M.data.note]])])])])]),I("div",qa,[w(b,{horizontal:"",class:"is-align-items-center is-justify-content-end"},{default:U((()=>[I("h5",Ea,$(a.$t("Natural_antibodies_titer")),1),w(v,null,{default:U((()=>[w(h,{modelValue:M.data.titer_body,"onUpdate:modelValue":l[17]||(l[17]=a=>M.data.titer_body=a),options:k,label:"label","value-prop":"value",style:{width:"15rem"}},null,8,["modelValue"])])),_:1})])),_:1}),I("div",Sa,[I("div",Ja,[Ka,I("div",Wa,[I("div",Za,[I("p",Ga,[O(I("input",{"onUpdate:modelValue":l[18]||(l[18]=a=>M.data.titer_body_alpha=a),class:"input",type:"text"},null,512),[[C,M.data.titer_body_alpha]])])])])]),I("div",Qa,[Xa,I("div",Ya,[I("div",al,[I("p",ll,[O(I("input",{"onUpdate:modelValue":l[19]||(l[19]=a=>M.data.titer_body_beta=a),class:"input",type:"text"},null,512),[[C,M.data.titer_body_beta]])])])])])])]),I("div",el,[w(b,{horizontal:"",class:"is-align-items-center"},{default:U((()=>[I("h5",tl,$(a.$t("Incomplete_immune_antibodies")),1),w(v,{class:"is-flex"},{default:U((()=>[w(h,{modelValue:M.data.immune,"onUpdate:modelValue":l[20]||(l[20]=a=>M.data.immune=a),options:P,label:"label","value-prop":"value",style:{"min-width":"15rem"}},null,8,["modelValue"])])),_:1}),sl,I("p",ol,[O(I("input",{"onUpdate:modelValue":l[21]||(l[21]=a=>M.data.immune_result=a),class:"input",type:"text",style:{width:"3rem"}},null,512),[[C,M.data.immune_result]])])])),_:1}),w(b,{horizontal:"",class:""},{default:U((()=>[w(v,null,{default:U((()=>[w(F,{modelValue:M.data.chilez,"onUpdate:modelValue":l[22]||(l[22]=a=>M.data.chilez=a),color:"primary",label:a.$t("Hemolysis")},null,8,["modelValue","label"])])),_:1})])),_:1}),w(b,{horizontal:"",class:""},{default:U((()=>[w(v,null,{default:U((()=>[w(F,{modelValue:M.data.hemolysis,"onUpdate:modelValue":l[23]||(l[23]=a=>M.data.hemolysis=a),color:"primary",label:a.$t("Hiles")},null,8,["modelValue","label"])])),_:1})])),_:1})])])])]})),action:U((()=>[w(D,{loading:A.value,onClick:H},null,8,["loading"])])),_:1},8,["open","title"])}}}),[["__scopeId","data-v-14c76ce9"]]),nl={class:"page-content-inner"},dl={class:"columns mb-3"},ul={class:"column"},rl={class:"columns mt-1"},pl={class:"column"},_l=T(v({__name:"index",async setup(a){let l,o;const{t:i}=g(),n=N(),d=y(!1);q().setPageTitle(i("Immunological-Research-Department")),A({title:`${i("Immunological_research_specimens_list")} - ${n.app.name}`});const u=f({data:[],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),r=y(1),p=f({visit_type_id:[],donation_type_id:[],donation_code:[]}),_=f({visit_type_id:"",donation_type_id:null,donation_code:""}),c=y(null),m=y(!1),v=y(!1);async function b(a){var l,t;try{d.value=!0,Object.assign(_,a);const l={...a,page:u.pagination.current_page},t=await e(l);Object.assign(u,t.result)}catch(s){Object.assign(p,null==(t=null==(l=s.response)?void 0:l.data)?void 0:t.errors)}finally{d.value=!1}}function V(a){p[a]=[]}async function j(){await b(_)}function U(a){c.value=a,m.value=!0}return[l,o]=D((()=>b(_))),await l,o(),h(r,(async a=>{a&&await b(_)})),(a,l)=>{const e=L,o=H,i=il,_=s;return x(),k("div",nl,[I("div",dl,[I("div",ul,[w(e,{"with-icons":"",separator:"bullet",items:[{label:P(n).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:a.$t("Immunological-Research-Department")},{label:a.$t("Immunological_research_specimens_list")}]},null,8,["items"])])]),I("div",rl,[I("div",pl,[w(t,{"is-loading":P(d),errors:P(p),onSearch:b,onClearForm:j,onClearError:V},null,8,["is-loading","errors"])])]),w(o,{"current-page":P(r),"onUpdate:current-page":l[0]||(l[0]=a=>M(r)?r.value=a:null),data:P(u),"is-loading":P(d),onOpenFormModal:U},null,8,["current-page","data","is-loading"]),w(i,{"is-open":P(m),"onUpdate:is-open":l[1]||(l[1]=a=>M(m)?m.value=a:null),patient:P(c),onEmergencyNoticing:l[2]||(l[2]=a=>v.value=!P(v))},null,8,["is-open","patient"]),w(_,{"is-open":P(v),"onUpdate:is-open":l[3]||(l[3]=a=>M(v)?v.value=a:null),patient:P(c)},null,8,["is-open","patient"])])}}}),[["__scopeId","data-v-3909be67"]]);export{_l as default};
