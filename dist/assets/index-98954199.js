import{_ as e}from"./VButton.vue_vue_type_style_index_0_lang-fc4409cd.js";import{_ as t,a as n,b as i}from"./PatientPersonalInfoForm.vue_vue_type_script_setup_true_lang-bc74534f.js";import{_ as o,a as s}from"./VControl-b713a764.js";import{aa as a,q as r,E as l,H as u,C as c,x as d,r as p,A as f,J as m,j as v,o as h,d as y,e as _,K as g,t as b,s as w,m as k,k as S,w as x,g as j,T as C,i as T,f as A,z as V}from"./index-568ad137.js";import{u as $}from"./viewWrapper-feca89b2.js";import{s as L}from"./sleep-fd7a5d8b.js";import{p as P,k as E}from"./patient-33059bc9.js";import"./VPlaceload-33f57994.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./VIMaskInput.vue_vue_type_script_lang-6492e1cb.js";import"./VInput.vue_vue_type_script_setup_true_lang-dccc8f42.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-2a7f6a68.js";import"./additional-f4ff7b7d.js";import"./VRadio.vue_vue_type_style_index_0_lang-96440a75.js";const O=a({"node_modules/.pnpm/vue-scrollto@2.20.0/node_modules/vue-scrollto/vue-scrollto.js"(e,t){var n,i;n=e,i=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=.1,i="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function r(e,t,n){return((o(t,n)*e+s(t,n))*e+a(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+a(t)}function u(e){return e}var c=function(e,t,o,s){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&o===s)return u;for(var a=i?new Float32Array(11):new Array(11),c=0;c<11;++c)a[c]=r(c*n,e,o);function d(t){for(var i=0,s=1;10!==s&&a[s]<=t;++s)i+=n;--s;var u=i+(t-a[s])/(a[s+1]-a[s])*n,c=l(u,e,o);return c>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var s=l(t,n,i);if(0===s)return t;t-=(r(t,n,i)-e)/s}return t}(t,u,e,o):0===c?u:function(e,t,n,i,o){var s,a,l=0;do{(s=r(a=t+(n-t)/2,i,o)-e)>0?n=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}(t,i,i+n,e,o)}return function(e){return 0===e?0:1===e?1:r(d(e),t,s)}},d={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},p=!1;try{var f=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,f)}catch(V){}var m=function(e){return"string"!=typeof e?e:document.querySelector(e)},v=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var o=0;o<t.length;o++)e.addEventListener(t[o],n,!!p&&i)},h=function(e,t,n){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],n)},y=function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},_=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],g={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function b(e){g=t({},g,e)}var w=function(){var t,n,i,o,s,a,r,l,u,p,f,b,w,k,S,x,j,C,T,A,V,$,L,P,E,O,K,q=function(e){l&&(L=e,A=!0)};function D(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function M(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function I(){V=y(n),$=y(t),b&&(S=$.left-V.left+a,C=S-k),w&&(j=$.top-V.top+a,T=j-x)}function z(e){if(A)return Q();E||(E=e),s||I(),O=e-E,K=Math.min(O/i,1),K=P(K),F(n,x+T*K,k+C*K),O<i?window.requestAnimationFrame(z):Q()}function Q(){A||F(n,j,S),E=!1,h(n,_,q),A&&f&&f(L,t),!A&&p&&p(t)}function F(e,t,n){w&&(e.scrollTop=t),b&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(w&&(document.documentElement.scrollTop=t),b&&(document.documentElement.scrollLeft=n))}return function(h,y){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(y)?S=y:"number"==typeof y&&(S.duration=y),!(t=m(h)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+h);if(n=m(S.container||g.container),i=S.hasOwnProperty("duration")?S.duration:g.duration,s=S.hasOwnProperty("lazy")?S.lazy:g.lazy,o=S.easing||g.easing,a=S.hasOwnProperty("offset")?S.offset:g.offset,r=S.hasOwnProperty("force")?!1!==S.force:g.force,l=S.hasOwnProperty("cancelable")?!1!==S.cancelable:g.cancelable,u=S.onStart||g.onStart,p=S.onDone||g.onDone,f=S.onCancel||g.onCancel,b=void 0===S.x?g.x:S.x,w=void 0===S.y?g.y:S.y,"function"==typeof a&&(a=a(t,n)),k=M(n),x=D(n),I(),A=!1,!r){var V="body"===n.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:n.offsetHeight,$=x,E=$+V,O=j-a,K=O+t.offsetHeight;if(O>=$&&K<=E)return void(p&&p(t))}if(u&&u(t),T||C)return"string"==typeof o&&(o=d[o]||d.ease),P=c.apply(c,o),v(n,_,q,{passive:!0}),window.requestAnimationFrame(z),function(){L=null,A=!0};p&&p(t)}},k=w(),S=[];function x(e){var t=function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S[t]}(e);return t||(S.push(t={el:e,binding:{}}),t)}function j(e){var t=x(this).binding;if(t.value){if(e.preventDefault(),"string"==typeof t.value)return k(t.value);k(t.value.el||t.value.element,t.value)}}var C={bind:function(e,t){x(e).binding=t,v(e,"click",j)},unbind:function(e){!function(e){for(var t=0;t<S.length;++t)if(S[t].el===e)return S.splice(t,1),!0}(e),h(e,"click",j)},update:function(e,t){x(e).binding=t}},T={bind:C.bind,unbind:C.unbind,update:C.update,beforeMount:C.bind,unmounted:C.unbind,updated:C.update,scrollTo:k,bindings:S},A=function(e,t){t&&b(t),e.directive("scroll-to",T),(e.config.globalProperties||e.prototype).$scrollTo=T.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=T,window.VueScrollTo.setDefaults=b,window.VueScrollTo.scroller=w,window.Vue.use&&window.Vue.use(A)),T.install=A,T},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n="undefined"!=typeof globalThis?globalThis:n||self)["vue-scrollto"]=i()}})(),K=["onSubmit"],q={class:"stepper-form is-justify-content-center"},D={class:"form-sections"},M={key:0,id:"form-step-0",class:"form-section is-active"},I={class:"form-section-title"},z=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],Q={class:"form-section-inner"},F={class:"help has-text-danger"},H={key:0,id:"form-step-1",class:"form-section is-active"},N={class:"form-section-title"},R=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],U={class:"form-section-inner"},W={key:0,id:"form-step-2",class:"form-section is-active"},B={class:"form-section-title"},G=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:help-circle"},null,-1)],J={class:"form-section-inner"},X={class:"navigation-buttons"},Z={class:"buttons is-right"},Y={class:"form-stepper"},ee={key:0,class:"steps is-vertical is-thin is-short"},te=_("a",{href:"#",class:"steps-marker"},null,-1),ne={class:"steps-content"},ie={class:"step-number"},oe={class:"step-info"},se=_("a",{href:"#",class:"steps-marker"},null,-1),ae={class:"steps-content"},re={class:"step-number"},le={class:"step-info"},ue=_("a",{href:"#",class:"steps-marker"},null,-1),ce={class:"steps-content"},de={class:"step-number"},pe={class:"step-info"},fe={key:1,class:"form-help"},me={key:0,id:"help-section-0",class:"form-help-inner is-active"},ve=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],he=_("h3",null,"General Information",-1),ye=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),_e=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),ge={key:1,id:"help-section-1",class:"form-help-inner is-active"},be=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],we=_("h3",null,"Shipment Owner",-1),ke=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),Se=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),xe={key:2,id:"help-section-2",class:"form-help-inner is-active"},je=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Ce=_("h3",null,"Shipment Taxes",-1),Te=_("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Ae=_("div",{class:"list-wrap"},[_("ul",null,[_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")]),_("li",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),_("span",null,"Some nice list item")])])],-1),Ve=O.__esModule?O.default:O,$e=r({__name:"index",setup(a){const r=l(),O=u(),{scrollTo:$e}=Ve,{t:Le}=c(),Pe=d(0),Ee=d(!1),Oe=d(-1),Ke=$(),qe=p({patient_category_id:null,last_name:"",first_name:"",father_name:"",birth_date:new Date,gender:"male",pinfl:null,passport_series:"",passport_number:"",issued_by:"",when_issued:new Date,region_id:null,district_id:null,address:"",work_study_place:"",email:"",phone_number:"",phone_home:"",phone_work:"",avatar:""}),De=p({patient_category_id:[],last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],pinfl:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Me=d([]);f((async()=>{const e=await P();Me.value=e.result})),Ke.setPageTitle(Le("Registration")),m({title:Le("Register-donors")});const Ie=async()=>{var e;if(2===Pe.value){if(Object.assign(De,{last_name:[],first_name:[],father_name:[],birth_date:[],gender:[],passport_series:[],passport_number:[],issued_by:[],when_issued:[],region_id:[],district_id:[],address:[],work_study_place:[],email:[],phone_number:[],phone_home:[],phone_work:[]}),Ee.value)return;try{Ee.value=!0;const e=await E(qe);O.success("New patient data is successfully stored!"),r.push(`/app/registration/unified-donor-register/${e.id}`)}catch(t){if(Object.assign(De,null==(e=t.response)?void 0:e.data.errors),De.last_name.length||De.first_name.length||De.father_name.length||De.birth_date.length||De.gender.length)return $e("#form-step-0",1e3);if(De.passport_series.length||De.passport_number.length||De.issued_by.length||De.when_issued.length)return $e("#form-step-1",1e3)}finally{Ee.value=!1}}Ee.value=!0,await L(1e3),Pe.value+=1,V((()=>{$e(`#form-step-${Pe.value}`,1e3),Ee.value=!1}))};function ze(e){De[e]=""}return(a,r)=>{const l=v("Multiselect"),u=o,c=s,d=t,p=n,f=i,m=e;return h(),y("form",{onSubmit:k(Ie,["prevent"])},[_("div",q,[_("div",D,[g(Pe)>=0?(h(),y("div",M,[_("h3",I,[_("span",null,b(a.$t("Personal_Info")),1),_("button",{type:"button",class:"help-button",tabindex:"0",onKeydown:r[0]||(r[0]=w(k((e=>0===g(Oe)?Oe.value=-1:Oe.value=0),["prevent"]),["space"])),onClick:r[1]||(r[1]=e=>0===g(Oe)?Oe.value=-1:Oe.value=0)},z,32)]),_("div",Q,[S(c,{label:a.$t("Category"),required:""},{default:x((()=>[S(u,null,{default:x((()=>[S(l,{modelValue:g(qe).patient_category_id,"onUpdate:modelValue":r[2]||(r[2]=e=>g(qe).patient_category_id=e),options:g(Me),placeholder:a.$t("Select_category"),label:"name","value-prop":"id"},null,8,["modelValue","options","placeholder"]),_("p",F,b(g(De).patient_category_id[0]),1)])),_:1})])),_:1},8,["label"]),S(d,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0),S(C,{name:"fade-slow"},{default:x((()=>[g(Pe)>=1?(h(),y("div",H,[_("h3",N,[_("span",null,b(a.$t("Certifying_document")),1),_("button",{type:"button",class:"help-button",onKeydown:r[3]||(r[3]=w(k((e=>1===g(Oe)?Oe.value=-1:Oe.value=1),["prevent"]),["space"])),onClick:r[4]||(r[4]=e=>1===g(Oe)?Oe.value=-1:Oe.value=1)},R,32)]),_("div",U,[S(p,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0)])),_:1}),S(C,{name:"fade-slow"},{default:x((()=>[g(Pe)>=2?(h(),y("div",W,[_("h3",B,[_("span",null,b(a.$t("Address")),1),_("button",{type:"button",class:"help-button",onKeydown:r[5]||(r[5]=w(k((e=>2===g(Oe)?Oe.value=-1:Oe.value=2),["prevent"]),["space"])),onClick:r[6]||(r[6]=e=>2===g(Oe)?Oe.value=-1:Oe.value=2)},G,32)]),_("div",J,[S(f,{patient:g(qe),errors:g(De),onEditing:ze},null,8,["patient","errors"])])])):j("",!0)])),_:1}),_("div",X,[_("div",Z,[S(m,{type:"submit",color:"primary",bold:"",loading:g(Ee),disabled:g(Ee),tabindex:"0"},{default:x((()=>[T(b(2==g(Pe)?a.$t("Save"):a.$t("Continue")),1)])),_:1},8,["loading","disabled"])])])]),_("div",Y,[-1===g(Oe)?(h(),y("ul",ee,[_("li",{id:"step-segment-0",class:A([[0===g(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[7]||(r[7]=w(k((e=>g(Pe)>=0&&g($e)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:r[8]||(r[8]=k((e=>g(Pe)>=0&&g($e)("#form-step-0",800,{offset:-20})),["prevent"]))},[te,_("div",ne,[_("p",ie,b(a.$t("Step"))+" 1",1),_("p",oe,b(a.$t("Personal_Info")),1)])],34),_("li",{id:"step-segment-1",class:A([[1===g(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[9]||(r[9]=w(k((e=>g(Pe)>=1&&g($e)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:r[10]||(r[10]=k((e=>g(Pe)>=1&&g($e)("#form-step-1",800,{offset:-20})),["prevent"]))},[se,_("div",ae,[_("p",re,b(a.$t("Step"))+" 2",1),_("p",le,b(a.$t("Certifying_document")),1)])],34),_("li",{id:"step-segment-2",class:A([[2===g(Pe)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:r[11]||(r[11]=w(k((e=>g(Pe)>=2&&g($e)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:r[12]||(r[12]=k((e=>g(Pe)>=2&&g($e)("#form-step-2",800,{offset:-20})),["prevent"]))},[ue,_("div",ce,[_("p",de,b(a.$t("Step"))+" 3",1),_("p",pe,b(a.$t("Address")),1)])],34)])):(h(),y("div",fe,[0===g(Oe)?(h(),y("div",me,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[13]||(r[13]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[14]||(r[14]=e=>Oe.value=-1)},ve,32),he,ye,_e])):j("",!0),1===g(Oe)?(h(),y("div",ge,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[15]||(r[15]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[16]||(r[16]=e=>Oe.value=-1)},be,32),we,ke,Se])):j("",!0),2===g(Oe)?(h(),y("div",xe,[_("button",{class:"close-help-button",tabindex:"0",onKeydown:r[17]||(r[17]=w(k((e=>Oe.value=-1),["prevent"]),["space"])),onClick:r[18]||(r[18]=e=>Oe.value=-1)},je,32),Ce,Te,Ae])):j("",!0)]))])])],40,K)}}});export{$e as default};
