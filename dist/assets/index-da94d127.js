import{_ as t}from"./ComponentDistributionProcessingCardModal-e4f44005.js";import{_ as e}from"./VCard.vue_vue_type_script_setup_true_lang-31199b72.js";import{a,_ as o,b as n,c as l,d as s}from"./search-7-dark-47707eb8.js";import{_ as i}from"./VCheckbox.vue_vue_type_style_index_0_lang-ac284439.js";import{_ as r}from"./VButtons.vue_vue_type_script_setup_true_lang-58bab3df.js";import{_}from"./VButton.vue_vue_type_style_index_0_lang-43587e05.js";import{_ as d}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-09742679.js";import{q as u,E as p,H as c,C as m,x as g,J as y,r as v,c as h,y as b,o as f,d as j,e as x,k as V,K as $,w as k,i as P,t as w,S as q,F as C,l as F,a as B,g as I,L as O,M as U}from"./index-e3f64991.js";import{u as z}from"./main-7469f747.js";import{u as D}from"./viewWrapper-5fb27d85.js";import{_ as R}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VModal.vue_vue_type_style_index_0_lang-7e83e39e.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-6ac3b45a.js";import"./VControl-786e135c.js";import"./VInput.vue_vue_type_script_setup_true_lang-705097fe.js";import"./additional-14b8c762.js";import"./VFlex.vue_vue_type_style_index_0_lang-71ef6e79.js";import"./VPlaceload-d2cb982c.js";const M=t=>(O("data-v-fb5d26b2"),t=t(),U(),t),S={class:"page-content-inner"},T={class:"columns mb-5"},L={class:"column is-narrow"},A={class:"columns"},E={class:"column"},G={class:"columns"},H={class:"column"},J={class:"table-container"},K={key:0,class:"flex-list-inner"},N=M((()=>x("img",{class:"light-image",src:l,alt:""},null,-1))),W=M((()=>x("img",{class:"dark-image",src:s,alt:""},null,-1))),Y={key:1,class:"table is-hoverable is-fullwidth"},Z={colspan:"3"},Q=R(u({__name:"index",setup(l){p(),c();const{t:s}=m(),u=z(),O=g(!1),U=D();g(null),U.setPageTitle(s("Processing")),y({title:`${s("FFPs-in-storage")} - ${u.app.name}`});const R=v({data:[{id:11,donation_code:"130100123400",donation_date:"10.12.2022",blood_type:"O(I)",visit_type:"Безвозмезные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Донация цельной крови",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:17,donation_code:"130100456500",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Тромбоцитаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:21,donation_code:"130100987300",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Плазмаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),M=v({}),Q=g([]),X=g(!1),tt=v({donation_code:[],donation_type_id:[]}),et=h({get:()=>Q.value.length>0&&Q.value.length===R.data.length,set(t){Q.value=t?R.data.map((t=>t.id)):[]}});async function at(t){var e,a;try{O.value=!0;R.pagination.current_page}catch(o){Object.assign(tt,null==(a=null==(e=o.response)?void 0:e.data)?void 0:a.errors)}finally{O.value=!1}}return b(X,(function(t){!1===t&&Object.assign(M,{})})),(l,s)=>{const p=d,c=_,m=r,g=a,y=i,v=o,h=n,b=e,U=t;return f(),j("div",S,[x("div",T,[x("div",L,[V(p,{"with-icons":"",separator:"bullet",items:[{label:$(u).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Processing")},{label:l.$t("FFPs-in-storage")}]},null,8,["items"])])]),x("div",A,[x("div",E,[V(m,null,{default:k((()=>[V(c,{type:"button",color:"primary",disabled:0===$(Q).length},{default:k((()=>[P(w(l.$t("Generate_cryoprecipitate_series")),1)])),_:1},8,["disabled"]),V(c,{type:"button",color:"primary",disabled:0===$(Q).length},{default:k((()=>[P(w(l.$t("Submit_series_for_processing")),1)])),_:1},8,["disabled"])])),_:1})])]),x("div",G,[x("div",H,[V(b,null,{default:k((()=>[x("div",J,[0===$(R).data.length?(f(),j("div",K,[V(g,{title:l.$t("No_data"),subtitle:l.$t("There_is_no_data_that_match_your_query"),class:"my-6"},{image:k((()=>[N,W])),_:1},8,["title","subtitle"])])):(f(),j("table",Y,[x("thead",null,[x("tr",null,[x("th",null,[V(y,{modelValue:$(et),"onUpdate:modelValue":s[0]||(s[0]=t=>q(et)?et.value=t:null),color:"primary"},null,8,["modelValue"])]),x("th",null,w(l.$t("Donation_date")),1),x("th",null,w(l.$t("Donation_code")),1),x("th",null,w(l.$t("Dose")),1),x("th",null,w(l.$t("Plasma_amount_ml")),1),x("th",null,w(l.$t("Blood_type"))+" && "+w(l.$t("Rh_factor")),1),x("th",null,w(l.$t("Actions")),1)])]),x("tbody",null,[$(O)?(f(!0),j(C,{key:0},F($(R).pagination.per_page,(t=>(f(),j("tr",{key:t},[x("td",Z,[V(v,{lines:2,"last-line-width":"70%"})])])))),128)):(f(!0),j(C,{key:1},F($(R).data,((t,e)=>(f(),j("tr",{key:e},[x("td",null,[V(y,{modelValue:$(Q),"onUpdate:modelValue":s[1]||(s[1]=t=>q(Q)?Q.value=t:null),value:t.id,color:"primary"},null,8,["modelValue","value"])]),x("td",null,w(t.donation_date),1),x("td",null,w(t.donation_code),1),x("td",null,w(t.dose),1),x("td",null,w(t.quantity),1),x("td",null,w(t.blood_type)+" "+w(t.rh_factor),1),x("td",null,[V(c,{type:"button",color:"primary"},{default:k((()=>[P(w(l.$t("To_forwarding")),1)])),_:1})])])))),128))])]))]),$(R).data.length?(f(),B(h,{key:0,"current-page":$(R).pagination.current_page,"onUpdate:current-page":s[2]||(s[2]=t=>$(R).pagination.current_page=t),class:"mt-5","item-per-page":$(R).pagination.per_page,"total-items":$(R).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):I("",!0)])),_:1})])]),V(U,{"is-open":$(X),"onUpdate:is-open":s[3]||(s[3]=t=>q(X)?X.value=t:null),product:$(M),"onUpdate:list":at},null,8,["is-open","product"])])}}}),[["__scopeId","data-v-fb5d26b2"]]);export{Q as default};
