import{_ as t}from"./ComponentDistributionProcessingCardModal-715296c1.js";import{_ as e}from"./VCard.vue_vue_type_script_setup_true_lang-8d45bf90.js";import{_ as a,a as n}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-8916ac45.js";import{_ as o}from"./NoDataPlaceholder-50105cc5.js";import{_ as i}from"./DonationForProcessingFilter.vue_vue_type_script_setup_true_lang-befc21d3.js";import{_ as s}from"./VBreadcrumb.vue_vue_type_style_index_0_lang-e8162493.js";import{q as l,E as r,H as _,C as p,x as d,J as u,r as c,y as m,o as g,d as y,e as v,k as f,K as h,w as b,a as j,t as x,F as k,l as C,g as w,U as V}from"./index-202d6ef0.js";import{u as $}from"./main-1fdef032.js";import{u as O}from"./viewWrapper-93d6f948.js";import{_ as P}from"./_plugin-vue_export-helper-1b428a4d.js";import"./VModal.vue_vue_type_style_index_0_lang-98b95306.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang-dc9d0236.js";import"./VButton.vue_vue_type_style_index_0_lang-8a17f68b.js";import"./VControl-90e6c9df.js";import"./VInput.vue_vue_type_script_setup_true_lang-6aad6843.js";import"./additional-b8f03a9c.js";import"./VFlex.vue_vue_type_style_index_0_lang-5c9a78f5.js";import"./ClearButton.vue_vue_type_script_setup_true_lang-422ea292.js";const D={class:"page-content-inner"},F={class:"columns mb-5"},I={class:"column is-narrow"},q={class:"columns"},B={class:"column"},U={class:"columns"},z={class:"column"},R={class:"table-container"},E={key:1,class:"table is-hoverable is-fullwidth"},M={colspan:"3"},S=["onClick"],T=P(l({__name:"index",setup(l){r(),_();const{t:P}=p(),T=$(),H=d(!1),J=O();d(null),J.setPageTitle(P("Processing")),u({title:`${P("Component-distribution-donations")} - ${T.app.name}`});const K=c({data:[{id:11,donation_code:"130100123400",donation_date:"10.12.2022",blood_type:"O(I)",visit_type:"Безвозмезные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Донация цельной крови",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:17,donation_code:"130100456500",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Тромбоцитаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"},{id:21,donation_code:"130100987300",donation_date:"18.12.2022",blood_type:"O(I)",visit_type:"Платные донации",rh_factor:"Rh+",component_name:"Эритроцитная масса",donation_type:"Плазмаферез",dose:"0",quantity:"340",come_from:"Республиканский центр крови",personalized_donation:"Николай Резанов",expiry_date:"01.03.2023"}],pagination:{total:10,count:10,per_page:10,current_page:1,total_pages:1}}),L=c({}),N=d(!1),W=c({donation_code:"",donation_type_id:"",page:1}),Z=c({donation_code:[],donation_type_id:[]});async function A(t){var e,a;try{H.value=!0,Object.assign(W,t)}catch(n){Object.assign(Z,null==(a=null==(e=n.response)?void 0:e.data)?void 0:a.errors)}finally{H.value=!1}}async function G(){await A(W)}return m(N,(function(t){!1===t&&Object.assign(L,{})})),m((()=>K.pagination.current_page),(async t=>{t&&(W.page=t,await A(W))})),(l,r)=>{const _=s,p=i,d=o,u=a,c=n,m=e,$=t;return g(),y("div",D,[v("div",F,[v("div",I,[f(_,{"with-icons":"",separator:"bullet",items:[{label:h(T).app.name,hideLabel:!0,icon:"feather:home",to:{name:"/app/dashboard"}},{label:l.$t("Processing")},{label:l.$t("Component-distribution-donations")}]},null,8,["items"])])]),v("div",q,[v("div",B,[f(p,{"is-loading":h(H),onSearch:A,onClearForm:G},null,8,["is-loading"])])]),v("div",U,[v("div",z,[f(m,null,{default:b((()=>[v("div",R,[0===h(K).data.length?(g(),j(d,{key:0})):(g(),y("table",E,[v("thead",null,[v("tr",null,[v("th",null,x(l.$t("Donation_code")),1),v("th",null,x(l.$t("Donation_date")),1),v("th",null,x(l.$t("Donation_type")),1)])]),v("tbody",null,[h(H)?(g(!0),y(k,{key:0},C(h(K).pagination.per_page,(t=>(g(),y("tr",{key:t},[v("td",M,[f(u,{lines:2,"last-line-width":"70%"})])])))),128)):(g(!0),y(k,{key:1},C(h(K).data,((t,e)=>(g(),y("tr",{key:e},[v("td",null,[v("a",{href:"javascript:;",class:"has-text-primary",onClick:e=>function(t){Object.assign(L,t),N.value=!0}(t)},x(t.donation_code),9,S)]),v("td",null,x(t.donation_date),1),v("td",null,x(t.donation_type),1)])))),128))])]))]),h(K).data.length?(g(),j(c,{key:0,"current-page":h(K).pagination.current_page,"onUpdate:current-page":r[0]||(r[0]=t=>h(K).pagination.current_page=t),class:"mt-5","item-per-page":h(K).pagination.per_page,"total-items":h(K).pagination.total,"no-router":""},null,8,["current-page","item-per-page","total-items"])):w("",!0)])),_:1})])]),f($,{"is-open":h(N),"onUpdate:is-open":r[1]||(r[1]=t=>V(N)?N.value=t:null),product:h(L),"onUpdate:list":A},null,8,["is-open","product"])])}}}),[["__scopeId","data-v-5daaccdc"]]);export{T as default};
